/*! For license information please see main.28f71e7b.js.LICENSE.txt */
!function(){var e={888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},v={};function p(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(d,e)&&(h.test(e)?v[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case I:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Ee=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function _e(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Ce(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ae=!1;function De(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Te(e,t,n)}finally{Ae=!1,(null!==Se||null!==Ee)&&(Ne(),Ce())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var je={};Object.defineProperty(je,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(le){Pe=!1}function Re(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Le=null,Fe=!1,Ve=null,ze={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Le=null,Re.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Qe(e):null}function Qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qe(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Et,It,_t=!1,Ct=[],Tt=null,Nt=null,At=null,Dt=new Map,Ot=new Map,Pt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void It(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function zt(){_t=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==At&&Ft(At)&&(At=null),Dt.forEach(Vt),Ot.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Ct.length){Bt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Dt.forEach(t),Ot.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var qt=k.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Qt(e,t,n,r){var i=bt,a=qt.transition;qt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,qt.transition=a}}function Ht(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Dt.set(a,Mt(Dt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function Yt(e,t,n,r){if(Wt=null,null!==(e=gi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),hn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=an(dn),pn=an(L({},dn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(gn),kn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function In(){return En}var _n=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(_n),Tn=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),An=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Dn),Pn=[9,13,27,32],jn=l&&"CompositionEvent"in window,Rn=null;l&&"documentMode"in document&&(Rn=document.documentMode);var Mn=l&&"TextEvent"in window&&!Rn,Ln=l&&(!jn||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Vn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){_e(r),0<(t=Qr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Hn=null;function Wn(e){Fr(e,0)}function Yn(e){if(H(ki(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Qn&&(Qn.detachEvent("onpropertychange",nr),Hn=Qn=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Kn(t,Hn,e,we(e)),De(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==W(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Qr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Ir(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var _r=Ir("animationend"),Cr=Ir("animationiteration"),Tr=Ir("animationstart"),Nr=Ir("transitionend"),Ar=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Ar.set(e,t),s(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var jr=Dr[Pr];Or(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Or(_r,"onAnimationEnd"),Or(Cr,"onAnimationIteration"),Or(Tr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Le;Me=!1,Le=null,Fe||(Fe=!0,Ve=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Qt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}De((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Cn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case _r:case Cr:case Tr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,v=r;null!==v;){var p=(d=v).stateNode;if(5===d.tag&&null!==p&&(d=p,null!==h&&(null!=(p=Oe(v,h))&&l.push(Kr(v,p,d)))),f)break;v=v.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[vi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=vn,p="onMouseLeave",h="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,p="onPointerLeave",h="onPointerEnter",v="pointer"),f=null==s?u:ki(s),d=null==c?u:ki(c),(u=new l(p,v+"leave",s,n,i)).target=f,u.relatedTarget=d,p=null,gi(i)===r&&((l=new l(h,v+"enter",c,n,i)).target=d,l.relatedTarget=f,p=l),f=p,s&&c)e:{for(h=c,v=0,d=l=s;d;d=Hr(d))v++;for(d=0,p=h;p;p=Hr(p))d++;for(;0<v-d;)l=Hr(l),v--;for(;0<d-v;)h=Hr(h),d--;for(;v--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Wr(o,u,s,l,!1),null!==c&&null!==f&&Wr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Xn;else if(Gn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?ki(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":kr(o,n,i)}var g;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(g=en()):(Jt="value"in($t=i)?$t.value:$t.textContent,Un=!0)),0<(y=Qr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:y}),g?b.data=g:null!==(g=Bn(n))&&(b.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!jn&&zn(e,t)?(e=en(),Zt=Jt=$t=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Qr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Oe(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Oe(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,vi="__reactContainer$"+fi,pi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var xi=[],Si=-1;function Ei(e){return{current:e}}function Ii(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function _i(e,t){Si++,xi[Si]=e.current,e.current=t}var Ci={},Ti=Ei(Ci),Ni=Ei(!1),Ai=Ci;function Di(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ii(Ni),Ii(Ti)}function ji(e,t,n){if(Ti.current!==Ci)throw Error(a(168));_i(Ti,t),_i(Ni,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=Ti.current,_i(Ti,e),_i(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ri(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ti),_i(Ti,e)):Ii(Ni),_i(Ni,n)}var Fi=null,Vi=!1,zi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!zi&&null!==Fi){zi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Ze,Ui),i}finally{bt=t,zi=!1}}return null}var qi=[],Gi=0,Ki=null,Qi=0,Hi=[],Wi=0,Yi=null,Xi=1,$i="";function Ji(e,t){qi[Gi++]=Qi,qi[Gi++]=Ki,Ki=e,Qi=t}function Zi(e,t,n){Hi[Wi++]=Xi,Hi[Wi++]=$i,Hi[Wi++]=Yi,Yi=e;var r=Xi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Xi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Qi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Hi[--Wi],Hi[Wi]=null,$i=Hi[--Wi],Hi[Wi]=null,Xi=Hi[--Wi],Hi[Wi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function va(e){null===aa?aa=[e]:aa.push(e)}var pa=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ei(null),ga=null,ba=null,ka=null;function wa(){ka=ba=ga=null}function xa(e){var t=ya.current;Ii(ya),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ka=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ku=!0),e.firstContext=null)}function Ia(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===ga)throw Error(a(308));ba=e,ga.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var _a=null;function Ca(e){null===_a?_a=[e]:_a.push(e)}function Ta(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ja(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function La(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var v=e,p=u;switch(h=t,d=n,p.tag){case 1:if("function"===typeof(v=p.payload)){f=v.call(d,f,h);break e}f=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(h="function"===typeof(v=p.payload)?v.call(d,f,h):v)||void 0===h)break e;f=L({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va=(new r.Component).refs;function za(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ja(e,a,i))&&(rc(t,e,i,r),Ra(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=ja(e,i,r))&&(rc(t,e,r,n),Ra(t,e,r))}};function Ua(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ia(a):(i=Oi(t)?Ai:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Va,Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ia(a):(a=Oi(t)?Ai:Ti.current,i.context=Di(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(za(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),La(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Va&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=jc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Qa(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Qa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Qa(e,null,t),n.return=e,n;case x:return(t=Vc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function v(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return v(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function p(i,a,u,s){for(var c=null,l=null,f=a,p=a=0,m=null;null!==f&&p<u.length;p++){f.index>p?(m=f,f=null):m=f.sibling;var y=d(i,f,u[p],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,p),null===l?c=y:l.sibling=y,l=y,f=m}if(p===u.length)return n(i,f),ia&&Ji(i,p),c;if(null===f){for(;p<u.length;p++)null!==(f=h(i,u[p],s))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,p),c}for(f=r(i,f);p<u.length;p++)null!==(m=v(f,i,p,u[p],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?p:m.key),a=o(m,a,p),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,p),c}function m(i,u,s,c){var l=R(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,p=u,m=u=0,y=null,g=s.next();null!==p&&!g.done;m++,g=s.next()){p.index>m?(y=p,p=null):y=p.sibling;var b=d(i,p,g.value,c);if(null===b){null===p&&(p=y);break}e&&p&&null===b.alternate&&t(i,p),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,p=y}if(g.done)return n(i,p),ia&&Ji(i,m),l;if(null===p){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(p=r(i,p);!g.done;m++,g=s.next())null!==(g=v(p,i,m,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Qa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Mc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Rc(o.type,o.key,o.props,null,r.mode,s)).ref=Qa(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vc(o,r.mode,s)).return=r,r=a}return u(r);case O:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return p(r,a,o,s);if(R(o))return m(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Xa=Ya(!0),$a=Ya(!1),Ja={},Za=Ei(Ja),eo=Ei(Ja),to=Ei(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(_i(to,t),_i(eo,e),_i(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Za),_i(Za,t)}function io(){Ii(Za),Ii(eo),Ii(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(_i(eo,e),_i(Za,n))}function oo(e){eo.current===e&&(Ii(Za),Ii(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,ho=k.ReactCurrentBatchConfig,vo=0,po=null,mo=null,yo=null,go=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(vo=o,po=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(bo)}if(fo.current=ou,t=null!==mo&&null!==mo.next,vo=0,yo=mo=po=null,go=!1,t)throw Error(a(300));return e}function Io(){var e=0!==ko;return ko=0,e}function _o(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?po.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=po.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?po.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?po.memoizedState=yo=e:yo=yo.next=e}return yo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((vo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,po.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(ku=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,po.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(ku=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Oo(e,t){var n=po,r=Co(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,ku=!0),r=r.queue,Go(Ro.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Vo(9,jo.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&vo)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Lo(e)}function Ro(e,t,n){return n((function(){Mo(t)&&Lo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Lo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=_o();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,po,e),[t.memoizedState,e]}function Vo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=po.updateQueue)?(t={lastEffect:null,stores:null},po.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zo(){return Co().memoizedState}function Bo(e,t,n,r){var i=_o();po.flags|=e,i.memoizedState=Vo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=Vo(t,n,a,r))}po.flags|=e,i.memoizedState=Vo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Go(e,t){return Uo(2048,8,e,t)}function Ko(e,t){return Uo(4,2,e,t)}function Qo(e,t){return Uo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Ho.bind(null,t,e),n)}function Yo(){}function Xo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,ku=!0),e.memoizedState=n):(ur(n,t)||(n=pt(),po.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{bt=n,ho.transition=r}}function eu(){return Co().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ta(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ca(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ta(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===po||null!==t&&t===po}function iu(e,t){bo=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ia,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ia,useCallback:function(e,t){return _o().memoizedState=[e,void 0===t?null:t],e},useContext:Ia,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=_o();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_o();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,po,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_o().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return _o().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),_o().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=po,i=_o();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&vo)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Ro.bind(null,r,o,e),[e]),r.flags|=2048,Vo(9,jo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=_o(),t=As.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Go,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:$o,useReducer:No,useRef:zo,useState:function(){return No(To)},useDebugValue:Yo,useDeferredValue:function(e){return Jo(Co(),mo.memoizedState,e)},useTransition:function(){return[No(To)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ia,useCallback:Xo,useContext:Ia,useEffect:Go,useImperativeHandle:Wo,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:$o,useReducer:Ao,useRef:zo,useState:function(){return Ao(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ao(To)[0],Co().memoizedState]},useMutableSource:Do,useSyncExternalStore:Oo,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function vu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Qs=r),hu(0,t)},n}function pu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Hs?Hs=new Set([this]):Hs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,ja(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bu=k.ReactCurrentOwner,ku=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Xa(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=Io(),null===e||ku?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=jc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(ku=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(ku=!0)}}return Cu(e,t,n,r,i)}function Iu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_i(js,Ps),Ps|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_i(js,Ps),Ps|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,_i(js,Ps),Ps|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,_i(js,Ps),Ps|=r;return wu(e,t,i,n),t.child}function _u(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Oi(n)?Ai:Ti.current;return a=Di(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=Io(),null===e||ku?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Tu(e,t,n,r,i){if(Oi(n)){var a=!0;Mi(t)}else a=!1;if(Ea(t,i),null===t.stateNode)Gu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ia(c):c=Di(t,c=Oi(n)?Ai:Ti.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ga(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,La(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(za(t,n,l,r),s=t.memoizedState),(u=Aa||Ua(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ia(s):s=Di(t,s=Oi(n)?Ai:Ti.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ga(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,La(t,r,o,i);var v=t.memoizedState;u!==f||h!==v||Ni.current||Aa?("function"===typeof d&&(za(t,n,d,r),v=t.memoizedState),(c=Aa||Ua(t,n,c,r,h,v,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,v,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,v,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){_u(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),Ku(e,t,a);r=t.stateNode,bu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?ji(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ji(0,t.context,!1),ro(e,t.containerInfo)}function Du(e,t,n,r,i){return da(),va(i),t.flags|=256,wu(e,t,n,r),t.child}var Ou,Pu,ju,Ru,Mu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),_i(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Mc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Mu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,zu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Mu,o);if(0===(1&t.mode))return zu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,zu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),ku||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),zu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[Wi++]=Xi,Hi[Wi++]=$i,Hi[Wi++]=Yi,Xi=e.id,$i=e.overflow,Yi=t),t=Vu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=jc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=jc(r,u):(u=Mc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Mu,i}return e=(u=e.child).sibling,i=jc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zu(e,t,n,r){return null!==r&&va(r),Xa(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function Uu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_i(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uu(t,!0,n,null,a);break;case"together":Uu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hu(t),null;case 1:case 17:return Oi(t.type)&&Pi(),Hu(t),null;case 3:return r=t.stateNode,io(),Ii(Ni),Ii(Ti),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Pu(e,t),Hu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)ju(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Hu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Vr("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Ou(e,t,!1,!1),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Vr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hu(t),null;case 6:if(e&&null!=t.stateNode)Ru(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Hu(t),null;case 13:if(Ii(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Rs&&(Rs=3):mc())),null!==t.updateQueue&&(t.flags|=4),Hu(t),null);case 4:return io(),Pu(e,t),null===e&&Ur(t.stateNode.containerInfo),Hu(t),null;case 10:return xa(t.type._context),Hu(t),null;case 19:if(Ii(uo),null===(o=t.memoizedState))return Hu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Qu(o,!1);else{if(0!==Rs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Qu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _i(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qs&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Qu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Hu(t),null}else 2*$e()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Qu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,_i(uo,r?1&n|2:1&n),t):(Hu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ps)&&(Hu(t),6&t.subtreeFlags&&(t.flags|=8192)):Hu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ii(Ni),Ii(Ti),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ii(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ou=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(){},ju=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Vr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ru=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xu=!1,$u=!1,Ju="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ic(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ic(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[pi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)vs(e,t,n),n=n.sibling}function vs(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Ut(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!$u&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ic(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,ds(e,t,n),$u=r):ds(e,t,n);break;default:ds(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ju),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));vs(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ic(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ic(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ic(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ic(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):b(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;null!=v?ne(i,!!o.multiple,v,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ic(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ic(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){Ic(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Us=$e())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,ms(t,e),$u=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(v=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var p=d.stateNode;if("function"===typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){Ic(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==v?(v.return=d,Zu=v):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=pe("display",u))}catch(m){Ic(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ic(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&ps(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ic(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bs(e,t,n){Zu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Xu;var c=$u;if(Xu=o,($u=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?Ss(i):null!==s?(s.return=o,Zu=s):Ss(i);for(;null!==a;)Zu=a,ks(a,t,n),a=a.sibling;Zu=i,Xu=u,$u=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):ws(e)}}function ws(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&as(t)}catch(d){Ic(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function Ss(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ic(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ic(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ic(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ic(t,o,s)}}}catch(s){Ic(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Es,Is=Math.ceil,_s=k.ReactCurrentDispatcher,Cs=k.ReactCurrentOwner,Ts=k.ReactCurrentBatchConfig,Ns=0,As=null,Ds=null,Os=0,Ps=0,js=Ei(0),Rs=0,Ms=null,Ls=0,Fs=0,Vs=0,zs=null,Bs=null,Us=0,qs=1/0,Gs=null,Ks=!1,Qs=null,Hs=null,Ws=!1,Ys=null,Xs=0,$s=0,Js=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?$e():-1!==Zs?Zs:Zs=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Os?Os&-Os:null!==pa.transition?(0===ec&&(ec=pt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<$s)throw $s=0,Js=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(Fs|=n),4===Rs&&sc(e,Os)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=$e()+500,Vi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Vi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&Ui()})),n=null;else{switch(kt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=pc();for(As===e&&Os===t||(Gs=null,qs=$e()+500,dc(e,t));;)try{bc();break}catch(s){vc(e,s)}wa(),_s.current=o,Ns=i,null!==Ds?t=0:(As=null,Os=0,t=Rs)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ms,dc(e,0),sc(e,r),ic(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=vt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ms,dc(e,0),sc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Gs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Us+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Gs),t);break}xc(e,Bs,Gs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Gs),r);break}xc(e,Bs,Gs);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Vs,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));Sc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ms,dc(e,0),sc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Gs),ic(e,$e()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=$e()+500,Vi&&Ui())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&Sc();var t=Ns;Ns|=1;var n=Ts.transition,r=bt;try{if(Ts.transition=null,bt=1,e)return e()}finally{bt=r,Ts.transition=n,0===(6&(Ns=t))&&Ui()}}function hc(){Ps=js.current,Ii(js)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ii(Ni),Ii(Ti),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ii(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ds=e=jc(e.current,null),Os=Ps=t,Rs=0,Ms=null,Vs=Fs=Ls=0,Bs=zs=null,null!==_a){for(t=0;t<_a.length;t++)if(null!==(r=(n=_a[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}_a=null}return e}function vc(e,t){for(;;){var n=Ds;try{if(wa(),fo.current=ou,go){for(var r=po.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(vo=0,yo=mo=po=null,bo=!1,ko=0,Cs.current=null,null===n||null===n.return){Rs=1,Ms=t,Ds=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=yu(u);if(null!==v){v.flags&=-257,gu(v,u,s,0,t),1&v.mode&&mu(o,l,t),c=l;var p=(t=v).updateQueue;if(null===p){var m=new Set;m.add(c),t.updateQueue=m}else p.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),va(lu(c,s));break e}}o=c=lu(c,s),4!==Rs&&(Rs=2),null===zs?zs=[o]:zs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(0,c,t));break e;case 1:s=c;var g=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hs||!Hs.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(k){t=k,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=ou,null===e?ou:e}function mc(){0!==Rs&&3!==Rs&&2!==Rs||(Rs=4),null===As||0===(268435455&Ls)&&0===(268435455&Fs)||sc(As,Os)}function yc(e,t){var n=Ns;Ns|=2;var r=pc();for(As===e&&Os===t||(Gs=null,dc(e,t));;)try{gc();break}catch(i){vc(e,i)}if(wa(),Ns=n,_s.current=r,null!==Ds)throw Error(a(261));return As=null,Os=0,Rs}function gc(){for(;null!==Ds;)kc(Ds)}function bc(){for(;null!==Ds&&!Ye();)kc(Ds)}function kc(e){var t=Es(e.alternate,e,Ps);e.memoizedProps=e.pendingProps,null===t?wc(e):Ds=t,Cs.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wu(n,t,Ps)))return void(Ds=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Rs=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Rs&&(Rs=5)}function xc(e,t,n){var r=bt,i=Ts.transition;try{Ts.transition=null,bt=1,function(e,t,n,r){do{Sc()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ds=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Ac(tt,(function(){return Sc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=bt;bt=1;var s=Ns;Ns|=4,Cs.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var v;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(v=h.firstChild);)d=h,h=v;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(v=h.nextSibling))break;d=(h=d).parentNode}h=v}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var m=p.memoizedProps,y=p.memoizedState,g=t.stateNode,b=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(a(163))}}catch(w){Ic(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}p=ns,ns=!1}(e,n),ys(n,e),vr(ti),Gt=!!ei,ti=ei=null,e.current=n,bs(n,e,i),Xe(),Ns=s,bt=u,Ts.transition=o}else e.current=n;if(Ws&&(Ws=!1,Ys=e,Xs=i),o=e.pendingLanes,0===o&&(Hs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Qs,Qs=null,e;0!==(1&Xs)&&0!==e.tag&&Sc(),o=e.pendingLanes,0!==(1&o)?e===Js?$s++:($s=0,Js=e):$s=0,Ui()}(e,t,n,r)}finally{Ts.transition=i,bt=r}return null}function Sc(){if(null!==Ys){var e=kt(Xs),t=Ts.transition,n=bt;try{if(Ts.transition=null,bt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Xs=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,v=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=v,Zu=d;break}Zu=v}}}var p=o.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var b=e.current;for(Zu=b;null!==Zu;){var k=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Zu=k;else e:for(u=b;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ic(s,s.return,x)}if(s===u){Zu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Zu=w;break e}Zu=s.return}}if(Ns=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ts.transition=t}}return!1}function Ec(e,t,n){e=ja(e,t=vu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ic(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hs||!Hs.has(r))){t=ja(t,e=pu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Rs||3===Rs&&(130023424&Os)===Os&&500>$e()-Us?dc(e,0):Vs|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return He(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case E:u=8,i|=8;break;case I:return(e=Oc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Oc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Oc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case C:u=9;break e;case T:u=11;break e;case D:u=14;break e;case O:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new zc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function Uc(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ri(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=Uc(null),n=e.current,(a=Pa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,ja(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=ja(i,t,o))&&(rc(e,i,o,a),Ra(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}Es=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ku=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ku=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_i(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_i(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fu(e,t,n):(_i(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);_i(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),_i(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Iu(e,t,n)}return Ku(e,t,n)}(e,t,n);ku=0!==(131072&e.flags)}else ku=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gu(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=Io();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Tu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=Su(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),La(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Du(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Du(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),_u(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,_i(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Sa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Ia(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Su(e,t,r,i=ma(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gu(e,t),t.tag=1,Oi(r)?(e=!0,Mi(t)):e=!1,Ea(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Iu(e,t,n)}throw Error(a(156,t.tag))};var Wc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[vi]=o.current,Ur(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[vi]=s.current,Ur(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Xc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Xc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[vi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,$e()),0===(6&Ns)&&(qs=$e()+500,Ui()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Hc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Hc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Hc(e,t)}},Et=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[bi,ki,wi,_e,Ce,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Wc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Wc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[vi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}function g(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var k=b.prototype=new g;k.constructor=b,p(k,y.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+T(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+T(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+T(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},P={transition:null},j={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,v=!1,p=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!p)if(null!==r(c))p=!0,P(x);else{var t=r(l);null!==t&&j(w,t.startTime-e)}}function x(e,n){p=!1,m&&(m=!1,g(_),_=-1),v=!0;var a=d;try{for(k(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),k(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&j(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,I=null,_=-1,C=5,T=-1;function N(){return!(t.unstable_now()-T<C)}function A(){if(null!==I){var e=t.unstable_now();T=e;var n=!0;try{n=I(!0,e)}finally{n?S():(E=!1,I=null)}}else E=!1}if("function"===typeof b)S=function(){b(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,O=D.port2;D.port1.onmessage=A,S=function(){O.postMessage(null)}}else S=function(){y(A,0)};function P(e){I=e,E||(E=!0,S())}function j(e,n){_=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||v||(p=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(_),_=-1):m=!0,j(w,a-o))):(e.sortIndex=u,n(c,e),p||v||(p=!0,P(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/tpi_laboratorio_III/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return bt},SDK_VERSION:function(){return _n},_DEFAULT_ENTRY_NAME:function(){return dn},_addComponent:function(){return yn},_addOrOverwriteComponent:function(){return gn},_apps:function(){return pn},_clearComponents:function(){return xn},_components:function(){return mn},_getProvider:function(){return kn},_registerComponent:function(){return bn},_removeServiceInstance:function(){return wn},deleteApp:function(){return An},getApp:function(){return Tn},getApps:function(){return Nn},initializeApp:function(){return Cn},onLog:function(){return Pn},registerVersion:function(){return On},setLogLevel:function(){return jn}});var t,r=n(791),i=n.t(r,2);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||u(e,t)||s()}function l(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function f(e){return function(e){if(Array.isArray(e))return o(e)}(e)||l(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function v(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function k(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){var t=k();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,n)}}function S(e,t,n){return S=k()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i},S.apply(null,arguments)}function E(e){var t="function"===typeof Map?new Map:void 0;return E=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,b(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},E(e)}function I(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var C,T="popstate";function N(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function A(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function P(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function j(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=v();function v(){return(l.state||{idx:null}).idx}function p(){f=t.Pop;var e=v(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:P(e);return N(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(_({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(T,p),h=e,function(){u.removeEventListener(T,p),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=O(y.location,e,n);r&&r(i,e);var a=D(i,d=v()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=O(y.location,e,n);r&&r(i,e);var a=D(i,d=v()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(C||(C={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function M(e,t,n){void 0===n&&(n="/");var r=X(("string"===typeof t?j(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=H(i[o],Y(r));return a}function L(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(N(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ee([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(N(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),L(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Q(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=I(F(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function F(e){var t=e.split("/");if(0===t.length)return[];var n,r=a(n=t)||l(n)||u(n)||s(),i=r[0],o=r.slice(1),c=i.endsWith("?"),h=i.replace(/\?$/,"");if(0===o.length)return c?[h,""]:[h];var d=F(o.join("/")),v=[];return v.push.apply(v,f(d.map((function(e){return""===e?h:[h,e].join("/")})))),c&&v.push.apply(v,f(d)),v.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var V=/^:\w+$/,z=3,B=2,U=1,q=10,G=-2,K=function(e){return"*"===e};function Q(e,t){var n=e.split("/"),r=n.length;return n.some(K)&&(r+=G),t&&(r+=B),n.filter((function(e){return!K(e)})).reduce((function(e,t){return e+(V.test(t)?z:""===t?U:q)}),r)}function H(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=W({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ee([i,l.pathname]),pathnameBase:te(ee([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ee([i,l.pathnameBase]))}return a}function W(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);A("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return A(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function Y(e){try{return decodeURI(e)}catch(t){return A(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function X(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function $(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function J(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function Z(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=j(e):(N(!(i=_({},e)).pathname||!i.pathname.includes("?"),$("?","pathname","search",i)),N(!i.pathname||!i.pathname.includes("#"),$("#","pathname","hash",i)),N(!i.search||!i.search.includes("#"),$("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?j(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ne(a),hash:re(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ee=function(e){return e.join("/").replace(/\/\/+/g,"/")},te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ne=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},re=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ie=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(E(Error));function ae(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var oe=["post","put","patch","delete"],ue=(new Set(oe),["get"].concat(oe));new Set(ue),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},se.apply(this,arguments)}var ce=i.startTransition,le=r.createContext(null);var fe=r.createContext(null);var he=r.createContext(null);var de=r.createContext(null);var ve=r.createContext(null);var pe=r.createContext({outlet:null,matches:[],isDataRoute:!1});var me=r.createContext(null);function ye(){return null!=r.useContext(ve)}function ge(){return ye()||N(!1),r.useContext(ve).location}function be(e){r.useContext(de).static||r.useLayoutEffect(e)}function ke(){return r.useContext(pe).isDataRoute?function(){var e=Ae(Ee.UseNavigateStable).router,t=Oe(Ie.UseNavigateStable),n=r.useRef(!1);be((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,se({fromRouteId:t},i)))}),[e,t]);return i}():function(){ye()||N(!1);var e=r.useContext(le),t=r.useContext(de),n=t.basename,i=t.navigator,a=r.useContext(pe).matches,o=ge().pathname,u=JSON.stringify(J(a).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);be((function(){s.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof t){var a=Z(t,JSON.parse(u),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ee([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,u,o,e]);return c}()}function we(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(pe).matches,a=ge().pathname,o=JSON.stringify(J(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return Z(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function xe(e,n,i){ye()||N(!1);var a,o=r.useContext(de).navigator,u=r.useContext(pe).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,ge());if(n){var h,d="string"===typeof n?j(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||N(!1),a=d}else a=f;var v=a.pathname||"/",p=M(e,{pathname:"/"===l?v:v.slice(l.length)||"/"});var m=Ne(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ee([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ee([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&m?r.createElement(ve.Provider,{value:{location:se({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Se(){var e=function(){var e,t=r.useContext(me),n=De(Ie.UseRouteError),i=Oe(Ie.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=ae(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ee,Ie,_e=r.createElement(Se,null),Ce=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return m(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(pe.Provider,{value:this.props.routeContext},r.createElement(me.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function Te(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(le);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(pe.Provider,{value:t},i)}function Ne(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||N(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||_e);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Te,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Ce,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Ae(e){var t=r.useContext(le);return t||N(!1),t}function De(e){var t=r.useContext(fe);return t||N(!1),t}function Oe(e){var t=function(e){var t=r.useContext(pe);return t||N(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||N(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ee||(Ee={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ie||(Ie={}));var Pe;function je(e){N(!1)}function Re(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;ye()&&N(!1);var d=i.replace(/^\/*/,"/"),v=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=j(u));var p=u,m=p.pathname,y=void 0===m?"/":m,g=p.search,b=void 0===g?"":g,k=p.hash,w=void 0===k?"":k,x=p.state,S=void 0===x?null:x,E=p.key,I=void 0===E?"default":E,_=r.useMemo((function(){var e=X(y,d);return null==e?null:{location:{pathname:e,search:b,hash:w,state:S,key:I},navigationType:c}}),[d,y,b,w,S,I,c]);return null==_?null:r.createElement(de.Provider,{value:v},r.createElement(ve.Provider,{children:o,value:_}))}function Me(e){var t=e.children,n=e.location;return xe(Fe(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Pe||(Pe={}));var Le=new Promise((function(){}));r.Component;function Fe(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(f(t),[i]);if(e.type!==r.Fragment){e.type!==je&&N(!1),e.props.index&&e.props.children&&N(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fe(e.props.children,a)),n.push(o)}else n.push.apply(n,Fe(e.props.children,a))}})),n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function ze(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Be=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ue(e){var t,n=e.basename,i=e.children,a=e.future,o=e.window,u=r.useRef();null==u.current&&(u.current=(void 0===(t={window:o,v5Compat:!0})&&(t={}),R((function(e,t){var n=e.location;return O("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:P(t)}),null,t)));var s=u.current,l=c(r.useState({action:s.action,location:s.location}),2),f=l[0],h=l[1],d=(a||{}).v7_startTransition,v=r.useCallback((function(e){d&&ce?ce((function(){return h(e)})):h(e)}),[h,d]);return r.useLayoutEffect((function(){return s.listen(v)}),[s,v]),r.createElement(Re,{basename:n,children:i,location:f.location,navigationType:f.action,navigator:s})}var qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ke=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=ze(e,Be),d=r.useContext(de).basename,v=!1;if("string"===typeof l&&Ge.test(l)&&(n=l,qe))try{var p=new URL(window.location.href),m=l.startsWith("//")?new URL(p.protocol+l):new URL(l),y=X(m.pathname,d);m.origin===p.origin&&null!=y?l=y+m.search+m.hash:v=!0}catch(k){}var g=function(e,t){var n=(void 0===t?{}:t).relative;ye()||N(!1);var i=r.useContext(de),a=i.basename,o=i.navigator,u=we(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ee([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),b=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=ke(),l=ge(),f=we(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:P(l)===P(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Ve({},h,{href:n||g,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:c}))}));var Qe,He;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Qe||(Qe={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(He||(He={}));var We=n.p+"static/media/user.a9d3018de4494a5b2982.png",Ye=n(184),Xe=(0,r.createContext)(),$e=function(e){var t=e.children,n=c((0,r.useState)(null),2),i=n[0],a=n[1];(0,r.useEffect)((function(){var e=localStorage.getItem("user");e&&a(JSON.parse(e))}),[]);return(0,Ye.jsx)(Xe.Provider,{value:{user:i,login:function(e,t,n,r){var i={email:e,role:t,name:"".concat(n," ").concat(r),icon:We};a(i),localStorage.setItem("user",JSON.stringify(i))},logout:function(){a(null),localStorage.removeItem("user")}},children:t})},Je=Xe,Ze=n(250);function et(){et=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new _(i||[]);return r(o,"_invoke",{value:x(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=c;var f={};function h(){}function v(){}function p(){}var m={};s(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(C([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=h.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==d(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return T()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:v,configurable:!0}),v.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(b),s(b,u,"Generator"),s(b,a,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function tt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){tt(a,r,i,o,u,"next",e)}function u(e){tt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var rt=(0,r.createContext)(),it=function(e){var t=e.children,n=c((0,r.useState)("light"),2),i=n[0],a=n[1];return(0,Ye.jsx)(rt.Provider,{value:{theme:i,toggleTheme:function(){a((function(e){return"light"===e?"dark":"light"}))}},children:t})};function at(e,t,n){return(t=v(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ut={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ot(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new st;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},st=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return m(n)}(E(Error)),ct=function(e){return function(e){var t=ot(e);return ut.encodeByteArray(t,!0)}(e).replace(/\./g,"")},lt=function(e){try{return ut.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ft(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ft(e[n],t[n]));return e}var ht=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},dt=function(){try{return ht()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/tpi_laboratorio_III",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&lt(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},vt=function(){var e;return null===(e=dt())||void 0===e?void 0:e.config},pt=function(){function e(){var t=this;h(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return m(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){return!function(){var e,t=null===(e=dt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var bt=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(w(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(w(a),kt.prototype.create),a}return m(n)}(E(Error)),kt=function(){function e(t,n,r){h(this,e),this.service=t,this.serviceName=n,this.errors=r}return m(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(wt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new bt(n,a,t)}}]),e}();var wt=/\{\$([^}]+)}/g;function xt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function St(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Et(u)&&Et(s)){if(!St(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Et(e){return null!==e&&"object"===typeof e}function It(e,t){var n=new _t(e,t);return n.subscribe.bind(n)}var _t=function(){function e(t,n){var r=this;h(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return m(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=I(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ct),void 0===r.error&&(r.error=Ct),void 0===r.complete&&(r.complete=Ct);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ct(){}function Tt(e){return e&&e._delegate?e._delegate:e}var Nt=function(){function e(t,n,r){h(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return m(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),At="[DEFAULT]",Dt=function(){function e(t,n){h(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return m(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:At})}catch(s){}var t,n=I(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(f(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),f(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=I(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1];r===this.normalizeInstanceIdentifier(s)&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ly){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===At?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ly){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At;return this.component?this.component.multipleInstances?e:At:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ot,Pt,jt=function(){function e(t){h(this,e),this.name=t,this.providers=new Map}return m(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Dt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Rt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pt||(Pt={}));var Mt={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Lt=Pt.INFO,Ft=(at(Ot={},Pt.DEBUG,"log"),at(Ot,Pt.VERBOSE,"log"),at(Ot,Pt.INFO,"info"),at(Ot,Pt.WARN,"warn"),at(Ot,Pt.ERROR,"error"),Ot),Vt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ft[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zt=function(){function e(t){h(this,e),this.name=t,this._logLevel=Lt,this._logHandler=Vt,this._userLogHandler=null,Rt.push(this)}return m(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Pt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Mt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Pt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Pt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.INFO].concat(t)),this._logHandler.apply(this,[this,Pt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.WARN].concat(t)),this._logHandler.apply(this,[this,Pt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Pt.ERROR].concat(t)),this._logHandler.apply(this,[this,Pt.ERROR].concat(t))}}]),e}();function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt,Gt,Kt=function(e,t){return t.some((function(t){return e instanceof t}))};var Qt=new WeakMap,Ht=new WeakMap,Wt=new WeakMap,Yt=new WeakMap,Xt=new WeakMap;var $t={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ht.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Wt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return en(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Jt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Gt||(Gt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(tn(this),n),en(Qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return en(e.apply(tn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[tn(this),t].concat(r));return Wt.set(a,t.sort?t.sort():[t]),en(a)}}function Zt(e){return"function"===typeof e?Jt(e):(e instanceof IDBTransaction&&function(e){if(!Ht.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ht.set(e,t)}}(e),Kt(e,qt||(qt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,$t):e)}function en(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(en(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qt.set(t,e)})).catch((function(){})),Xt.set(t,e),t}(e);if(Yt.has(e))return Yt.get(e);var t=Zt(e);return t!==e&&(Yt.set(e,t),Xt.set(t,e)),t}var tn=function(e){return Xt.get(e)};var nn,rn,an=["get","getKey","getAll","getAllKeys","count"],on=["put","add","delete","clear"],un=new Map;function sn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(un.get(t))return un.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=on.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||an.includes(n))){var a=function(){var e=nt(et().mark((function e(t){var a,o,u,s,c,l,f=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return un.set(t,a),a}}}$t=function(e){return Ut(Ut({},e),{},{get:function(t,n,r){return sn(t,n)||e.get(t,n,r)},has:function(t,n){return!!sn(t,n)||e.has(t,n)}})}($t);var cn=function(){function e(t){h(this,e),this.container=t}return m(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ln="@firebase/app",fn="0.9.12",hn=new zt("@firebase/app"),dn="[DEFAULT]",vn=(at(nn={},ln,"fire-core"),at(nn,"@firebase/app-compat","fire-core-compat"),at(nn,"@firebase/analytics","fire-analytics"),at(nn,"@firebase/analytics-compat","fire-analytics-compat"),at(nn,"@firebase/app-check","fire-app-check"),at(nn,"@firebase/app-check-compat","fire-app-check-compat"),at(nn,"@firebase/auth","fire-auth"),at(nn,"@firebase/auth-compat","fire-auth-compat"),at(nn,"@firebase/database","fire-rtdb"),at(nn,"@firebase/database-compat","fire-rtdb-compat"),at(nn,"@firebase/functions","fire-fn"),at(nn,"@firebase/functions-compat","fire-fn-compat"),at(nn,"@firebase/installations","fire-iid"),at(nn,"@firebase/installations-compat","fire-iid-compat"),at(nn,"@firebase/messaging","fire-fcm"),at(nn,"@firebase/messaging-compat","fire-fcm-compat"),at(nn,"@firebase/performance","fire-perf"),at(nn,"@firebase/performance-compat","fire-perf-compat"),at(nn,"@firebase/remote-config","fire-rc"),at(nn,"@firebase/remote-config-compat","fire-rc-compat"),at(nn,"@firebase/storage","fire-gcs"),at(nn,"@firebase/storage-compat","fire-gcs-compat"),at(nn,"@firebase/firestore","fire-fst"),at(nn,"@firebase/firestore-compat","fire-fst-compat"),at(nn,"fire-js","fire-js"),at(nn,"firebase","fire-js-all"),nn),pn=new Map,mn=new Map;function yn(e,t){try{e.container.addComponent(t)}catch(n){hn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function gn(e,t){e.container.addOrOverwriteComponent(t)}function bn(e){var t=e.name;if(mn.has(t))return hn.debug("There were multiple attempts to register component ".concat(t,".")),!1;mn.set(t,e);var n,r=I(pn.values());try{for(r.s();!(n=r.n()).done;){yn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function kn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function wn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dn;kn(e,t).clearInstance(n)}function xn(){mn.clear()}var Sn=(at(rn={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),at(rn,"bad-app-name","Illegal App name: '{$appName}"),at(rn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),at(rn,"app-deleted","Firebase App named '{$appName}' already deleted"),at(rn,"no-options","Need to provide options, when not being deployed to hosting via source."),at(rn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),at(rn,"invalid-log-argument","First argument to `onLog` must be null or a function."),at(rn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),at(rn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),at(rn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),at(rn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),rn),En=new kt("app","Firebase",Sn),In=function(){function e(t,n,r){var i=this;h(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",(function(){return i}),"PUBLIC"))}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw En.create("app-deleted",{appName:this._name})}}]),e}(),_n="9.22.2";function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:dn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw En.create("bad-app-name",{appName:String(i)});if(n||(n=vt()),!n)throw En.create("no-options");var a=pn.get(i);if(a){if(St(n,a.options)&&St(r,a.config))return a;throw En.create("duplicate-app",{appName:i})}var o,u=new jt(i),s=I(mn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new In(n,r,u);return pn.set(i,l),l}function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=pn.get(e);if(!t&&e===dn&&vt())return Cn();if(!t)throw En.create("no-app",{appName:e});return t}function Nn(){return Array.from(pn.values())}function An(e){return Dn.apply(this,arguments)}function Dn(){return Dn=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!pn.has(n)){e.next=6;break}return pn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Dn.apply(this,arguments)}function On(e,t,n){var r,i=null!==(r=vn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void hn.warn(u.join(" "))}bn(new Nt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Pn(e,t){if(null!==e&&"function"!==typeof e)throw En.create("invalid-log-argument");!function(e,t){var n,r=I(Rt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Mt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Pt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function jn(e){var t;t=e,Rt.forEach((function(e){e.setLogLevel(t)}))}var Rn="firebase-heartbeat-database",Mn=1,Ln="firebase-heartbeat-store",Fn=null;function Vn(){return Fn||(Fn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=en(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(en(u.result),e.oldVersion,e.newVersion,en(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Rn,Mn,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ln)}}).catch((function(e){throw En.create("idb-open",{originalErrorMessage:e.message})}))),Fn}function zn(e){return Bn.apply(this,arguments)}function Bn(){return Bn=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:return n=e.sent,e.next=6,n.transaction(Ln).objectStore(Ln).get(Gn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof bt?hn.warn(e.t0.message):(i=En.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),hn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Bn.apply(this,arguments)}function Un(e,t){return qn.apply(this,arguments)}function qn(){return qn=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Vn();case 3:return r=e.sent,i=r.transaction(Ln,"readwrite"),a=i.objectStore(Ln),e.next=8,a.put(n,Gn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof bt?hn.warn(e.t0.message):(o=En.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),hn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),qn.apply(this,arguments)}function Gn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Kn=function(){function e(t){var n=this;h(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Xn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return m(e,[{key:"triggerHeartbeat",value:function(){var e=nt(et().mark((function e(){var t,n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Qn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Qn(),n=Hn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ct(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qn(){return(new Date).toISOString().substring(0,10)}function Hn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=I(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),$n(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),$n(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wn,Yn,Xn=function(){function e(t){h(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return m(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,zn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Un(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Un(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(f(r.heartbeats),f(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function $n(e){return ct(JSON.stringify({version:2,heartbeats:e})).length}Wn="",bn(new Nt("platform-logger",(function(e){return new cn(e)}),"PRIVATE")),bn(new Nt("heartbeat",(function(e){return new Kn(e)}),"PRIVATE")),On(ln,fn,Wn),On(ln,fn,"esm2017"),On("fire-js","");var Jn=function(){function e(t,n){var r=this;h(this,e),this._delegate=t,this.firebase=n,yn(t,new Nt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return m(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),An(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){yn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){gn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Zn=(at(Yn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),at(Yn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Yn),er=new kt("app-compat","Firebase",Zn);var tr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Cn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(xt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:On,setLogLevel:jn,onLog:Pn,apps:null,SDK_VERSION:_n,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(bn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw er.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ft(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!xt(n,e=e||dn))throw er.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Jn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ft(n,e)},createSubscribe:It,ErrorFactory:kt,deepExtend:ft}),n}(),nr=new zt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){nr.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var rr=self.firebase.SDK_VERSION;rr&&rr.indexOf("LITE")>=0&&nr.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ir=tr;!function(e){On("@firebase/app-compat","0.2.12",e)}();function ar(){return ar="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ar.apply(this,arguments)}ir.registerVersion("firebase","9.22.2","app-compat");var or,ur="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},sr={},cr=cr||{},lr=ur||self;function fr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dr="closure_uid_"+(1e9*Math.random()>>>0),vr=0;function pr(e,t,n){return e.call.apply(e.bind,arguments)}function mr(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yr(e,t,n){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pr:mr).apply(null,arguments)}function gr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function br(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function kr(){this.s=this.s,this.o=this.o}kr.prototype.s=!1,kr.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,dr)&&e[dr]||(e[dr]=++vr))},kr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xr(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sr(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(fr(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Er(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Er.prototype.h=function(){this.defaultPrevented=!0};var Ir=function(){if(!lr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{lr.addEventListener("test",(function(){}),t),lr.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function _r(e){return/^[\s\xa0]*$/.test(e)}function Cr(){var e=lr.navigator;return e&&(e=e.userAgent)?e:""}function Tr(e){return-1!=Cr().indexOf(e)}function Nr(e){return Nr[" "](e),e}Nr[" "]=function(){};var Ar,Dr,Or=Tr("Opera"),Pr=Tr("Trident")||Tr("MSIE"),jr=Tr("Edge"),Rr=jr||Pr,Mr=Tr("Gecko")&&!(-1!=Cr().toLowerCase().indexOf("webkit")&&!Tr("Edge"))&&!(Tr("Trident")||Tr("MSIE"))&&!Tr("Edge"),Lr=-1!=Cr().toLowerCase().indexOf("webkit")&&!Tr("Edge");function Fr(){var e=lr.document;return e?e.documentMode:void 0}e:{var Vr="",zr=function(){var e=Cr();return Mr?/rv:([^\);]+)(\)|;)/.exec(e):jr?/Edge\/([\d\.]+)/.exec(e):Pr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Lr?/WebKit\/(\S+)/.exec(e):Or?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(zr&&(Vr=zr?zr[1]:""),Pr){var Br=Fr();if(null!=Br&&Br>parseFloat(Vr)){Ar=String(Br);break e}}Ar=Vr}if(lr.document&&Pr){var Ur=Fr();Dr=Ur||(parseInt(Ar,10)||void 0)}else Dr=void 0;var qr=Dr;function Gr(e,t){if(Er.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Mr){e:{try{Nr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Kr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Gr.$.h.call(this)}}br(Gr,Er);var Kr={2:"touch",3:"pen",4:"mouse"};Gr.prototype.h=function(){Gr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Qr="closure_listenable_"+(1e6*Math.random()|0),Hr=0;function Wr(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Hr,this.fa=this.ia=!1}function Yr(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Xr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function $r(e){var t={};for(var n in e)t[n]=e[n];return t}var Jr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Jr.length;a++)n=Jr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ei(e){this.src=e,this.g={},this.h=0}function ti(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Yr(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ni(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ei.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ni(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Wr(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var ri="closure_lm_"+(1e6*Math.random()|0),ii={};function ai(e,t,n,r,i){if(r&&r.once)return ui(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ai(e,t[a],n,r,i);return null}return n=vi(n),e&&e[Qr]?e.O(t,n,hr(r)?!!r.capture:!!r,i):oi(e,t,n,!1,r,i)}function oi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=hr(i)?!!i.capture:!!i,u=hi(e);if(u||(e[ri]=u=new ei(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=fi;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ir||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(li(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ui(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)ui(e,t[a],n,r,i);return null}return n=vi(n),e&&e[Qr]?e.P(t,n,hr(r)?!!r.capture:!!r,i):oi(e,t,n,!0,r,i)}function si(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)si(e,t[a],n,r,i);else r=hr(r)?!!r.capture:!!r,n=vi(n),e&&e[Qr]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ni(a=e.g[t],n,r,i))&&(Yr(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=hi(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ni(t,n,r,i)),(n=-1<e?t[e]:null)&&ci(n))}function ci(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Qr])ti(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(li(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=hi(t))?(ti(n,e),0==n.h&&(n.src=null,t[ri]=null)):Yr(e)}}}function li(e){return e in ii?ii[e]:ii[e]="on"+e}function fi(e,t){if(e.fa)e=!0;else{t=new Gr(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ci(e),e=n.call(r,t)}return e}function hi(e){return(e=e[ri])instanceof ei?e:null}var di="__closure_events_fn_"+(1e9*Math.random()>>>0);function vi(e){return"function"===typeof e?e:(e[di]||(e[di]=function(t){return e.handleEvent(t)}),e[di])}function pi(){kr.call(this),this.i=new ei(this),this.S=this,this.J=null}function mi(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Er(t,e);else if(t instanceof Er)t.target=t.target||e;else{var i=t;Zr(t=new Er(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=yi(o,r,!0,t)&&i}if(i=yi(o=t.g=e,r,!0,t)&&i,i=yi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=yi(o=t.g=n[a],r,!1,t)&&i}function yi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&ti(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}br(pi,kr),pi.prototype[Qr]=!0,pi.prototype.removeEventListener=function(e,t,n,r){si(this,e,t,n,r)},pi.prototype.N=function(){if(pi.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Yr(n[r]);delete t.g[e],t.h--}}this.J=null},pi.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pi.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gi=lr.JSON.stringify,bi=function(){function e(t,n){h(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return m(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function ki(){var e=Ti,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var wi=function(){function e(){h(this,e),this.h=this.g=null}return m(e,[{key:"add",value:function(e,t){var n=xi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),xi=new bi((function(){return new Si}),(function(e){return e.reset()})),Si=function(){function e(){h(this,e),this.next=this.g=this.h=null}return m(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ei(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ii(e){lr.setTimeout((function(){throw e}),0)}var _i,Ci=!1,Ti=new wi,Ni=function(){var e=lr.Promise.resolve(void 0);_i=function(){e.then(Ai)}},Ai=function(){for(var e;e=ki();){try{e.h.call(e.g)}catch(n){Ii(n)}var t=xi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ci=!1};function Di(e,t){pi.call(this),this.h=e||1,this.g=t||lr,this.j=yr(this.qb,this),this.l=Date.now()}function Oi(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Pi(e,t,n){if("function"===typeof e)n&&(e=yr(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yr(e.handleEvent,e)}return 2147483647<Number(t)?-1:lr.setTimeout(e,t||0)}function ji(e){e.g=Pi((function(){e.g=null,e.i&&(e.i=!1,ji(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}br(Di,pi),(or=Di.prototype).ga=!1,or.T=null,or.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mi(this,"tick"),this.ga&&(Oi(this),this.start()))}},or.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},or.N=function(){Di.$.N.call(this),Oi(this),delete this.g};var Ri=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return m(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ji(this)}},{key:"N",value:function(){ar(b(n.prototype),"N",this).call(this),this.g&&(lr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(kr);function Mi(e){kr.call(this),this.h=e,this.g={}}br(Mi,kr);var Li=[];function Fi(e,t,n,r){Array.isArray(n)||(n&&(Li[0]=n.toString()),n=Li);for(var i=0;i<n.length;i++){var a=ai(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Vi(e){Xr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ci(e)}),e),e.g={}}function zi(){this.g=!0}function Bi(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return gi(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Mi.prototype.N=function(){Mi.$.N.call(this),Vi(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zi.prototype.Ea=function(){this.g=!1},zi.prototype.info=function(){};var Ui={},qi=null;function Gi(){return qi=qi||new pi}function Ki(e){Er.call(this,Ui.Ta,e)}function Qi(e){var t=Gi();mi(t,new Ki(t))}function Hi(e,t){Er.call(this,Ui.STAT_EVENT,e),this.stat=t}function Wi(e){var t=Gi();mi(t,new Hi(t,e))}function Yi(e,t){Er.call(this,Ui.Ua,e),this.size=t}function Xi(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return lr.setTimeout((function(){e()}),t)}Ui.Ta="serverreachability",br(Ki,Er),Ui.STAT_EVENT="statevent",br(Hi,Er),Ui.Ua="timingevent",br(Yi,Er);var $i={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ji={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zi(){}function ea(e){return e.h||(e.h=e.i())}function ta(){}Zi.prototype.h=null;var na,ra={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ia(){Er.call(this,"d")}function aa(){Er.call(this,"c")}function oa(){}function ua(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Mi(this),this.P=ca,e=Rr?125:void 0,this.V=new Di(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new sa}function sa(){this.i=null,this.g="",this.h=!1}br(ia,Er),br(aa,Er),br(oa,Zi),oa.prototype.g=function(){return new XMLHttpRequest},oa.prototype.i=function(){return{}},na=new oa;var ca=45e3,la={},fa={};function ha(e,t,n){e.L=1,e.v=Da(_a(t)),e.s=n,e.S=!0,da(e,null)}function da(e,t){e.G=Date.now(),ya(e),e.A=_a(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Ga(n.i,"t",r),e.C=0,n=e.l.J,e.h=new sa,e.g=Qo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Ri(yr(e.Pa,e,e.g),e.O)),Fi(e.U,e.g,"readystatechange",e.nb),t=e.I?$r(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Qi(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function va(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function pa(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=ma(e,n))==fa){4==t&&(e.o=4,Wi(14),i=!1),Bi(e.j,e.m,null,"[Incomplete Response]");break}if(r==la){e.o=4,Wi(15),Bi(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bi(e.j,e.m,r,null),xa(e,r)}va(e)&&r!=fa&&r!=la&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wi(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fo(t),t.M=!0,Wi(11))):(Bi(e.j,e.m,n,"[Invalid Chunked Response]"),wa(e),ka(e))}function ma(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fa:(n=Number(t.substring(n,r)),isNaN(n)?la:(r+=1)+n>t.length?fa:(t=t.slice(r,r+n),e.C=r+n,t))}function ya(e){e.Y=Date.now()+e.P,ga(e,e.P)}function ga(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Xi(yr(e.lb,e),t)}function ba(e){e.B&&(lr.clearTimeout(e.B),e.B=null)}function ka(e){0==e.l.H||e.J||Bo(e.l,e)}function wa(e){ba(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Oi(e.V),Vi(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function xa(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||$a(n.i,e)))if(!e.K&&$a(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;zo(n),Ao(n)}Lo(n),Wi(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Xi(yr(n.ib,n),6e3));if(1>=Xa(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else qo(n,11)}else if((e.K||n.g==e)&&zo(n),!_r(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ja(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Aa(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Ko(r,r.J?r.pa:null,r.Y),d.K){Za(r.i,d);var v=d,p=r.L;p&&v.setTimeout(p),v.B&&(ba(v),ya(v)),r.g=d}else Mo(r);0<n.j.length&&Oo(n)}else"stop"!=a[0]&&"close"!=a[0]||qo(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?qo(n,7):No(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Qi()}catch(a){}}function Sa(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(fr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(fr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(fr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(or=ua.prototype).setTimeout=function(e){this.P=e},or.nb=function(e){e=e.target;var t=this.M;t&&3==So(e)?t.l():this.Pa(e)},or.Pa=function(e){try{if(e==this.g)e:{var t=So(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||Rr||this.g&&(this.h.h||this.g.ja()||Eo(this.g)))){this.J||4!=t||7==n||Qi(),ba(this);var r=this.g.da();this.ca=r;t:if(va(this)){var i=Eo(this.g);e="";var a=i.length,o=4==So(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){wa(this),ka(this);var u="";break t}this.h.i=new lr.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_r(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Wi(12),wa(this),ka(this);break e}Bi(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,r)}this.S?(pa(this,t,u),Rr&&this.i&&3==t&&(Fi(this.U,this.V,"tick",this.mb),this.V.start())):(Bi(this.j,this.m,u,null),xa(this,u)),4==t&&wa(this),this.i&&!this.J&&(4==t?Bo(this.l,this):(this.i=!1,ya(this)))}else(function(e){var t={};e=(e.g&&2<=So(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!_r(e[n])){var r=Ei(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Wi(12)):(this.o=0,Wi(13)),wa(this),ka(this)}}}catch(t){}},or.mb=function(){if(this.g){var e=So(this.g),t=this.g.ja();this.C<t.length&&(ba(this),pa(this,e,t),this.i&&4!=e&&ya(this))}},or.cancel=function(){this.J=!0,wa(this)},or.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Qi(),Wi(17)),wa(this),this.o=2,ka(this)):ga(this,this.Y-e)};var Ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ia){this.h=e.h,Ca(this,e.j),this.s=e.s,this.g=e.g,Ta(this,e.m),this.l=e.l;var t=e.i,n=new za;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Na(this,n),this.o=e.o}else e&&(t=String(e).match(Ea))?(this.h=!1,Ca(this,t[1]||"",!0),this.s=Oa(t[2]||""),this.g=Oa(t[3]||"",!0),Ta(this,t[4]),this.l=Oa(t[5]||"",!0),Na(this,t[6]||"",!0),this.o=Oa(t[7]||"")):(this.h=!1,this.i=new za(null,this.h))}function _a(e){return new Ia(e)}function Ca(e,t,n){e.j=n?Oa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ta(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Na(e,t,n){t instanceof za?(e.i=t,function(e,t){t&&!e.j&&(Ba(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ua(this,t),Ga(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Pa(t,Fa)),e.i=new za(t,e.h))}function Aa(e,t,n){e.i.set(t,n)}function Da(e){return Aa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Pa(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ja),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ja(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ia.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Pa(t,Ra,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Pa(t,Ra,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Pa(n,"/"==n.charAt(0)?La:Ma,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Pa(n,Va)),e.join("")};var Ra=/[#\/\?@]/g,Ma=/[#\?:]/g,La=/[#\?]/g,Fa=/[#\?@]/g,Va=/#/g;function za(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ba(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ua(e,t){Ba(e),t=Ka(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function qa(e,t){return Ba(e),t=Ka(e,t),e.g.has(t)}function Ga(e,t,n){Ua(e,t),0<n.length&&(e.i=null,e.g.set(Ka(e,t),xr(n)),e.h+=n.length)}function Ka(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(or=za.prototype).add=function(e,t){Ba(this),this.i=null,e=Ka(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},or.forEach=function(e,t){Ba(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},or.ta=function(){Ba(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},or.Z=function(e){Ba(this);var t=[];if("string"===typeof e)qa(this,e)&&(t=t.concat(this.g.get(Ka(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},or.set=function(e,t){return Ba(this),this.i=null,qa(this,e=Ka(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},or.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},or.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Qa=m((function e(t,n){h(this,e),this.g=t,this.map=n}));function Ha(e){this.l=e||Wa,lr.PerformanceNavigationTiming?e=0<(e=lr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(lr.g&&lr.g.Ka&&lr.g.Ka()&&lr.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wa=10;function Ya(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xa(e){return e.h?1:e.g?e.g.size:0}function $a(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ja(e,t){e.g?e.g.add(t):e.h=t}function Za(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function eo(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=I(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return xr(e.i)}Ha.prototype.cancel=function(){if(this.i=eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=I(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var to,no=function(){function e(){h(this,e)}return m(e,[{key:"stringify",value:function(e){return lr.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return lr.JSON.parse(e,void 0)}}]),e}();function ro(){this.g=new no}function io(e,t,n){var r=n||"";try{Sa(e,(function(e,n){var i=e;hr(e)&&(i=gi(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ao(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function oo(e){this.l=e.fc||null,this.j=e.ob||!1}function uo(e,t){pi.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=so,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}br(oo,Zi),oo.prototype.g=function(){return new uo(this.l,this.j)},oo.prototype.i=(to={},function(){return to}),br(uo,pi);var so=0;function co(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function lo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,fo(e)}function fo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(or=uo.prototype).open=function(e,t){if(this.readyState!=so)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,fo(this)},or.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||lr).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},or.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,lo(this)),this.readyState=so},or.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,fo(this)),this.g&&(this.readyState=3,fo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof lr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;co(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},or.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?lo(this):fo(this),3==this.readyState&&co(this)}},or.Za=function(e){this.g&&(this.response=this.responseText=e,lo(this))},or.Ya=function(e){this.g&&(this.response=e,lo(this))},or.ka=function(){this.g&&lo(this)},or.setRequestHeader=function(e,t){this.v.append(e,t)},or.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},or.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(uo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ho=lr.JSON.parse;function vo(e){pi.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=po,this.L=this.M=!1}br(vo,pi);var po="",mo=/^https?$/i,yo=["POST","PUT"];function go(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,bo(e),wo(e)}function bo(e){e.F||(e.F=!0,mi(e,"complete"),mi(e,"error"))}function ko(e){if(e.h&&"undefined"!=typeof cr&&(!e.C[1]||4!=So(e)||2!=e.da()))if(e.v&&4==So(e))Pi(e.La,0,e);else if(mi(e,"readystatechange"),4==So(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(Ea)[1]||null;!a&&lr.self&&lr.self.location&&(a=lr.self.location.protocol.slice(0,-1)),i=!mo.test(a?a.toLowerCase():"")}t=i}if(t)mi(e,"complete"),mi(e,"success");else{e.m=6;try{var o=2<So(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",bo(e)}}finally{wo(e)}}}function wo(e,t){if(e.g){xo(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||mi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function xo(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(lr.clearTimeout(e.A),e.A=null)}function So(e){return e.g?e.g.readyState:0}function Eo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case po:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Nu){return null}}function Io(e){var t="";return Xr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function _o(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Io(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Aa(e,t,n))}function Co(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function To(e){this.Ga=0,this.j=[],this.l=new zi,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Co("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Co("baseRetryDelayMs",5e3,e),this.hb=Co("retryDelaySeedMs",1e4,e),this.eb=Co("forwardChannelMaxRetries",2,e),this.xa=Co("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ha(e&&e.concurrentRequestLimit),this.Ja=new ro,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function No(e){if(Do(e),3==e.H){var t=e.W++,n=_a(e.I);if(Aa(n,"SID",e.K),Aa(n,"RID",t),Aa(n,"TYPE","terminate"),jo(e,n),(t=new ua(e,e.l,t)).L=2,t.v=Da(_a(n)),n=!1,lr.navigator&&lr.navigator.sendBeacon)try{n=lr.navigator.sendBeacon(t.v.toString(),"")}catch(Sx){}!n&&lr.Image&&((new Image).src=t.v,n=!0),n||(t.g=Qo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),ya(t)}Go(e)}function Ao(e){e.g&&(Fo(e),e.g.cancel(),e.g=null)}function Do(e){Ao(e),e.u&&(lr.clearTimeout(e.u),e.u=null),zo(e),e.i.cancel(),e.m&&("number"===typeof e.m&&lr.clearTimeout(e.m),e.m=null)}function Oo(e){if(!Ya(e.i)&&!e.m){e.m=!0;var t=e.Na;_i||Ni(),Ci||(_i(),Ci=!0),Ti.add(t,e),e.C=0}}function Po(e,t){var n;n=t?t.m:e.W++;var r=_a(e.I);Aa(r,"SID",e.K),Aa(r,"RID",n),Aa(r,"AID",e.V),jo(e,r),e.o&&e.s&&_o(r,e.o,e.s),n=new ua(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ro(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ja(e.i,n),ha(n,r,t)}function jo(e,t){e.na&&Xr(e.na,(function(e,n){Aa(t,n,e)})),e.h&&Sa({},(function(e,n){Aa(t,n,e)}))}function Ro(e,t,n){n=Math.min(e.j.length,n);var r=e.h?yr(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{io(l,o,"req"+c+"_")}catch(zu){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Mo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;_i||Ni(),Ci||(_i(),Ci=!0),Ti.add(t,e),e.A=0}}function Lo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Xi(yr(e.Ma,e),Uo(e,e.A)),e.A++,!0)}function Fo(e){null!=e.B&&(lr.clearTimeout(e.B),e.B=null)}function Vo(e){e.g=new ua(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=_a(e.wa);Aa(t,"RID","rpc"),Aa(t,"SID",e.K),Aa(t,"AID",e.V),Aa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Aa(t,"TO",e.qa),Aa(t,"TYPE","xmlhttp"),jo(e,t),e.o&&e.s&&_o(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Da(_a(t)),n.s=null,n.S=!0,da(n,e)}function zo(e){null!=e.v&&(lr.clearTimeout(e.v),e.v=null)}function Bo(e,t){var n=null;if(e.g==t){zo(e),Fo(e),e.g=null;var r=2}else{if(!$a(e.i,t))return;n=t.F,Za(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;mi(r=Gi(),new Yi(r,n)),Oo(e)}else Mo(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Xa(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Xi(yr(e.Na,e,t),Uo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Lo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:qo(e,5);break;case 4:qo(e,10);break;case 3:qo(e,6);break;default:qo(e,2)}}function Uo(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function qo(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=yr(e.pb,e);n||(n=new Ia("//www.google.com/images/cleardot.gif"),lr.location&&"http"==lr.location.protocol||Ca(n,"https"),Da(n)),function(e,t){var n=new zi;if(lr.Image){var r=new Image;r.onload=gr(ao,n,r,"TestLoadImage: loaded",!0,t),r.onerror=gr(ao,n,r,"TestLoadImage: error",!1,t),r.onabort=gr(ao,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=gr(ao,n,r,"TestLoadImage: timeout",!1,t),lr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Wi(2);e.H=0,e.h&&e.h.za(t),Go(e),Do(e)}function Go(e){if(e.H=0,e.ma=[],e.h){var t=eo(e.i);0==t.length&&0==e.j.length||(Sr(e.ma,t),Sr(e.ma,e.j),e.i.i.length=0,xr(e.j),e.j.length=0),e.h.ya()}}function Ko(e,t,n){var r=n instanceof Ia?_a(n):new Ia(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ta(r,r.m);else{var i=lr.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Ia(null);r&&Ca(a,r),t&&(a.g=t),i&&Ta(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Aa(r,n,t),Aa(r,"VER",e.ra),jo(e,r),r}function Qo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new vo(new oo({ob:!0})):new vo(e.va)).Oa(e.J),t}function Ho(){}function Wo(){if(Pr&&!(10<=Number(qr)))throw Error("Environmental error: no available transport.")}function Yo(e,t){pi.call(this),this.g=new To(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!_r(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_r(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Jo(this)}function Xo(e){ia.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function $o(){aa.call(this),this.status=1}function Jo(e){this.g=e}function Zo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function eu(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function tu(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(or=vo.prototype).Oa=function(e){this.M=e},or.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():na.g(),this.C=this.u?ea(this.u):ea(na),this.g.onreadystatechange=yr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void go(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=I(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(v){o.e(v)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=lr.FormData&&e instanceof lr.FormData,!(0<=wr(yo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,l=I(n);try{for(l.s();!(s=l.n()).done;){var f=c(s.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(v){l.e(v)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xo(this),0<this.B&&((this.L=function(e){return Pr&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.ua,this)):this.A=Pi(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){go(this,u)}},or.ua=function(){"undefined"!=typeof cr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mi(this,"timeout"),this.abort(8))},or.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,mi(this,"complete"),mi(this,"abort"),wo(this))},or.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wo(this,!0)),vo.$.N.call(this)},or.La=function(){this.s||(this.G||this.v||this.l?ko(this):this.kb())},or.kb=function(){ko(this)},or.isActive=function(){return!!this.g},or.da=function(){try{return 2<So(this)?this.g.status:-1}catch(to){return-1}},or.ja=function(){try{return this.g?this.g.responseText:""}catch(to){return""}},or.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ho(t)}},or.Ia=function(){return this.m},or.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(or=To.prototype).ra=8,or.H=1,or.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new ua(this,this.l,e),n=this.s;if(this.U&&(n?Zr(n=$r(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ro(this,t,r),Aa(i=_a(this.I),"RID",e),Aa(i,"CVER",22),this.F&&Aa(i,"X-HTTP-Session-Id",this.F),jo(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(Io(n)))+"&"+r:this.o&&_o(i,this.o,n)),Ja(this.i,t),this.bb&&Aa(i,"TYPE","init"),this.P?(Aa(i,"$req",r),Aa(i,"SID","null"),t.aa=!0,ha(t,i,null)):ha(t,i,r),this.H=2}}else 3==this.H&&(e?Po(this,e):0==this.j.length||Ya(this.i)||Po(this))},or.Ma=function(){if(this.u=null,Vo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Xi(yr(this.jb,this),e)}},or.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Wi(10),Ao(this),Vo(this))},or.ib=function(){null!=this.v&&(this.v=null,Ao(this),Lo(this),Wi(19))},or.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Wi(2)):(this.l.info("Failed to ping google.com"),Wi(1))},or.isActive=function(){return!!this.h&&this.h.isActive(this)},(or=Ho.prototype).Ba=function(){},or.Aa=function(){},or.za=function(){},or.ya=function(){},or.isActive=function(){return!0},or.Va=function(){},Wo.prototype.g=function(e,t){return new Yo(e,t)},br(Yo,pi),Yo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Wi(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Ko(e,null,e.Y),Oo(e)},Yo.prototype.close=function(){No(this.g)},Yo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gi(e),e=n);t.j.push(new Qa(t.fb++,e)),3==t.H&&Oo(t)},Yo.prototype.N=function(){this.g.h=null,delete this.j,No(this.g),delete this.g,Yo.$.N.call(this)},br(Xo,ia),br($o,aa),br(Jo,Ho),Jo.prototype.Ba=function(){mi(this.g,"a")},Jo.prototype.Aa=function(e){mi(this.g,new Xo(e))},Jo.prototype.za=function(e){mi(this.g,new $o)},Jo.prototype.ya=function(){mi(this.g,"b")},br(Zo,(function(){this.blockSize=-1})),Zo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)eu(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){eu(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){eu(this,r),i=0;break}}this.h=i,this.i+=t},Zo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var nu={};function ru(e){return-128<=e&&128>e?function(e,t){var n=nu;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new tu([0|e],0>e?-1:0)})):new tu([0|e],0>e?-1:0)}function iu(e){if(isNaN(e)||!isFinite(e))return ou;if(0>e)return fu(iu(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=au;return new tu(t,0)}var au=4294967296,ou=ru(0),uu=ru(1),su=ru(16777216);function cu(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function lu(e){return-1==e.h}function fu(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new tu(n,~e.h).add(uu)}function hu(e,t){return e.add(fu(t))}function du(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vu(e,t){this.g=e,this.h=t}function pu(e,t){if(cu(t))throw Error("division by zero");if(cu(e))return new vu(ou,ou);if(lu(e))return t=pu(fu(e),t),new vu(fu(t.g),fu(t.h));if(lu(t))return t=pu(e,fu(t)),new vu(fu(t.g),t.h);if(30<e.g.length){if(lu(e)||lu(t))throw Error("slowDivide_ only works with positive integers.");for(var n=uu,r=t;0>=r.X(e);)n=mu(n),r=mu(r);var i=yu(n,1),a=yu(r,1);for(r=yu(r,2),n=yu(n,2);!cu(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=yu(r,1),n=yu(n,1)}return t=hu(e,i.R(t)),new vu(i,t)}for(i=ou;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=iu(n)).R(t);lu(o)||0<o.X(e);)o=(a=iu(n-=r)).R(t);cu(a)&&(a=uu),i=i.add(a),e=hu(e,o)}return new vu(i,e)}function mu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new tu(n,e.h)}function yu(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new tu(i,e.h)}(or=tu.prototype).ea=function(){if(lu(this))return-fu(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:au+r)*t,t*=au}return e},or.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(cu(this))return"0";if(lu(this))return"-"+fu(this).toString(e);for(var t=iu(Math.pow(e,6)),n=this,r="";;){var i=pu(n,t).g,a=((0<(n=hu(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(cu(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},or.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},or.X=function(e){return lu(e=hu(this,e))?-1:cu(e)?0:1},or.abs=function(){return lu(this)?fu(this):this},or.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new tu(n,-2147483648&n[n.length-1]?-1:0)},or.R=function(e){if(cu(this)||cu(e))return ou;if(lu(this))return lu(e)?fu(this).R(fu(e)):fu(fu(this).R(e));if(lu(e))return fu(this.R(fu(e)));if(0>this.X(su)&&0>e.X(su))return iu(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,du(n,2*r+2*i),n[2*r+2*i+1]+=a*s,du(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,du(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,du(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new tu(n,0)},or.gb=function(e){return pu(this,e).h},or.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new tu(n,this.h&e.h)},or.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new tu(n,this.h|e.h)},or.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new tu(n,this.h^e.h)},Wo.prototype.createWebChannel=Wo.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,Ji.COMPLETE="complete",ta.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",pi.prototype.listen=pi.prototype.O,vo.prototype.listenOnce=vo.prototype.P,vo.prototype.getLastError=vo.prototype.Sa,vo.prototype.getLastErrorCode=vo.prototype.Ia,vo.prototype.getStatus=vo.prototype.da,vo.prototype.getResponseJson=vo.prototype.Wa,vo.prototype.getResponseText=vo.prototype.ja,vo.prototype.send=vo.prototype.ha,vo.prototype.setWithCredentials=vo.prototype.Oa,Zo.prototype.digest=Zo.prototype.l,Zo.prototype.reset=Zo.prototype.reset,Zo.prototype.update=Zo.prototype.j,tu.prototype.add=tu.prototype.add,tu.prototype.multiply=tu.prototype.R,tu.prototype.modulo=tu.prototype.gb,tu.prototype.compare=tu.prototype.X,tu.prototype.toNumber=tu.prototype.ea,tu.prototype.toString=tu.prototype.toString,tu.prototype.getBits=tu.prototype.D,tu.fromNumber=iu,tu.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return fu(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=iu(Math.pow(n,8)),i=ou,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=iu(Math.pow(n,o)),i=i.R(o).add(iu(u))):i=(i=i.R(r)).add(iu(u))}return i};var gu=sr.createWebChannelTransport=function(){return new Wo},bu=sr.getStatEventTarget=function(){return Gi()},ku=sr.ErrorCode=$i,wu=sr.EventType=Ji,xu=sr.Event=Ui,Su=sr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Eu=sr.FetchXmlHttpFactory=oo,Iu=sr.WebChannel=ta,_u=sr.XhrIo=vo,Cu=sr.Md5=Zo,Tu=sr.Integer=tu,Nu="@firebase/firestore",Au=function(){function e(t){h(this,e),this.uid=t}return m(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Au.UNAUTHENTICATED=new Au(null),Au.GOOGLE_CREDENTIALS=new Au("google-credentials-uid"),Au.FIRST_PARTY=new Au("first-party-uid"),Au.MOCK_USER=new Au("mock-user");var Du="9.22.2",Ou=new zt("@firebase/firestore");function Pu(){return Ou.logLevel}function ju(e){if(Ou.logLevel<=Pt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lu);Ou.debug.apply(Ou,["Firestore (".concat(Du,"): ").concat(e)].concat(f(i)))}}function Ru(e){if(Ou.logLevel<=Pt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lu);Ou.error.apply(Ou,["Firestore (".concat(Du,"): ").concat(e)].concat(f(i)))}}function Mu(e){if(Ou.logLevel<=Pt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Lu);Ou.warn.apply(Ou,["Firestore (".concat(Du,"): ").concat(e)].concat(f(i)))}}function Lu(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Fu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Du,") INTERNAL ASSERTION FAILED: ")+e;throw Ru(t),new Error(t)}function Vu(e,t){e||Fu()}function zu(e,t){return e}var Bu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uu=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return m(n)}(bt),qu=m((function e(){var t=this;h(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Gu=m((function e(t,n){h(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Ku=function(){function e(){h(this,e)}return m(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Au.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Qu=function(){function e(t){h(this,e),this.token=t,this.changeListener=null}return m(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Hu=function(){function e(t){h(this,e),this.t=t,this.currentUser=Au.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new qu;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new qu,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ju("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ju("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qu)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ju("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Vu("string"==typeof n.accessToken),new Gu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Vu(null===e||"string"==typeof e),new Au(e)}}]),e}(),Wu=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Au.FIRST_PARTY,this.g=new Map}return m(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Yu=function(){function e(t,n,r){h(this,e),this.h=t,this.l=n,this.m=r}return m(e,[{key:"getToken",value:function(){return Promise.resolve(new Wu(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Au.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Xu=m((function e(t){h(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$u=function(){function e(t){h(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return m(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ju("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,ju("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ju("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):ju("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Vu("string"==typeof t.token),e.T=t.token,new Xu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ju(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Zu=function(){function e(){h(this,e)}return m(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ju(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function es(e,t){return e<t?-1:e>t?1:0}function ts(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ns(e){return e+"\0"}var rs=function(){function e(t,n){if(h(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Uu(Bu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Uu(Bu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Uu(Bu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uu(Bu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return m(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?es(this.nanoseconds,e.nanoseconds):es(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),is=function(){function e(t){h(this,e),this.timestamp=t}return m(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new rs(0,0))}},{key:"max",value:function(){return new e(new rs(253402300799,999999999))}}]),e}(),as=function(){function e(t,n,r){h(this,e),void 0===n?n=0:n>t.length&&Fu(),void 0===r?r=t.length-n:r>t.length-n&&Fu(),this.segments=t,this.offset=n,this.len=r}return m(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),os=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,f(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(as),us=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ss=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return us.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Uu(Bu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Uu(Bu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Uu(Bu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(as),cs=function(){function e(t){h(this,e),this.path=t}return m(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===os.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(os.fromString(t))}},{key:"fromName",value:function(t){return new e(os.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(os.emptyPath())}},{key:"comparator",value:function(e,t){return os.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new os(t.slice()))}}]),e}(),ls=m((function e(t,n,r,i){h(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function fs(e){return e.fields.find((function(e){return 2===e.kind}))}function hs(e){return e.fields.filter((function(e){return 2!==e.kind}))}ls.UNKNOWN_ID=-1;var ds=m((function e(t,n){h(this,e),this.fieldPath=t,this.kind=n}));var vs=function(){function e(t,n){h(this,e),this.sequenceNumber=t,this.offset=n}return m(e,null,[{key:"empty",value:function(){return new e(0,ys.min())}}]),e}();function ps(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=is.fromTimestamp(1e9===r?new rs(n+1,0):new rs(n,r));return new ys(i,cs.empty(),t)}function ms(e){return new ys(e.readTime,e.key,-1)}var ys=function(){function e(t,n,r){h(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return m(e,null,[{key:"min",value:function(){return new e(is.min(),cs.empty(),-1)}},{key:"max",value:function(){return new e(is.max(),cs.empty(),-1)}}]),e}();function gs(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=cs.comparator(e.documentKey,t.documentKey))?n:es(e.largestBatchId,t.largestBatchId)}var bs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ks=function(){function e(){h(this,e),this.onCommittedListeners=[]}return m(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function ws(e){return xs.apply(this,arguments)}function xs(){return(xs=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Bu.FAILED_PRECONDITION&&t.message===bs){e.next=2;break}throw t;case 2:ju("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ss=function(){function e(t){var n=this;h(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return m(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Fu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=I(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),Es=function(){function e(t,n){var r=this;h(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new qu,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new Cs(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=Os(e.target.error);r.v.reject(new Cs(t,n))}}return m(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(ju("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Ns(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Cs(n,t)}}}]),e}(),Is=function(){function e(t,n,r){h(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(mt())&&Ru("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return m(e,[{key:"$",value:function(){var e=nt(et().mark((function e(t){var n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ju("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Cs(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Uu(Bu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Uu(Bu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Cs(t,n))},i.onupgradeneeded=function(e){ju("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){ju("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=nt(et().mark((function e(t,n,r,i){var a,o,u,s,c=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=et().mark((function e(){var n,u,s,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=Es.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),Ss.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,ju("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ju("SimpleDb","Removing database:",e),As(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!gt())return!1;if(e.C())return!0;var t=mt(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/tpi_laboratorio_III",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),_s=function(){function e(t){h(this,e),this.L=t,this.q=!1,this.U=null}return m(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return As(this.L.delete())}}]),e}(),Cs=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,Bu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return m(n)}(Uu);function Ts(e){return"IndexedDbTransactionError"===e.name}var Ns=function(){function e(t){h(this,e),this.store=t}return m(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ju("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ju("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),As(n)}},{key:"add",value:function(e){return ju("SimpleDb","ADD",this.store.name,e,e),As(this.store.add(e))}},{key:"get",value:function(e){var t=this;return As(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ju("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ju("SimpleDb","DELETE",this.store.name,e),As(this.store.delete(e))}},{key:"count",value:function(){return ju("SimpleDb","COUNT",this.store.name),As(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Ss((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Ss((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){ju("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new Ss((function(n,r){t.onerror=function(e){var t=Os(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new Ss((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new _s(i),o=t(i.primaryKey,i.value,a);if(o instanceof Ss){var u=o.catch((function(e){return a.done(),Ss.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return Ss.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function As(e){return new Ss((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Os(e.target.error);n(t)}}))}var Ds=!1;function Os(e){var t=Is.S(mt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Ds||(Ds=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ps=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return m(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;ju("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=ju,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Ts(e.t4)){e.next=17;break}ju("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,ws(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),js=function(){function e(t,n){h(this,e),this.localStore=t,this.persistence=n}return m(e,[{key:"nt",value:function(){var e=nt(et().mark((function e(){var t,n=this,r=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Ss.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return ju("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return ju("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ms(t);gs(r,n)>0&&(n=r)})),new ys(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Rs=function(){function e(t,n){var r=this;h(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return m(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ms(e){return null==e}function Ls(e){return 0===e&&1/e==-1/0}function Fs(e){return"number"==typeof e&&Number.isInteger(e)&&!Ls(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Vs(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Bs(t)),t=zs(e.get(n),t);return Bs(t)}function zs(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Bs(e){return e+"\x01\x01"}function Us(e){var t=e.length;if(Vu(t>=2),2===t)return Vu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),os.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Fu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Fu()}a=o+2}return new os(r)}Rs.ct=-1;var qs=["userId","batchId"];function Gs(e,t){return[e,Vs(t)]}function Ks(e,t,n){return[e,Vs(t),n]}var Qs={},Hs=["prefixPath","collectionGroup","readTime","documentId"],Ws=["prefixPath","collectionGroup","documentId"],Ys=["collectionGroup","readTime","prefixPath","documentId"],Xs=["canonicalId","targetId"],$s=["targetId","path"],Js=["path","targetId"],Zs=["collectionId","parent"],ec=["indexId","uid"],tc=["uid","sequenceNumber"],nc=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rc=["indexId","uid","orderedDocumentKey"],ic=["userId","collectionPath","documentId"],ac=["userId","collectionPath","largestBatchId"],oc=["userId","collectionGroup","largestBatchId"],uc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sc=[].concat(f(uc),["documentOverlays"]),cc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lc=cc,fc=[].concat(lc,["indexConfiguration","indexState","indexEntries"]),hc=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return m(n)}(ks);function dc(e,t){var n=zu(e);return Is.M(n.ht,t)}function vc(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var yc=function(){function e(t,n){h(this,e),this.comparator=t,this.root=n||bc.EMPTY}return m(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,bc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new gc(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new gc(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new gc(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new gc(this.root,e,this.comparator,!0)}}]),e}(),gc=function(){function e(t,n,r,i){h(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return m(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),bc=function(){function e(t,n,r,i,a){h(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return m(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Fu();if(this.right.isRed())throw Fu();var e=this.left.check();if(e!==this.right.check())throw Fu();return e+(this.isRed()?0:1)}}]),e}();bc.EMPTY=null,bc.RED=!0,bc.BLACK=!1,bc.EMPTY=new(function(){function e(){h(this,e),this.size=0}return m(e,[{key:"key",get:function(){throw Fu()}},{key:"value",get:function(){throw Fu()}},{key:"color",get:function(){throw Fu()}},{key:"left",get:function(){throw Fu()}},{key:"right",get:function(){throw Fu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new bc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var kc=function(){function e(t){h(this,e),this.comparator=t,this.data=new yc(this.comparator)}return m(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new wc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new wc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),wc=function(){function e(t){h(this,e),this.iter=t}return m(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function xc(e){return e.hasNext()?e.getNext():void 0}var Sc=function(){function e(t){h(this,e),this.fields=t,t.sort(ss.comparator)}return m(e,[{key:"unionWith",value:function(t){var n,r=new kc(ss.comparator),i=I(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=I(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=I(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ts(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),Ec=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return m(n)}(E(Error));var Ic=function(e){function t(e){h(this,t),this.binaryString=e}return m(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return es(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ec("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Ic.EMPTY_BYTE_STRING=new Ic("");var _c=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(e){if(Vu(!!e),"string"==typeof e){var t=0,n=_c.exec(e);if(Vu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tc(e.seconds),nanos:Tc(e.nanos)}}function Tc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nc(e){return"string"==typeof e?Ic.fromBase64String(e):Ic.fromUint8Array(e)}function Ac(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Dc(e){var t=e.mapValue.fields.__previous_value__;return Ac(t)?Dc(t):t}function Oc(e){var t=Cc(e.mapValue.fields.__local_write_time__.timestampValue);return new rs(t.seconds,t.nanos)}var Pc=m((function e(t,n,r,i,a,o,u,s,c){h(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),jc=function(){function e(t,n){h(this,e),this.projectId=t,this.database=n||"(default)"}return m(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),Rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Mc={nullValue:"NULL_VALUE"};function Lc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ac(e)?4:$c(e)?9007199254740991:10:Fu()}function Fc(e,t){if(e===t)return!0;var n=Lc(e);if(n!==Lc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oc(e).isEqual(Oc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Cc(e.timestampValue),r=Cc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nc(e.bytesValue).isEqual(Nc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tc(e.geoPointValue.latitude)===Tc(t.geoPointValue.latitude)&&Tc(e.geoPointValue.longitude)===Tc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tc(e.integerValue)===Tc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Tc(e.doubleValue),r=Tc(t.doubleValue);return n===r?Ls(n)===Ls(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ts(e.arrayValue.values||[],t.arrayValue.values||[],Fc);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vc(n)!==vc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fc(n[i],r[i])))return!1;return!0}(e,t);default:return Fu()}}function Vc(e,t){return void 0!==(e.values||[]).find((function(e){return Fc(e,t)}))}function zc(e,t){if(e===t)return 0;var n=Lc(e),r=Lc(t);if(n!==r)return es(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return es(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Tc(e.integerValue||e.doubleValue),r=Tc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bc(e.timestampValue,t.timestampValue);case 4:return Bc(Oc(e),Oc(t));case 5:return es(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Nc(e),r=Nc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=es(n[i],r[i]);if(0!==a)return a}return es(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=es(Tc(e.latitude),Tc(t.latitude));return 0!==n?n:es(Tc(e.longitude),Tc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=zc(n[i],r[i]);if(a)return a}return es(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Rc.mapValue&&t===Rc.mapValue)return 0;if(e===Rc.mapValue)return 1;if(t===Rc.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=es(r[o],a[o]);if(0!==u)return u;var s=zc(n[r[o]],i[a[o]]);if(0!==s)return s}return es(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Fu()}}function Bc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return es(e,t);var n=Cc(e),r=Cc(t),i=es(n.seconds,r.seconds);return 0!==i?i:es(n.nanos,r.nanos)}function Uc(e){return qc(e)}function qc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Cc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Nc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,cs.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=I(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=qc(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=I(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(qc(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Fu();var t,n}function Gc(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Kc(e){return!!e&&"integerValue"in e}function Qc(e){return!!e&&"arrayValue"in e}function Hc(e){return!!e&&"nullValue"in e}function Wc(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yc(e){return!!e&&"mapValue"in e}function Xc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return pc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Xc(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Xc(e.arrayValue.values[r]);return n}return Object.assign({},e)}function $c(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jc(e){return"nullValue"in e?Mc:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Gc(jc.empty(),cs.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Fu()}function Zc(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Gc(jc.empty(),cs.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Rc:Fu()}function el(e,t){var n=zc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function tl(e,t){var n=zc(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var nl=function(){function e(t){h(this,e),this.value=t}return m(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Yc(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xc(t)}},{key:"setAll",value:function(e){var t=this,n=ss.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Xc(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Yc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Fc(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){pc(t,(function(t,n){return e[t]=n}));var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Xc(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function rl(e){var t=[];return pc(e.fields,(function(e,n){var r=new ss([e]);if(Yc(n)){var i=rl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=I(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Sc(t)}var il=function(){function e(t,n,r,i,a,o,u){h(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return m(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(is.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=nl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=nl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=is.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,is.min(),is.min(),is.min(),nl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,is.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,is.min(),is.min(),nl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,is.min(),is.min(),nl.empty(),2)}}]),e}(),al=m((function e(t,n){h(this,e),this.position=t,this.inclusive=n}));function ol(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?cs.comparator(cs.fromName(o.referenceValue),n.key):zc(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ul(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Fc(e.position[n],t.position[n]))return!1;return!0}var sl=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";h(this,e),this.field=t,this.dir=n}));function cl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var ll=m((function e(){h(this,e)})),fl=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zc(t,this.value)):null!==t&&Lc(this.value)===Lc(t)&&this.matchesComparison(zc(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Fu()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wl(e,t,r):"array-contains"===t?new Il(e,r):"in"===t?new _l(e,r):"not-in"===t?new Cl(e,r):"array-contains-any"===t?new Tl(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new xl(e,n):new Sl(e,n)}}]),n}(ll),hl=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return m(n,[{key:"matches",value:function(e){return dl(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=I(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(ll);function dl(e){return"and"===e.op}function vl(e){return"or"===e.op}function pl(e){return ml(e)&&dl(e)}function ml(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof hl)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function yl(e){if(e instanceof fl)return e.field.canonicalString()+e.op.toString()+Uc(e.value);if(pl(e))return e.filters.map((function(e){return yl(e)})).join(",");var t=e.filters.map((function(e){return yl(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function gl(e,t){return e instanceof fl?function(e,t){return t instanceof fl&&e.op===t.op&&e.field.isEqual(t.field)&&Fc(e.value,t.value)}(e,t):e instanceof hl?function(e,t){return t instanceof hl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&gl(n,t.filters[r])}),!0)}(e,t):void Fu()}function bl(e,t){var n=e.filters.concat(t);return hl.create(n,e.op)}function kl(e){return e instanceof fl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Uc(e.value))}(e):e instanceof hl?function(e){return e.op.toString()+" {"+e.getFilters().map(kl).join(" ,")+"}"}(e):"Filter"}var wl=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,i)).key=cs.fromName(i.referenceValue),a}return m(n,[{key:"matches",value:function(e){var t=cs.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(fl),xl=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"in",r)).keys=El("in",r),i}return m(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fl),Sl=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,"not-in",r)).keys=El("not-in",r),i}return m(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(fl);function El(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return cs.fromName(e.referenceValue)}))}var Il=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Qc(t)&&Vc(t.arrayValue,this.value)}}]),n}(fl),_l=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"in",r)}return m(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Vc(this.value.arrayValue,t)}}]),n}(fl),Cl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"not-in",r)}return m(n,[{key:"matches",value:function(e){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Vc(this.value.arrayValue,t)}}]),n}(fl),Tl=function(e){g(n,e);var t=x(n);function n(e,r){return h(this,n),t.call(this,e,"array-contains-any",r)}return m(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Qc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Vc(t.value.arrayValue,e)}))}}]),n}(fl),Nl=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;h(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function Al(e){return new Nl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Dl(e){var t=zu(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return yl(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ms(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Uc(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Uc(e)})).join(",")),t.dt=n}return t.dt}function Ol(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!cl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!gl(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ul(e.startAt,t.startAt)&&ul(e.endAt,t.endAt)}function Pl(e){return cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function jl(e,t){return e.filters.filter((function(e){return e instanceof fl&&e.field.isEqual(t)}))}function Rl(e,t,n){var r,i=Mc,a=!0,o=I(jl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Mc,c=!0;switch(u.op){case"<":case"<=":s=Jc(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Mc}el({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];el({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ml(e,t,n){var r,i=Rc,a=!0,o=I(jl(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Rc,c=!0;switch(u.op){case">=":case">":s=Zc(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Rc}tl({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];tl({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ll=m((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function Fl(e,t,n,r,i,a,o,u){return new Ll(e,t,n,r,i,a,o,u)}function Vl(e){return new Ll(e)}function zl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bl(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ul(e){var t,n=I(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function ql(e){return null!==e.collectionGroup}function Gl(e){var t=zu(e);if(null===t.wt){t.wt=[];var n=Ul(t),r=Bl(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new sl(n)),t.wt.push(new sl(ss.keyField(),"asc"));else{var i,a=!1,o=I(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new sl(ss.keyField(),s))}}}return t.wt}function Kl(e){var t=zu(e);if(!t._t)if("F"===t.limitType)t._t=Al(t.path,t.collectionGroup,Gl(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=I(Gl(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new sl(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new al(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new al(t.startAt.position,t.startAt.inclusive):null;t._t=Al(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Ql(e,t){t.getFirstInequalityField(),Ul(e);var n=e.filters.concat([t]);return new Ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hl(e,t,n){return new Ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Wl(e,t){return Ol(Kl(e),Kl(t))&&e.limitType===t.limitType}function Yl(e){return"".concat(Dl(Kl(e)),"|lt:").concat(e.limitType)}function Xl(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return kl(e)})).join(", "),"]")),Ms(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Uc(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Uc(e)})).join(",")),"Target(".concat(t,")")}(Kl(e)),"; limitType=").concat(e.limitType,")")}function $l(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):cs.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=I(Gl(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=I(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=ol(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Gl(e),t))&&!(e.endAt&&!function(e,t,n){var r=ol(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Gl(e),t))}(e,t)}function Jl(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Zl(e){return function(t,n){var r,i=!1,a=I(Gl(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ef(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ef(e,t,n){var r=e.field.isKeyField()?cs.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zc(r,i):Fu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Fu()}}var tf=function(){function e(t,n){h(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return m(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){pc(this.inner,(function(t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return mc(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),nf=new yc(cs.comparator);function rf(){return nf}var af=new yc(cs.comparator);function of(){for(var e=af,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function uf(e){var t=af;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function sf(){return lf()}function cf(){return lf()}function lf(){return new tf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ff=new yc(cs.comparator),hf=new kc(cs.comparator);function df(){for(var e=hf,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var vf=new kc(es);function pf(){return vf}function mf(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ls(t)?"-0":t}}function yf(e){return{integerValue:""+e}}function gf(e,t){return Fs(t)?yf(t):mf(e,t)}var bf=m((function e(){h(this,e),this._=void 0}));function kf(e,t,n){return e instanceof Sf?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Ac(t)&&(t=Dc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ef?If(e,t):e instanceof _f?Cf(e,t):function(e,t){var n=xf(e,t),r=Nf(n)+Nf(e.gt);return Kc(n)&&Kc(e.gt)?yf(r):mf(e.serializer,r)}(e,t)}function wf(e,t,n){return e instanceof Ef?If(e,t):e instanceof _f?Cf(e,t):n}function xf(e,t){return e instanceof Tf?Kc(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Sf=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(bf),Ef=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(bf);function If(e,t){var n,r=Af(t),i=I(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Fc(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var _f=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).elements=e,r}return m(n)}(bf);function Cf(e,t){var n,r=Af(t),i=I(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Fc(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Tf=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return m(n)}(bf);function Nf(e){return Tc(e.integerValue||e.doubleValue)}function Af(e){return Qc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Df=m((function e(t,n){h(this,e),this.field=t,this.transform=n}));var Of=m((function e(t,n){h(this,e),this.version=t,this.transformResults=n})),Pf=function(){function e(t,n){h(this,e),this.updateTime=t,this.exists=n}return m(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function jf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Rf=m((function e(){h(this,e)}));function Mf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Wf(e.key,Pf.none()):new Bf(e.key,e.data,Pf.none());var n,r=e.data,i=nl.empty(),a=new kc(ss.comparator),o=I(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Uf(e.key,i,new Sc(a.toArray()),Pf.none())}function Lf(e,t,n){e instanceof Bf?function(e,t,n){var r=e.value.clone(),i=Gf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Uf?function(e,t,n){if(jf(e.precondition,t)){var r=Gf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qf(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ff(e,t,n,r){return e instanceof Bf?function(e,t,n,r){if(!jf(e.precondition,t))return n;var i=e.value.clone(),a=Kf(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Uf?function(e,t,n,r){if(!jf(e.precondition,t))return n;var i=Kf(e.fieldTransforms,r,t),a=t.data;return a.setAll(qf(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return jf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vf(e,t){var n,r=null,i=I(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=xf(a.transform,o||null);null!=u&&(null===r&&(r=nl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function zf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ts(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ef&&t instanceof Ef||e instanceof _f&&t instanceof _f?ts(e.elements,t.elements,Fc):e instanceof Tf&&t instanceof Tf?Fc(e.gt,t.gt):e instanceof Sf&&t instanceof Sf}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Bf=function(e){g(n,e);var t=x(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return h(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rf),Uf=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return h(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return m(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Rf);function qf(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Gf(e,t,n){var r=new Map;Vu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,wf(o,u,n[i]))}return r}function Kf(e,t,n){var r,i=new Map,a=I(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,kf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Qf,Hf,Wf=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rf),Yf=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return m(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Rf),Xf=function(){function e(t,n,r,i){h(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return m(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Lf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=I(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Ff(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=I(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Ff(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=cf();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Mf(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(is.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),df())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ts(this.mutations,e.mutations,(function(e,t){return zf(e,t)}))&&ts(this.baseMutations,e.baseMutations,(function(e,t){return zf(e,t)}))}}]),e}(),$f=function(){function e(t,n,r,i){h(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return m(e,null,[{key:"from",value:function(t,n,r){Vu(t.mutations.length===r.length);for(var i=ff,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Jf=function(){function e(t,n){h(this,e),this.largestBatchId=t,this.mutation=n}return m(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Zf=m((function e(t,n){h(this,e),this.count=t,this.unchangedNames=n}));function eh(e){switch(e){default:return Fu();case Bu.CANCELLED:case Bu.UNKNOWN:case Bu.DEADLINE_EXCEEDED:case Bu.RESOURCE_EXHAUSTED:case Bu.INTERNAL:case Bu.UNAVAILABLE:case Bu.UNAUTHENTICATED:return!1;case Bu.INVALID_ARGUMENT:case Bu.NOT_FOUND:case Bu.ALREADY_EXISTS:case Bu.PERMISSION_DENIED:case Bu.FAILED_PRECONDITION:case Bu.ABORTED:case Bu.OUT_OF_RANGE:case Bu.UNIMPLEMENTED:case Bu.DATA_LOSS:return!0}}function th(e){if(void 0===e)return Ru("GRPC error has no .code"),Bu.UNKNOWN;switch(e){case Qf.OK:return Bu.OK;case Qf.CANCELLED:return Bu.CANCELLED;case Qf.UNKNOWN:return Bu.UNKNOWN;case Qf.DEADLINE_EXCEEDED:return Bu.DEADLINE_EXCEEDED;case Qf.RESOURCE_EXHAUSTED:return Bu.RESOURCE_EXHAUSTED;case Qf.INTERNAL:return Bu.INTERNAL;case Qf.UNAVAILABLE:return Bu.UNAVAILABLE;case Qf.UNAUTHENTICATED:return Bu.UNAUTHENTICATED;case Qf.INVALID_ARGUMENT:return Bu.INVALID_ARGUMENT;case Qf.NOT_FOUND:return Bu.NOT_FOUND;case Qf.ALREADY_EXISTS:return Bu.ALREADY_EXISTS;case Qf.PERMISSION_DENIED:return Bu.PERMISSION_DENIED;case Qf.FAILED_PRECONDITION:return Bu.FAILED_PRECONDITION;case Qf.ABORTED:return Bu.ABORTED;case Qf.OUT_OF_RANGE:return Bu.OUT_OF_RANGE;case Qf.UNIMPLEMENTED:return Bu.UNIMPLEMENTED;case Qf.DATA_LOSS:return Bu.DATA_LOSS;default:return Fu()}}(Hf=Qf||(Qf={}))[Hf.OK=0]="OK",Hf[Hf.CANCELLED=1]="CANCELLED",Hf[Hf.UNKNOWN=2]="UNKNOWN",Hf[Hf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hf[Hf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hf[Hf.NOT_FOUND=5]="NOT_FOUND",Hf[Hf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hf[Hf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hf[Hf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hf[Hf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hf[Hf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hf[Hf.ABORTED=10]="ABORTED",Hf[Hf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hf[Hf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hf[Hf.INTERNAL=13]="INTERNAL",Hf[Hf.UNAVAILABLE=14]="UNAVAILABLE",Hf[Hf.DATA_LOSS=15]="DATA_LOSS";var nh=function(){function e(){h(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return m(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return rh}},{key:"getOrCreateInstance",value:function(){return null===rh&&(rh=new e),rh}}]),e}(),rh=null;function ih(){return new TextEncoder}var ah=new Tu([4294967295,4294967295],0);function oh(e){var t=ih().encode(e),n=new Cu;return n.update(t),new Uint8Array(n.digest())}function uh(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Tu([n,r],0),new Tu([i,a],0)]}var sh=function(){function e(t,n,r){if(h(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ch("Invalid padding: ".concat(n));if(r<0)throw new ch("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new ch("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new ch("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=Tu.fromNumber(this.It)}return m(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(Tu.fromNumber(n)));return 1===r.compare(ah)&&(r=new Tu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=c(uh(oh(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=c(uh(oh(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),ch=function(e){g(n,e);var t=x(n);function n(){var e;return h(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return m(n)}(E(Error)),lh=function(){function e(t,n,r,i,a){h(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return m(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,fh.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(is.min(),i,new yc(es),rf(),df())}}]),e}(),fh=function(){function e(t,n,r,i,a){h(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return m(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,df(),df(),df())}}]),e}(),hh=m((function e(t,n,r,i){h(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),dh=m((function e(t,n){h(this,e),this.targetId=t,this.Vt=n})),vh=m((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ic.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;h(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),ph=function(){function e(){h(this,e),this.St=0,this.Dt=gh(),this.Ct=Ic.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return m(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=df(),t=df(),n=df();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Fu()}})),new fh(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=gh()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),mh=function(){function e(t){h(this,e),this.Gt=t,this.Qt=new Map,this.jt=rf(),this.zt=yh(),this.Wt=new yc(es)}return m(e,[{key:"Ht",value:function(e){var t,n=I(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=I(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:Fu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(Pl(a))if(0===r){var o=new cs(a.path);this.Yt(n,o,il.newNoDocument(o,is.min()))}else Vu(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=nh.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=Nc(c).toUint8Array()}catch(e){if(e instanceof Ec)return Mu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new sh(a,f,d)}catch(e){return Mu(e instanceof ch?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&Pl(a.target)){var o=new cs(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,il.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=df();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new lh(e,n,this.Wt,this.jt,r);return this.jt=rf(),this.zt=yh(),this.Wt=new yc(es),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new ph,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new kc(es),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||ju("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new ph),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function yh(){return new yc(cs.comparator)}function gh(){return new yc(cs.comparator)}var bh={asc:"ASCENDING",desc:"DESCENDING"},kh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wh={and:"AND",or:"OR"},xh=m((function e(t,n){h(this,e),this.databaseId=t,this.useProto3Json=n}));function Sh(e,t){return e.useProto3Json||Ms(t)?t:{value:t}}function Eh(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ih(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _h(e,t){return Eh(e,t.toTimestamp())}function Ch(e){return Vu(!!e),is.fromTimestamp(function(e){var t=Cc(e);return new rs(t.seconds,t.nanos)}(e))}function Th(e,t){return function(e){return new os(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Nh(e){var t=os.fromString(e);return Vu(Jh(t)),t}function Ah(e,t){return Th(e.databaseId,t.path)}function Dh(e,t){var n=Nh(t);if(n.get(1)!==e.databaseId.projectId)throw new Uu(Bu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uu(Bu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new cs(Rh(n))}function Oh(e,t){return Th(e.databaseId,t)}function Ph(e){var t=Nh(e);return 4===t.length?os.emptyPath():Rh(t)}function jh(e){return new os(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Rh(e){return Vu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Mh(e,t,n){return{name:Ah(e,t),fields:n.value.mapValue.fields}}function Lh(e,t,n){var r=Dh(e,t.name),i=Ch(t.updateTime),a=t.createTime?Ch(t.createTime):is.min(),o=new nl({mapValue:{fields:t.fields}}),u=il.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Fh(e,t){return"found"in t?function(e,t){Vu(!!t.found),t.found.name,t.found.updateTime;var n=Dh(e,t.found.name),r=Ch(t.found.updateTime),i=t.found.createTime?Ch(t.found.createTime):is.min(),a=new nl({mapValue:{fields:t.found.fields}});return il.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){Vu(!!t.missing),Vu(!!t.readTime);var n=Dh(e,t.missing),r=Ch(t.readTime);return il.newNoDocument(n,r)}(e,t):Fu()}function Vh(e,t){var n;if(t instanceof Bf)n={update:Mh(e,t.key,t.value)};else if(t instanceof Wf)n={delete:Ah(e,t.key)};else if(t instanceof Uf)n={update:Mh(e,t.key,t.data),updateMask:$h(t.fieldMask)};else{if(!(t instanceof Yf))return Fu();n={verify:Ah(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Sf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ef)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _f)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Tf)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Fu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_h(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Fu()}(e,t.precondition)),n}function zh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Pf.updateTime(Ch(e.updateTime)):void 0!==e.exists?Pf.exists(e.exists):Pf.none()}(t.currentDocument):Pf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Vu("REQUEST_TIME"===t.setToServerValue),n=new Sf;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Ef(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new _f(i)}else"increment"in t?n=new Tf(e,t.increment):Fu();var a=ss.fromServerFormat(t.fieldPath);return new Df(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Dh(e,t.update.name),a=new nl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Sc(t.map((function(e){return ss.fromServerFormat(e)})))}(t.updateMask);return new Uf(i,a,o,n,r)}return new Bf(i,a,n,r)}if(t.delete){var u=Dh(e,t.delete);return new Wf(u,n)}if(t.verify){var s=Dh(e,t.verify);return new Yf(s,n)}return Fu()}function Bh(e,t){return{documents:[Oh(e,t.path)]}}function Uh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Oh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Oh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Xh(hl.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Wh(e.field),direction:Kh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=Sh(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qh(e){var t=Ph(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Vu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Gh(e);return t instanceof hl&&pl(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new sl(Yh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Ms(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new al(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new al(n,t)}(n.endAt)),Fl(t,i,u,o,s,"F",c,l)}function Gh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Yh(e.unaryFilter.field);return fl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Yh(e.unaryFilter.field);return fl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yh(e.unaryFilter.field);return fl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yh(e.unaryFilter.field);return fl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Fu()}}(e):void 0!==e.fieldFilter?function(e){return fl.create(Yh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fu()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return hl.create(e.compositeFilter.filters.map((function(e){return Gh(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Fu()}}(e.compositeFilter.op))}(e):Fu()}function Kh(e){return bh[e]}function Qh(e){return kh[e]}function Hh(e){return wh[e]}function Wh(e){return{fieldPath:e.canonicalString()}}function Yh(e){return ss.fromServerFormat(e.fieldPath)}function Xh(e){return e instanceof fl?function(e){if("=="===e.op){if(Wc(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NAN"}};if(Hc(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wc(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NAN"}};if(Hc(e.value))return{unaryFilter:{field:Wh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wh(e.field),op:Qh(e.op),value:e.value}}}(e):e instanceof hl?function(e){var t=e.getFilters().map((function(e){return Xh(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Hh(e.op),filters:t}}}(e):Fu()}function $h(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Jh(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Zh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:is.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:is.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ic.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;h(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return m(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),ed=m((function e(t){h(this,e),this.fe=t}));function td(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Ah(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Eh(e,t.version.toTimestamp()),createTime:Eh(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rd(t.version)};else{if(!t.isUnknownDocument())return Fu();r.unknownDocument={path:n.path.toArray(),version:rd(t.version)}}return r}function nd(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rd(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function id(e){var t=new rs(e.seconds,e.nanoseconds);return is.fromTimestamp(t)}function ad(e,t){for(var n=(t.baseMutations||[]).map((function(t){return zh(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return zh(e.fe,t)})),u=rs.fromMillis(t.localWriteTimeMs);return new Xf(t.batchId,u,n,o)}function od(e){var t,n,r=id(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?id(e.lastLimboFreeSnapshotVersion):is.min();return void 0!==e.query.documents?(Vu(1===(n=e.query).documents.length),t=Kl(Vl(Ph(n.documents[0])))):t=function(e){return Kl(qh(e))}(e.query),new Zh(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,Ic.fromBase64String(e.resumeToken))}function ud(e,t){var n,r=rd(t.snapshotVersion),i=rd(t.lastLimboFreeSnapshotVersion);n=Pl(t.target)?Bh(e.fe,t.target):Uh(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Dl(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function sd(e){var t=qh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hl(t,t.limit,"L"):t}function cd(e,t){return new Jf(t.largestBatchId,zh(e.fe,t.overlayMutation))}function ld(e,t){var n=t.path.lastSegment();return[e,Vs(t.path.popLast()),n]}function fd(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:rd(r.readTime),documentKey:Vs(r.documentKey.path),largestBatchId:r.largestBatchId}}var hd=function(){function e(){h(this,e)}return m(e,[{key:"getBundleMetadata",value:function(e,t){return dd(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:id(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return dd(e).put({bundleId:(n=t).id,createTime:rd(Ch(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return vd(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:sd(t.bundledQuery),readTime:id(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return vd(e).put(function(e){return{name:e.name,readTime:rd(Ch(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function dd(e){return dc(e,"bundles")}function vd(e){return dc(e,"namedQueries")}var pd=function(){function e(t,n){h(this,e),this.serializer=t,this.userId=n}return m(e,[{key:"getOverlay",value:function(e,t){var n=this;return md(e).get(ld(this.userId,t)).next((function(e){return e?cd(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=sf();return Ss.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Jf(t,a);i.push(r.we(e,o))})),Ss.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Vs(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(md(e).J("collectionPathOverlayIndex",i))})),Ss.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=sf(),a=Vs(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return md(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=cd(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=sf(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return md(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=cd(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return md(e).put(function(e,t,n){var r=c(ld(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Vh(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function md(e){return dc(e,"documentOverlays")}var yd=function(){function e(){h(this,e)}return m(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tc(e.integerValue));else if("doubleValue"in e){var n=Tc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Ls(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Nc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?$c(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Fu()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),cs.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function gd(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function bd(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=gd(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yd.Ve=new yd;var kd=function(){function e(){h(this,e),this.buffer=new Uint8Array(1024),this.position=0}return m(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=bd(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=bd(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),wd=function(){function e(t){h(this,e),this.je=t}return m(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),xd=function(){function e(t){h(this,e),this.je=t}return m(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),Sd=function(){function e(){h(this,e),this.je=new kd,this.ze=new wd(this.je),this.We=new xd(this.je)}return m(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),Ed=function(){function e(t,n,r,i){h(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return m(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Id(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=_d(e.arrayValue,t.arrayValue))?n:0!==(n=_d(e.directionalValue,t.directionalValue))?n:cs.comparator(e.documentKey,t.documentKey)}function _d(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Cd=function(){function e(t){h(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=I(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return m(e,[{key:"tn",value:function(e){Vu(e.collectionGroup===this.collectionId);var t=fs(e);if(void 0!==t&&!this.en(t))return!1;for(var n=hs(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}},{key:"en",value:function(e){var t,n=I(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function Td(e){var t,n;if(Vu(e instanceof fl||e instanceof hl),e instanceof fl){if(e instanceof _l){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return fl.create(e.field,"==",t)})))||[];return hl.create(r,"or")}return e}var i=e.filters.map((function(e){return Td(e)}));return hl.create(i,e.op)}function Nd(e){if(0===e.getFilters().length)return[];var t=Pd(Td(e));return Vu(Od(t)),Ad(t)||Dd(t)?[t]:t.getFilters()}function Ad(e){return e instanceof fl}function Dd(e){return e instanceof hl&&pl(e)}function Od(e){return Ad(e)||Dd(e)||function(e){if(e instanceof hl&&vl(e)){var t,n=I(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!Ad(r)&&!Dd(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function Pd(e){if(Vu(e instanceof fl||e instanceof hl),e instanceof fl)return e;if(1===e.filters.length)return Pd(e.filters[0]);var t=e.filters.map((function(e){return Pd(e)})),n=hl.create(t,e.op);return Od(n=Md(n))?n:(Vu(n instanceof hl),Vu(dl(n)),Vu(n.filters.length>1),n.filters.reduce((function(e,t){return jd(e,t)})))}function jd(e,t){var n;return Vu(e instanceof fl||e instanceof hl),Vu(t instanceof fl||t instanceof hl),n=e instanceof fl?t instanceof fl?function(e,t){return hl.create([e,t],"and")}(e,t):Rd(e,t):t instanceof fl?Rd(t,e):function(e,t){if(Vu(e.filters.length>0&&t.filters.length>0),dl(e)&&dl(t))return bl(e,t.getFilters());var n=vl(e)?e:t,r=vl(e)?t:e,i=n.filters.map((function(e){return jd(e,r)}));return hl.create(i,"or")}(e,t),Md(n)}function Rd(e,t){if(dl(t))return bl(t,e.getFilters());var n=t.filters.map((function(t){return jd(e,t)}));return hl.create(n,"or")}function Md(e){if(Vu(e instanceof fl||e instanceof hl),e instanceof fl)return e;var t=e.getFilters();if(1===t.length)return Md(t[0]);if(ml(e))return e;var n=t.map((function(e){return Md(e)})),r=[];return n.forEach((function(t){t instanceof fl?r.push(t):t instanceof hl&&(t.op===e.op?r.push.apply(r,f(t.filters)):r.push(t))})),1===r.length?r[0]:hl.create(r,e.op)}var Ld=function(){function e(){h(this,e),this.rn=new Fd}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),Ss.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ss.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ss.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ss.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ss.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ss.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ss.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ss.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ss.resolve(ys.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ss.resolve(ys.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ss.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ss.resolve()}}]),e}(),Fd=function(){function e(){h(this,e),this.index={}}return m(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new kc(os.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new kc(os.comparator)).toArray()}}]),e}(),Vd=new Uint8Array(0),zd=function(){function e(t,n){h(this,e),this.user=t,this.databaseId=n,this.on=new Fd,this.un=new tf((function(e){return Dl(e)}),(function(e,t){return Ol(e,t)})),this.uid=t.uid||""}return m(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:Vs(i)};return Bd(e).put(a)}return Ss.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ns(t),""],!1,!0);return Bd(e).j(r).next((function(e){var r,i=I(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Us(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=qd(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Gd(e);return a.next((function(e){o.put(fd(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=qd(e),r=Gd(e),i=Ud(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Ud(e),i=!0,a=new Map;return Ss.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=df(),o=[];return Ss.forEach(a,(function(i,a){var u;ju("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Dl(t)));var s=function(e,t){var n=fs(t);if(void 0===n)return null;var r,i=I(jl(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=I(hs(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=I(jl(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=I(hs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Rl(e,o.fieldPath,e.startAt):Ml(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new al(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=I(hs(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ml(e,o.fieldPath,e.endAt):Rl(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new al(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),v=n.ln(i,a,c),p=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,v);return Ss.forEach(p,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=cs.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Ss.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:Nd(hl.create(e.filters,"and")).map((function(t){return Al(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],h=function(){var s=t?u.dn(t[d/c]):Vd,h=u.wn(e,s,n[d%c],r),v=u._n(e,s,i[d%c],a),p=o.map((function(t){return u.wn(e,s,t,!0)}));l.push.apply(l,f(u.createRange(h,v,p)))},d=0;d<s;++d)h();return l}},{key:"wn",value:function(e,t,n,r){var i=new Ed(e,cs.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new Ed(e,cs.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new Cd(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return Ss.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new kc(ss.comparator),r=!1,i=I(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=I(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=I(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new Sd,i=I(hs(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);yd.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new Sd;return yd.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new Sd;return yd.Ve._e(Gc(this.databaseId,t),n.He(function(e){var t=hs(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Sd);var i,a=0,o=I(hs(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=I(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&Qc(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);yd.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=f(e),a=[],o=I(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=I(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,h=new Sd;h.seed(l.Qe()),yd.Ve._e(s,h.He(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof fl&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=qd(e),i=Gd(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return Ss.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new vs(t.sequenceNumber,new ys(id(t.readTime),new cs(Us(t.documentKey)),t.largestBatchId)):vs.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new ds(ss.fromServerFormat(n),r)}));return new ls(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:es(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=qd(e),a=Gd(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Ss.forEach(t,(function(t){return a.put(fd(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Ss.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Ss.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Ss.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?Ss.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return Ud(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return Ud(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=Ud(e),i=new kc(Id);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new Ed(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new kc(Id),r=this.mn(t,e);if(null==r)return n;var i=fs(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Qc(a)){var o,u=I(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Ed(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Ed(t.indexId,e.key,Vd,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;ju("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=xc(a),s=xc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=xc(o)):l?(i(u),u=xc(a)):(u=xc(a),s=xc(o))}}(r,i,Id,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),Ss.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return Gd(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Id(e,t)})).filter((function(e,t,n){return!t||0!==Id(e,n[t-1])}));var r=[];r.push(e);var i,a=I(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Id(o,e),s=Id(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Vd,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Vd,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return Id(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Kd)}},{key:"getMinOffset",value:function(e,t){var n=this;return Ss.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||Fu()}))})).next(Kd)}}]),e}();function Bd(e){return dc(e,"collectionParents")}function Ud(e){return dc(e,"indexEntries")}function qd(e){return dc(e,"indexConfiguration")}function Gd(e){return dc(e,"indexState")}function Kd(e){Vu(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;gs(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new ys(t.readTime,t.documentKey,n)}var Qd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Hd=function(){function e(t,n,r){h(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return m(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Wd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Vu(1===u)})));var c,l=[],f=I(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Ks(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(v){f.e(v)}finally{f.f()}return Ss.waitFor(a).next((function(){return l}))}function Yd(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Fu();t=e.noDocument}return JSON.stringify(t).length}Hd.DEFAULT_COLLECTION_PERCENTILE=10,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hd.DEFAULT=new Hd(41943040,Hd.DEFAULT_COLLECTION_PERCENTILE,Hd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hd.DISABLED=new Hd(-1,0,0);var Xd=function(){function e(t,n,r,i){h(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return m(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Zd(e),o=Jd(e);return o.add({}).next((function(u){Vu("number"==typeof u);var s,c=new Xf(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Vh(e.fe,t)})),i=n.mutations.map((function(t){return Vh(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new kc((function(e,t){return es(e.canonicalString(),t.canonicalString())})),d=I(r);try{for(d.s();!(s=d.n()).done;){var v=s.value,p=Ks(i.userId,v.key.path,u);h=h.add(v.key.path.popLast()),f.push(o.put(l)),f.push(a.put(p,Qs))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),Ss.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Jd(e).get(t).next((function(e){return e?(Vu(e.userId===n.userId),ad(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?Ss.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Jd(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Vu(t.batchId>=r),a=ad(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Jd(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jd(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return ad(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Gs(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Zd(e).X({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=Us(l);if(s===n.userId&&t.path.isEqual(h))return Jd(e).get(f).next((function(e){if(!e)throw Fu();Vu(e.userId===n.userId),a.push(ad(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new kc(es),i=[];return t.forEach((function(t){var a=Gs(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Zd(e).X({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=Us(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Ss.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Gs(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new kc(es);return Zd(e).X({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=Us(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.Dn(e,u)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Jd(e).get(t).next((function(e){if(null===e)throw Fu();Vu(e.userId===n.userId),r.push(ad(n.serializer,e))})))})),Ss.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Wd(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),Ss.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Ss.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Zd(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Us(e[1]);i.push(a)}else r.done()})).next((function(){Vu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return $d(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return ev(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return Vu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function $d(e,t,n){var r=Gs(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Zd(e).X({range:a,Y:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Jd(e){return dc(e,"mutations")}function Zd(e){return dc(e,"documentMutations")}function ev(e){return dc(e,"mutationQueues")}var tv=function(){function e(t){h(this,e),this.Nn=t}return m(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),nv=function(){function e(t,n){h(this,e),this.referenceDelegate=t,this.serializer=n}return m(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new tv(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return is.fromTimestamp(new rs(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return rv(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return Vu(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return rv(e).X((function(o,u){var s=od(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Ss.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return rv(e).X((function(e,n){var r=od(n);t(r)}))}},{key:"$n",value:function(e){return iv(e).get("targetGlobalKey").next((function(e){return Vu(null!==e),e}))}},{key:"On",value:function(e,t){return iv(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return rv(e).put(ud(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Dl(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return rv(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=od(n);Ol(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=av(e);return t.forEach((function(t){var o=Vs(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Ss.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=av(e);return Ss.forEach(t,(function(t){var a=Vs(t.path);return Ss.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=av(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=av(e),i=df();return r.X({range:n,Y:!0},(function(e,t,n){var r=Us(e[1]),a=new cs(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Vs(t.path),r=IDBKeyRange.bound([n],[ns(n)],!1,!0),i=0;return av(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return rv(e).get(t).next((function(e){return e?od(e):null}))}}]),e}();function rv(e){return dc(e,"targets")}function iv(e){return dc(e,"targetGlobal")}function av(e){return dc(e,"targetDocuments")}function ov(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=es(r,o);return 0===s?es(i,u):s}var uv=function(){function e(t){h(this,e),this.Ln=t,this.buffer=new kc(ov),this.qn=0}return m(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ov(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),sv=function(){function e(t,n,r){h(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return m(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;ju("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Ts(e.t0)){e.next=12;break}ju("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,ws(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),cv=function(){function e(t,n){h(this,e),this.jn=t,this.params=n}return m(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Ss.resolve(Rs.ct);var r=new uv(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ju("LruGarbageCollector","Garbage collection skipped; disabled"),Ss.resolve(Qd)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ju("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Qd):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ju("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Pu()<=Pt.DEBUG&&ju("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Ss.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function lv(e,t){return new cv(e,t)}var fv=function(){function e(t,n){h(this,e),this.db=t,this.garbageCollector=lv(this,n)}return m(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return hv(e,n)}},{key:"removeReference",value:function(e,t,n){return hv(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return hv(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return ev(e).Z((function(r){return $d(e,r,t).next((function(e){return e&&(n=!0),Ss.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,is.min()),av(e).delete([0,Vs(o.path)])}))}));i.push(s)}})).next((function(){return Ss.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return hv(e,t)}},{key:"Yn",value:function(e,t){var n,r=av(e),i=Rs.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Rs.ct&&t(new cs(Us(n)),i),i=s,n=u):i=Rs.ct})).next((function(){i!==Rs.ct&&t(new cs(Us(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function hv(e,t){return av(e).put(function(e,t){return{targetId:0,path:Vs(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var dv=function(){function e(){h(this,e),this.changes=new tf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return m(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,il.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ss.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),vv=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return gv(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return gv(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nd(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=il.newInvalidDocument(t);return gv(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bv(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:il.newInvalidDocument(t)};return gv(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(bv(t))},(function(e,i){r={document:n.ts(t,i),size:Yd(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=rf();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=rf(),i=new yc(cs.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,Yd(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return Ss.resolve();var r=new kc(wv);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(bv(r.first()),bv(r.last())),a=r.getIterator(),o=a.getNext();return gv(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=cs.fromSegments([].concat(f(t.prefixPath),[t.collectionGroup,t.documentId]));o&&wv(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(bv(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),nd(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gv(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=rf(),o=I(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(cs.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&($l(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=rf(),o=kv(t,n),u=kv(t,ys.max());return gv(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(cs.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new mv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return yv(e).get("remoteDocumentGlobalKey").next((function(e){return Vu(!!e),e}))}},{key:"Zn",value:function(e,t){return yv(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Lh(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=cs.fromSegments(t.noDocument.path),i=id(t.noDocument.readTime);n=il.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Fu();var a=cs.fromSegments(t.unknownDocument.path),o=id(t.unknownDocument.version);n=il.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new rs(e[0],e[1]);return is.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(is.min()))return n}return il.newInvalidDocument(e)}}]),e}();function pv(e){return new vv(e)}var mv=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new tf((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new kc((function(e,t){return es(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=td(t.os.serializer,o);i=i.add(a.path.popLast());var c=Yd(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=td(t.os.serializer,o.convertToNoDocument(is.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),Ss.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(dv);function yv(e){return dc(e,"remoteDocumentGlobal")}function gv(e){return dc(e,"remoteDocumentsV14")}function bv(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function kv(e,t){var n=t.documentKey.path.toArray();return[e,nd(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function wv(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=es(n[a],r[a]))return i;return(i=es(n.length,r.length))||((i=es(n[n.length-2],r[r.length-2]))||es(n[n.length-1],r[r.length-1]))}var xv=m((function e(t,n){h(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Sv=function(){function e(t,n,r,i){h(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return m(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Ff(r.mutation,e,Sc.empty(),rs.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,df()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:df(),i=sf();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=of();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=sf();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,df())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=rf(),a=lf(),o=lf();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Uf)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Ff(o.mutation,t,o.mutation.getFieldMask(),rs.now())):a.set(t.key,Sc.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new xv(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=lf(),i=new yc((function(e,t){return e-t})),a=df();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=I(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Sc.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||df()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=cf();c.forEach((function(e){if(!a.has(e)){var n=Mf(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Ss.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return cs.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ql(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ss.resolve(sf()),u=-1,s=a;return o.next((function(t){return Ss.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Ss.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,df())})).next((function(e){return{batchId:u,changes:uf(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new cs(t)).next((function(e){var t=of();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=of();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ss.forEach(o,(function(o){var u=function(e,t){return new Ll(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,il.newInvalidDocument(r)))}));var n=of();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&Ff(a.mutation,i,Sc.empty(),rs.now()),$l(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),Ev=function(){function e(t){h(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return m(e,[{key:"getBundleMetadata",value:function(e,t){return Ss.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Ch(n.createTime)}),Ss.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ss.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:sd(e.bundledQuery),readTime:Ch(e.readTime)}}(t)),Ss.resolve()}}]),e}(),Iv=function(){function e(){h(this,e),this.overlays=new yc(cs.comparator),this.ls=new Map}return m(e,[{key:"getOverlay",value:function(e,t){return Ss.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=sf();return Ss.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),Ss.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),Ss.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=sf(),i=t.length+1,a=new cs(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Ss.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new yc((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=sf(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=sf(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Ss.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Jf(t,n));var a=this.ls.get(t);void 0===a&&(a=df(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),_v=function(){function e(){h(this,e),this.fs=new kc(Cv.ds),this.ws=new kc(Cv._s)}return m(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Cv(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new Cv(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new cs(new os([])),r=new Cv(n,e),i=new Cv(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new cs(new os([])),n=new Cv(t,e),r=new Cv(t,e+1),i=df();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Cv(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Cv=function(){function e(t,n){h(this,e),this.key=t,this.As=n}return m(e,null,[{key:"ds",value:function(e,t){return cs.comparator(e.key,t.key)||es(e.As,t.As)}},{key:"_s",value:function(e,t){return es(e.As,t.As)||cs.comparator(e.key,t.key)}}]),e}(),Tv=function(){function e(t,n){h(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new kc(Cv.ds)}return m(e,[{key:"checkEmpty",value:function(e){return Ss.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Xf(i,t,n,r);this.mutationQueue.push(a);var o,u=I(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new Cv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Ss.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ss.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return Ss.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ss.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return Ss.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Cv(t,0),i=new Cv(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),Ss.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new kc(es);return t.forEach((function(e){var t=new Cv(e,0),i=new Cv(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),Ss.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;cs.isDocumentKey(i)||(i=i.child(""));var a=new Cv(new cs(i),0),o=new kc(es);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),Ss.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Vu(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return Ss.forEach(t.mutations,(function(i){var a=new Cv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Cv(t,0),r=this.Rs.firstAfterOrEqual(n);return Ss.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ss.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Nv=function(){function e(t){h(this,e),this.Ds=t,this.docs=new yc(cs.comparator),this.size=0}return m(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ss.resolve(n?n.document.mutableCopy():il.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=rf();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():il.newInvalidDocument(e))})),Ss.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=rf(),a=t.path,o=new cs(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||gs(ms(l),n)<=0||(r.has(l.key)||$l(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ss.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Fu()}},{key:"Cs",value:function(e,t){return Ss.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Av(this)}},{key:"getSize",value:function(e){return Ss.resolve(this.size)}}]),e}(),Av=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).os=e,r}return m(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),Ss.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(dv),Dv=function(){function e(t){h(this,e),this.persistence=t,this.xs=new tf((function(e){return Dl(e)}),Ol),this.lastRemoteSnapshotVersion=is.min(),this.highestTargetId=0,this.Ns=0,this.ks=new _v,this.targetCount=0,this.Ms=tv.kn()}return m(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),Ss.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ss.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ss.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),Ss.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Ss.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new tv(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,Ss.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),Ss.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Ss.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Ss.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ss.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return Ss.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),Ss.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ss.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),Ss.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return Ss.resolve(n)}},{key:"containsKey",value:function(e,t){return Ss.resolve(this.ks.containsKey(t))}}]),e}(),Ov=function(){function e(t,n){var r=this;h(this,e),this.$s={},this.overlays={},this.Os=new Rs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new Dv(this),this.indexManager=new Ld,this.remoteDocumentCache=new Nv((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new ed(n),this.qs=new Ev(this.serializer)}return m(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Iv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new Tv(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;ju("MemoryPersistence","Starting transaction:",e);var i=new Pv(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return Ss.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Pv=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return m(n)}(ks),jv=function(){function e(t){h(this,e),this.persistence=t,this.Qs=new _v,this.js=null}return m(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw Fu()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Ss.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Ss.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),Ss.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ss.forEach(this.Ws,(function(r){var i=cs.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,is.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return Ss.or([function(){return Ss.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),Rv=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new Es("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qs,{unique:!0}),e.createObjectStore("documentMutations")}(e),Mv(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Ss.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Mv(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:is.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qs,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Ss.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:ic});t.createIndex("collectionPathOverlayIndex",ac,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",oc,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Hs});t.createIndex("documentKeyIndex",Ws),t.createIndex("collectionGroupIndex",Ys)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:ec}).createIndex("sequenceNumberIndex",tc,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:nc}).createIndex("documentKeyIndex",rc,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Yd(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return Ss.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return Ss.forEach(r,(function(r){Vu(r.userId===n.userId);var i=ad(t.serializer,r);return Wd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new os(n),o=function(e){return[0,Vs(e)]}(a);r.push(t.get(o).next((function(n){return n?Ss.resolve():function(n){return t.put({targetId:0,path:Vs(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Ss.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Zs});var n=t.store("collectionParents"),r=new Fd,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Vs(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new os(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],Us(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=od(r),a=ud(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new cs(os.fromString(i.document.name).popFirst(5)):i.noDocument?cs.fromSegments(i.noDocument.path):i.unknownDocument?cs.fromSegments(i.unknownDocument.path):Fu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Ss.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=pv(this.serializer),a=new Ov(jv.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:df();ad(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Ss.forEach(r,(function(e,r){var o=new Au(r),u=pd.de(n.serializer,o),s=a.getIndexManager(o),c=Xd.de(o,n.serializer,s,a.referenceDelegate);return new Sv(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new hc(t,Rs.ct),e).next()}))}))}}]),e}();function Mv(e){e.createObjectStore("targetDocuments",{keyPath:$s}).createIndex("documentTargetsIndex",Js,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Xs,{unique:!0}),e.createObjectStore("targetGlobal")}var Lv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Fv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(h(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new Uu(Bu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fv(this,i),this.di=n+"main",this.serializer=new ed(s),this.wi=new Is(this.di,this.ui,new Rv(this.serializer)),this.Bs=new nv(this.referenceDelegate,this.serializer),this.remoteDocumentCache=pv(this.serializer),this.qs=new hd,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&Ru("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return m(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uu(Bu.FAILED_PRECONDITION,Lv);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new Rs(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=nt(et().mark((function n(r){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return zv(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(Ts(t))return ju("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ju("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return Vv(e).get("owner").next((function(e){return Ss.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return zv(e).delete(this.clientId)}},{key:"bi",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dc(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Ss.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=I(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?Ss.resolve(!0):Vv(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new Uu(Bu.FAILED_PRECONDITION,Lv);return!1}}return!(!t.networkEnabled||!t.inForeground)||zv(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ju("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new hc(e,Rs.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return zv(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return Xd.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new zd(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return pd.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;ju("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?fc:14===i?lc:13===i?cc:12===i?sc:11===i?uc:void Fu();return this.wi.runTransaction(e,o,u,(function(i){return a=new hc(i,r.Os?r.Os.next():Rs.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw Ru("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new Uu(Bu.FAILED_PRECONDITION,bs);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return Vv(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uu(Bu.FAILED_PRECONDITION,Lv)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Vv(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=Vv(e);return n.get("owner").next((function(e){return t.Ri(e)?(ju("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ss.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ru("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;yt()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ju("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ru("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Ru("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return Is.D()}}]),e}();function Vv(e){return dc(e,"owner")}function zv(e){return dc(e,"clientMetadata")}function Bv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Uv=function(){function e(t,n,r,i){h(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return m(e,null,[{key:"Li",value:function(t,n){var r,i=df(),a=df(),o=I(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),qv=function(){function e(){h(this,e),this.qi=!1}return m(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(zl(t))return Ss.resolve(null);var r=Kl(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Hl(t,null,"F"),r=Kl(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=df.apply(void 0,f(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,Hl(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return zl(t)||r.isEqual(is.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(Pu()<=Pt.DEBUG&&ju("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Xl(t)),i.Wi(e,o,t,ps(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new kc(Zl(e));return t.forEach((function(t,r){$l(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return Pu()<=Pt.DEBUG&&ju("QueryEngine","Using full collection scan to execute query:",Xl(t)),this.Ui.getDocumentsMatchingQuery(e,t,ys.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Gv=function(){function e(t,n,r,i){h(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new yc(es),this.Yi=new tf((function(e){return Dl(e)}),Ol),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return m(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sv(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function Kv(e,t,n,r){return new Gv(e,t,n,r)}function Qv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=df(),s=I(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=I(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var d,v=I(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,y=I(p.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(b){y.e(b)}finally{y.f()}}}catch(b){v.e(b)}finally{v.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}function Wv(e,t){var n=zu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ss.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Vu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=df(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Yv(e){var t=zu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function Xv(e,t){var n=zu(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(Ic.EMPTY_BYTE_STRING,is.min()).withLastLimboFreeSnapshotVersion(is.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=rf(),s=df();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($v(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(is.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ss.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function $v(e,t,n){var r=df(),i=df();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=rf();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(is.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):ju("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function Jv(e,t){var n=zu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Zv(e,t){var n=zu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,Ss.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Zh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function ep(e,t,n){return tp.apply(this,arguments)}function tp(){return tp=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zu(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ts(e.t1)){e.next=12;break}throw e.t1;case 12:ju("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),tp.apply(this,arguments)}function np(e,t,n){var r=zu(e),i=is.min(),a=df();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=zu(e),i=r.Yi.get(n);return void 0!==i?Ss.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Kl(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:is.min(),n?a:df())})).next((function(e){return ap(r,Jl(t),e),{documents:e,ir:a}}))}))}function rp(e,t){var n=zu(e),r=zu(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function ip(e,t){var n=zu(e),r=n.Xi.get(t)||is.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,ps(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return ap(n,t,e),e}))}function ap(e,t,n){var r=e.Xi.get(t)||is.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function op(e,t,n,r){return up.apply(this,arguments)}function up(){return up=nt(et().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,v;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=zu(t),o=df(),u=rf(),s=I(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,h)}catch(p){s.e(p)}finally{s.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,Zv(a,function(e){return Kl(Vl(os.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $v(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function sp(e,t){return cp.apply(this,arguments)}function cp(){return cp=nt(et().mark((function e(t,n){var r,i,a,o=arguments;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:df(),e.next=3,Zv(t,Kl(sd(n.bundledQuery)));case 3:return i=e.sent,a=zu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Ch(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(Ic.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function fp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function hp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var dp=function(){function e(t,n,r,i){h(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return m(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Uu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ru("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),vp=function(){function e(t,n,r){h(this,e),this.targetId=t,this.state=n,this.error=r}return m(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uu(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ru("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),pp=function(){function e(t,n){h(this,e),this.clientId=t,this.activeTargetIds=n}return m(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=pf(),o=0;i&&o<r.activeTargetIds.length;++o)i=Fs(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ru("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),mp=function(){function e(t,n){h(this,e),this.clientId=t,this.onlineState=n}return m(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ru("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),yp=function(){function e(){h(this,e),this.activeTargetIds=pf()}return m(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),gp=function(){function e(t,n,r,i,a){h(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new yc(es),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=lp(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new yp),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return m(e,[{key:"start",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=I(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(lp(this.persistenceKey,i)))&&(o=pp.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=I(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hp(this.persistenceKey,e));if(n){var r=vp.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(hp(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ju("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ju("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ju("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ju("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void Ru("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(nt(et().mark((function e(){var r,i,a,o,u,s,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=Rs.ct;if(null!=e)try{var n=JSON.parse(e);Vu("number"==typeof n),t=n}catch(e){Ru("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Rs.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new dp(this.currentUser,e,t,n),i=fp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=fp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=hp(this.persistenceKey,e),i=new vp(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return pp.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dp.ar(new Au(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return vp.ar(r,t)}},{key:"br",value:function(e){return mp.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:ju("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=pf();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),bp=function(){function e(){h(this,e),this.Hr=new yp,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return m(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new yp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),kp=function(){function e(){h(this,e)}return m(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wp=function(){function e(){var t=this;h(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return m(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){ju("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){ju("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=I(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),xp=null;function Sp(){return null===xp?xp=268435456+Math.round(2147483648*Math.random()):xp++,"0x"+xp.toString(16)}var Ep={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Ip=function(){function e(t){h(this,e),this.ro=t.ro,this.oo=t.oo}return m(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),_p="WebChannelConnection",Cp=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return m(n,[{key:"Ao",value:function(e,t,n,r){var i=Sp();return new Promise((function(a,o){var u=new _u;u.setWithCredentials(!0),u.listenOnce(wu.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case ku.NO_ERROR:var t=u.getResponseJson();ju(_p,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case ku.TIMEOUT:ju(_p,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Uu(Bu.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:var n=u.getStatus();if(ju(_p,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Bu).indexOf(t)>=0?t:Bu.UNKNOWN}(s.status);o(new Uu(c,s.message))}else o(new Uu(Bu.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Uu(Bu.UNAVAILABLE,"Connection failed."));break;default:Fu()}}finally{ju(_p,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);ju(_p,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Sp(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gu(),o=bu(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new Eu({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");ju(_p,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new Ip({ro:function(t){h?ju(_p,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(ju(_p,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),ju(_p,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),v=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return v(l,Iu.EventType.OPEN,(function(){h||ju(_p,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),v(l,Iu.EventType.CLOSE,(function(){h||(h=!0,ju(_p,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),v(l,Iu.EventType.ERROR,(function(t){h||(h=!0,Mu(_p,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Uu(Bu.UNAVAILABLE,"The operation could not be completed")))})),v(l,Iu.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];Vu(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){ju(_p,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Qf[e];if(void 0!==t)return th(t)}(u),c=o.message;void 0===s&&(s=Bu.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new Uu(s,c)),l.close()}else ju(_p,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),v(o,xu.STAT_EVENT,(function(t){t.stat===Su.PROXY?ju(_p,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Su.NOPROXY&&ju(_p,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){h(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return m(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Sp(),o=this.To(e,t);ju("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return ju("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Mu("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=Ep[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function Tp(){return"undefined"!=typeof window?window:null}function Np(){return"undefined"!=typeof document?document:null}function Ap(e){return new xh(e,!0)}var Dp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;h(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return m(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&ju("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),Op=function(){function e(t,n,r,i,a,o,u,s){h(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Dp(t,n)}return m(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===Bu.RESOURCE_EXHAUSTED?(Ru(n.toString()),Ru("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===Bu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new Uu(Bu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return ju("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(ju("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Pp=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return m(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Fu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Vu(void 0===t||"string"==typeof t),Ic.fromBase64String(t||"")):(Vu(void 0===t||t instanceof Uint8Array),Ic.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Bu.UNKNOWN:th(e.code);return new Uu(t,e.message||"")}(o);n=new vh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Dh(e,s.document.name),l=Ch(s.document.updateTime),f=s.document.createTime?Ch(s.document.createTime):is.min(),h=new nl({mapValue:{fields:s.document.fields}}),d=il.newFoundDocument(c,l,f,h),v=s.targetIds||[],p=s.removedTargetIds||[];n=new hh(v,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=Dh(e,m.document),g=m.readTime?Ch(m.readTime):is.min(),b=il.newNoDocument(y,g),k=m.removedTargetIds||[];n=new hh([],k,b.key,b)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=Dh(e,w.document),S=w.removedTargetIds||[];n=new hh([],S,x,null)}else{if(!("filter"in t))return Fu();t.filter;var E=t.filter;E.targetId;var I=E.count,_=void 0===I?0:I,C=E.unchangedNames,T=new Zf(_,C),N=E.targetId;n=new dh(N,T)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return is.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?is.min():t.readTime?Ch(t.readTime):is.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=jh(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=Pl(r)?{documents:Bh(e,r)}:{query:Uh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ih(e,t.resumeToken);var i=Sh(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(is.min())>0){n.readTime=Eh(e,t.snapshotVersion.toTimestamp());var a=Sh(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fu()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=jh(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(Op),jp=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return m(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,ar(b(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(Vu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(Vu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ch(e.updateTime):Ch(t);return n.isEqual(is.min())&&(n=Ch(t)),new Of(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ch(e.commitTime);return this.listener.cu(n,t)}return Vu(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=jh(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Vh(t.serializer,e)}))};this.Wo(n)}}]),n}(Op),Rp=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return m(n,[{key:"fu",value:function(){if(this.lu)throw new Uu(Bu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.connection.Io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Bu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uu(Bu.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.connection.vo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Bu.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Uu(Bu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return m((function e(){h(this,e)}))}());var Mp=function(){function e(t,n){h(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return m(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ru(t),this.mu=!1):ju("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),Lp=m((function e(t,n,r,i,a){var o=this;h(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Wp(o),!e.t0){e.next=5;break}return ju("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zu(t)).vu.add(4),e.next=4,zp(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,Fp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new Mp(r,i)}));function Fp(e){return Vp.apply(this,arguments)}function Vp(){return(Vp=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Wp(t)){e.next=18;break}n=I(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function zp(e){return Bp.apply(this,arguments)}function Bp(){return(Bp=nt(et().mark((function e(t){var n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Up(e,t){var n=zu(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Hp(n)?Qp(n):Sm(n).Ko()&&Gp(n,t))}function qp(e,t){var n=zu(e),r=Sm(n);n.Au.delete(t),r.Ko()&&Kp(n,t),0===n.Au.size&&(r.Ko()?r.jo():Wp(n)&&n.bu.set("Unknown"))}function Gp(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(is.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sm(e).su(t)}function Kp(e,t){e.Vu.qt(t),Sm(e).iu(t)}function Qp(e){e.Vu=new mh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Sm(e).start(),e.bu.gu()}function Hp(e){return Wp(e)&&!Sm(e).Uo()&&e.Au.size>0}function Wp(e){return 0===zu(e).vu.size}function Yp(e){e.Vu=void 0}function Xp(e){return $p.apply(this,arguments)}function $p(){return($p=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){Gp(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jp(e,t){return Zp.apply(this,arguments)}function Zp(){return(Zp=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Yp(t),Hp(t)?(t.bu.Iu(n),Qp(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function em(e,t,n){return tm.apply(this,arguments)}function tm(){return tm=nt(et().mark((function e(t,n,r){var i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof vh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=I(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ju("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,nm(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof hh?t.Vu.Ht(n):n instanceof dh?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(is.min())){e.next=29;break}return e.prev=14,e.next=17,Yv(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(Ic.EMPTY_BYTE_STRING,r.snapshotVersion)),Kp(e,t);var i=new Zh(r.target,t,n,r.sequenceNumber);Gp(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ju("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,nm(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),tm.apply(this,arguments)}function nm(e,t,n){return rm.apply(this,arguments)}function rm(){return(rm=nt(et().mark((function e(t,n,r){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ts(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,zp(t);case 5:t.bu.set("Offline"),r||(r=function(){return Yv(t.localStore)}),t.asyncQueue.enqueueRetryable(nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ju("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,Fp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function im(e,t){return t().catch((function(n){return nm(e,n,t)}))}function am(e){return om.apply(this,arguments)}function om(){return(om=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=zu(t),r=Em(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!um(n)){e.next=19;break}return e.prev=3,e.next=6,Jv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,sm(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,nm(n,e.t0);case 17:e.next=2;break;case 19:cm(n)&&lm(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function um(e){return Wp(e)&&e.Eu.length<10}function sm(e,t){e.Eu.push(t);var n=Em(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function cm(e){return Wp(e)&&!Em(e).Uo()&&e.Eu.length>0}function lm(e){Em(e).start()}function fm(e){return hm.apply(this,arguments)}function hm(){return(hm=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Em(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dm(e){return vm.apply(this,arguments)}function vm(){return(vm=nt(et().mark((function e(t){var n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Em(t),r=I(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pm(e,t,n){return mm.apply(this,arguments)}function mm(){return(mm=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=$f.from(i,n,r),e.next=3,im(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,am(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ym(e,t){return gm.apply(this,arguments)}function gm(){return gm=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Em(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!eh(i=n.code)||i===Bu.ABORTED){e.next=7;break}return r=t.Eu.shift(),Em(t).Qo(),e.next=5,im(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,am(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:cm(t)&&lm(t);case 5:case"end":return e.stop()}}),e)}))),gm.apply(this,arguments)}function bm(e,t){return km.apply(this,arguments)}function km(){return(km=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=zu(t)).asyncQueue.verifyOperationInProgress(),ju("RemoteStore","RemoteStore received new credentials"),i=Wp(r),r.vu.add(3),e.next=6,zp(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,Fp(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wm(e,t){return xm.apply(this,arguments)}function xm(){return(xm=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,Fp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,zp(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sm(e){return e.Su||(e.Su=function(e,t,n){var r=zu(e);return r.fu(),new Pp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Xp.bind(null,e),ao:Jp.bind(null,e),nu:em.bind(null,e)}),e.Ru.push(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),Hp(e)?Qp(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Yp(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function Em(e){return e.Du||(e.Du=function(e,t,n){var r=zu(e);return r.fu(),new jp(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:fm.bind(null,e),ao:ym.bind(null,e),au:dm.bind(null,e),cu:pm.bind(null,e)}),e.Ru.push(function(){var t=nt(et().mark((function t(n){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,am(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(ju("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var Im=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return m(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uu(Bu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function _m(e,t){if(Ru("AsyncQueue","".concat(t,": ").concat(e)),Ts(e))return new Uu(Bu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Cm=function(){function e(t){h(this,e),this.comparator=t?function(e,n){return t(e,n)||cs.comparator(e.key,n.key)}:function(e,t){return cs.comparator(e.key,t.key)},this.keyedMap=of(),this.sortedSet=new yc(this.comparator)}return m(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Tm=function(){function e(){h(this,e),this.Cu=new yc(cs.comparator)}return m(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Fu():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Nm=function(){function e(t,n,r,i,a,o,u,s,c){h(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return m(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Cm.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),Am=m((function e(){h(this,e),this.Nu=void 0,this.listeners=[]})),Dm=m((function e(){h(this,e),this.queries=new tf((function(e){return Yl(e)}),Wl),this.onlineState="Unknown",this.ku=new Set}));function Om(e,t){return Pm.apply(this,arguments)}function Pm(){return Pm=nt(et().mark((function e(t,n){var r,i,a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Am),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=_m(e.t0,"Initialization of query '".concat(Xl(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&Fm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Pm.apply(this,arguments)}function jm(e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=nt(et().mark((function e(t,n){var r,i,a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Mm(e,t){var n,r=zu(e),i=!1,a=I(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=I(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&Fm(r)}function Lm(e,t,n){var r=zu(e),i=r.queries.get(t);if(i){var a,o=I(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function Fm(e){e.ku.forEach((function(e){e.next()}))}var Vm=function(){function e(t,n,r){h(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return m(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=I(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Nm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=Nm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),zm=function(){function e(t,n){h(this,e),this.Gu=t,this.byteLength=n}return m(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),Bm=function(){function e(t){h(this,e),this.serializer=t}return m(e,[{key:"rr",value:function(e){return Dh(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?Lh(this.serializer,e.document,!1):il.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return Ch(e)}}]),e}(),Um=function(){function e(t,n,r){h(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qm(t)}return m(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=os.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new Bm(this.serializer),i=I(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=I(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||df()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=nt(et().mark((function e(){var t,n,r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,op(this.localStore,new Bm(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=I(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,sp(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function qm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Gm=m((function e(t){h(this,e),this.key=t})),Km=m((function e(t){h(this,e),this.key=t})),Qm=function(){function e(t,n){h(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=df(),this.mutatedKeys=df(),this.tc=Zl(t),this.ec=new Cm(this.tc)}return m(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new Tm,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=$l(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.rc(l,f)||(r.track({type:2,doc:f}),v=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),v=!0):l&&!f&&(r.track({type:1,doc:l}),v=!0,(s||c)&&(u=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fu()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new Nm(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Tm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=df(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new Km(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new Gm(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=df();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return Nm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),Hm=m((function e(t,n,r){h(this,e),this.query=t,this.targetId=n,this.view=r})),Wm=m((function e(t){h(this,e),this.key=t,this.fc=!1})),Ym=function(){function e(t,n,r,i,a,o){h(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new tf((function(e){return Yl(e)}),Wl),this._c=new Map,this.mc=new Set,this.gc=new yc(cs.comparator),this.yc=new Map,this.Ic=new _v,this.Tc={},this.Ec=new Map,this.Ac=tv.Mn(),this.onlineState="Unknown",this.vc=void 0}return m(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function Xm(e,t){return $m.apply(this,arguments)}function $m(){return $m=nt(et().mark((function e(t,n){var r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=qy(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,Zv(r.localStore,Kl(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,Jm(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&Up(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),$m.apply(this,arguments)}function Jm(e,t,n,r,i){return Zm.apply(this,arguments)}function Zm(){return Zm=nt(et().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=nt(et().mark((function e(t,n,r,i){var a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,np(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(by(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,np(t.localStore,n,!0);case 3:return o=e.sent,u=new Qm(n,o.ir),s=u.sc(o.documents),c=fh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),by(t,r,l.cc),f=new Hm(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Zm.apply(this,arguments)}function ey(e,t){return ty.apply(this,arguments)}function ty(){return(ty=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=zu(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Wl(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ep(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),qp(r.remoteStore,i.targetId),yy(r,i.targetId)})).catch(ws);case 9:e.next=14;break;case 11:return yy(r,i.targetId),e.next=14,ep(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ny(e,t,n){return ry.apply(this,arguments)}function ry(){return ry=nt(et().mark((function e(t,n,r){var i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Gy(t),e.prev=1,e.next=4,function(e,t){var n,r,i=zu(e),a=rs.now(),o=t.reduce((function(e,t){return e.add(t.key)}),df());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=rf(),s=df();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=I(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Vf(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Uf(c.key,l,rl(l.value.mapValue),Pf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:uf(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new yc(es)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,xy(i,a.changes);case 9:return e.next=11,am(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=_m(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ry.apply(this,arguments)}function iy(e,t){return ay.apply(this,arguments)}function ay(){return(ay=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.prev=1,e.next=4,Xv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(Vu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?Vu(n.fc):e.removedDocuments.size>0&&(Vu(n.fc),n.fc=!1))})),e.next=8,xy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,ws(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function oy(e,t,n){var r=zu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=zu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=I(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&Fm(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function uy(e,t,n){return sy.apply(this,arguments)}function sy(){return sy=nt(et().mark((function e(t,n,r){var i,a,o,u,s,c;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=zu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new yc(cs.comparator)).insert(o,il.newNoDocument(o,is.min())),s=df().add(o),c=new lh(is.min(),new Map,new yc(es),u,s),e.next=9,iy(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),wy(i),e.next=16;break;case 14:return e.next=16,ep(i.localStore,n,!1).then((function(){return yy(i,n,r)})).catch(ws);case 16:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function cy(e,t){return ly.apply(this,arguments)}function ly(){return(ly=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),i=n.batch.batchId,e.prev=1,e.next=4,Wv(r.localStore,n);case 4:return a=e.sent,my(r,i,null),py(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,xy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ws(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function fy(e,t,n){return hy.apply(this,arguments)}function hy(){return(hy=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=zu(t),e.prev=1,e.next=4,function(e,t){var n=zu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Vu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,my(i,n,r),py(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,xy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,ws(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function dy(e,t){return vy.apply(this,arguments)}function vy(){return(vy=nt(et().mark((function e(t,n){var r,i,a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wp((r=zu(t)).remoteStore)||ju("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=zu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=_m(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function py(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function my(e,t,n){var r=zu(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function yy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=I(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||gy(e,t)}))}function gy(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(qp(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),wy(e))}function by(e,t,n){var r,i=I(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Gm?(e.Ic.addReference(a.key,t),ky(e,a)):a instanceof Km?(ju("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||gy(e,a.key)):Fu()}}catch(o){i.e(o)}finally{i.f()}}function ky(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(ju("SyncEngine","New document in limbo: "+n),e.mc.add(r),wy(e))}function wy(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new cs(os.fromString(t)),r=e.Ac.next();e.yc.set(r,new Wm(n)),e.gc=e.gc.insert(n,r),Up(e.remoteStore,new Zh(Kl(Vl(n.path)),r,"TargetPurposeLimboResolution",Rs.ct))}}function xy(e,t,n){return Sy.apply(this,arguments)}function Sy(){return Sy=nt(et().mark((function e(t,n,r){var i,a,o,u;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=zu(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Uv.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,u,s,c,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ss.forEach(n,(function(t){return Ss.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ss.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ts(e.t0)){e.next=10;break}throw e.t0;case 10:ju("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=I(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Sy.apply(this,arguments)}function Ey(e,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=zu(t)).currentUser.isEqual(n)){e.next=11;break}return ju("SyncEngine","User change. New user:",n.toKey()),e.next=5,Qv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new Uu(Bu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,xy(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _y(e,t){var n=zu(e),r=n.yc.get(t);if(r&&r.fc)return df().add(r.key);var i=df(),a=n._c.get(t);if(!a)return i;var o,u=I(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function Cy(e,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.next=3,np(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&by(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ny(e,t){return Ay.apply(this,arguments)}function Ay(){return(Ay=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),e.abrupt("return",ip(r.localStore,n).then((function(e){return xy(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dy(e,t,n,r){return Oy.apply(this,arguments)}function Oy(){return Oy=nt(et().mark((function e(t,n,r,i){var a,o;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=zu(t),e.next=3,function(e,t){var n=zu(e),r=zu(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Ss.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,am(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(my(a,n,i||null),py(a,n),function(e,t){zu(zu(e).mutationQueue).Cn(t)}(a.localStore,n)):Fu();case 11:return e.next=13,xy(a,o);case 13:e.next=16;break;case 15:ju("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Oy.apply(this,arguments)}function Py(e,t){return jy.apply(this,arguments)}function jy(){return(jy=nt(et().mark((function e(t,n){var r,i,a,o,u,s,c,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qy(r=zu(t)),Gy(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Ry(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,wm(r.remoteStore,!0);case 9:o=I(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Up(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return yy(r,t),ep(r.localStore,t,!0)})),qp(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Ry(r,c);case 21:return function(e){var t=zu(e);t.yc.forEach((function(e,n){qp(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new yc(cs.comparator)}(r),r.vc=!1,e.next=25,wm(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ry(e,t,n){return My.apply(this,arguments)}function My(){return My=nt(et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,v,p,m,y;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=zu(t),a=[],o=[],u=I(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,Zv(i.localStore,Kl(f[0]));case 11:l=e.sent,h=I(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return v=d.value,p=i.wc.get(v),e.next=20,Cy(i,p);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,rp(i.localStore,c);case 36:return y=e.sent,e.next=39,Zv(i.localStore,y);case 39:return l=e.sent,e.next=42,Jm(i,Ly(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),My.apply(this,arguments)}function Ly(e){return Fl(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Fy(e){var t=zu(e);return zu(zu(t.localStore).persistence).$i()}function Vy(e,t,n,r){return zy.apply(this,arguments)}function zy(){return zy=nt(et().mark((function e(t,n,r,i){var a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=zu(t)).vc){e.next=3;break}return e.abrupt("return",void ju("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,ip(a.localStore,Jl(o[0]));case 10:return u=e.sent,s=lh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,Ic.EMPTY_BYTE_STRING),e.next=14,xy(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,ep(a.localStore,n,!0);case 17:return yy(a,n,i),e.abrupt("break",20);case 19:Fu();case 20:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function By(e,t,n){return Uy.apply(this,arguments)}function Uy(){return(Uy=nt(et().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=qy(t)).vc){e.next=45;break}a=I(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return ju("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,rp(i.localStore,u);case 12:return s=e.sent,e.next=15,Zv(i.localStore,s);case 15:return c=e.sent,e.next=18,Jm(i,Ly(s),c.targetId,!1,c.resumeToken);case 18:Up(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=I(r),e.prev=30,h=et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,ep(i.localStore,t,!1).then((function(){qp(i.remoteStore,t),yy(i,t)})).catch(ws);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function qy(e){var t=zu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=iy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_y.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uy.bind(null,t),t.dc.nu=Mm.bind(null,t.eventManager),t.dc.Pc=Lm.bind(null,t.eventManager),t}function Gy(e){var t=zu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fy.bind(null,t),t}function Ky(e,t,n){var r=zu(e);(function(){var e=nt(et().mark((function e(t,n,r){var i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=zu(e),r=Ch(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(qm(i)),a=new Um(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,xy(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=zu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Mu("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Qy=function(){function e(){h(this,e),this.synchronizeTabs=!1}return m(e,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=Ap(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Kv(this.persistence,new qv,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Ov(jv.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new bp}},{key:"terminate",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Hy=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return m(n,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar(b(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,Gy(this.Vc.syncEngine);case 6:return e.next=8,am(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return Kv(this.persistence,new qv,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new sv(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new js(t,this.persistence);return new Ps(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=Bv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Hd.withCacheSize(this.cacheSizeBytes):Hd.DEFAULT;return new Fv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tp(),Np(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new bp}}]),n}(Qy),Wy=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return m(n,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t){var r,i=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ar(b(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof gp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:Dy.bind(null,r),zr:Vy.bind(null,r),Wr:By.bind(null,r),$i:Fy.bind(null,r),Qr:Ny.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Py(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=Tp();if(!gp.D(t))throw new Uu(Bu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Bv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Hy),Yy=function(){function e(){h(this,e)}return m(e,[{key:"initialize",value:function(){var e=nt(et().mark((function e(t,n){var r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return oy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ey.bind(null,this.syncEngine),e.next=12,wm(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Dm}},{key:"createDatastore",value:function(e){var t,n=Ap(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Cp(t));return function(e,t,n,r){return new Rp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return oy(o.syncEngine,e,0)},a=wp.D()?new wp:new kp,new Lp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Ym(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zu(t),ju("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,zp(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Xy(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return nt(et().mark((function r(){var i;return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var $y=function(){function e(t){h(this,e),this.observer=t,this.muted=!1}return m(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):Ru("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Jy=function(){function e(t,n){var r=this;h(this,e),this.Cc=t,this.serializer=n,this.metadata=new qu,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return m(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=nt(et().mark((function e(){var t,n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new zm(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zy=function(){function e(t){h(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return m(e,[{key:"lookup",value:function(){var e=nt(et().mark((function e(t){var n,r=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Uu(Bu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=nt(et().mark((function e(t,n){var r,i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),i=jh(r.serializer)+"/documents",a={documents:n.map((function(e){return Ah(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Fh(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Vu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Wf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=nt(et().mark((function e(){var t,n=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=cs.fromPath(t);n.mutations.push(new Yf(r,n.precondition(r)))})),e.next=7,function(){var e=nt(et().mark((function e(t,n){var r,i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zu(t),i=jh(r.serializer)+"/documents",a={writes:n.map((function(e){return Vh(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Fu();t=is.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uu(Bu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(is.min())?Pf.exists(!1):Pf.updateTime(t):Pf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(is.min()))throw new Uu(Bu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pf.updateTime(t)}return Pf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),eg=function(){function e(t,n,r,i,a){h(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new Dp(this.asyncQueue,"transaction_retry")}return m(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(nt(et().mark((function t(){var n,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Zy(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!Ms(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!eh(t)}return!1}}]),e}(),tg=function(){function e(t,n,r,i){var a=this;h(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Au.UNAUTHENTICATED,this.clientId=Zu.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ju("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ju("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return m(e,[{key:"getConfiguration",value:function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Uu(Bu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(nt(et().mark((function n(){var r;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=_m(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ng(e,t){return rg.apply(this,arguments)}function rg(){return rg=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ju("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Qv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),rg.apply(this,arguments)}function ig(e,t){return ag.apply(this,arguments)}function ag(){return(ag=nt(et().mark((function e(t,n){var r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ug(t);case 3:return r=e.sent,ju("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return bm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return bm(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function og(e){return"FirebaseError"===e.name?e.code===Bu.FAILED_PRECONDITION||e.code===Bu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ug(e){return sg.apply(this,arguments)}function sg(){return(sg=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return ju("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,ng(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),og(n=e.t0)){e.next=13;break}throw n;case 13:return Mu("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,ng(t,new Qy);case 16:e.next=21;break;case 18:return ju("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,ng(t,new Qy);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function cg(e){return lg.apply(this,arguments)}function lg(){return(lg=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return ju("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,ig(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return ju("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,ig(t,new Yy);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fg(e){return ug(e).then((function(e){return e.persistence}))}function hg(e){return ug(e).then((function(e){return e.localStore}))}function dg(e){return cg(e).then((function(e){return e.remoteStore}))}function vg(e){return cg(e).then((function(e){return e.syncEngine}))}function pg(e){return cg(e).then((function(e){return e.datastore}))}function mg(e){return yg.apply(this,arguments)}function yg(){return(yg=nt(et().mark((function e(t){var n,r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Xm.bind(null,n.syncEngine),r.onUnlisten=ey.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $y({next:function(a){t.enqueueAndForget((function(){return jm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Uu(Bu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Uu(Bu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Vm(Vl(n.path),a,{includeMetadataChanges:!0,Ku:!0});return Om(e,o)},i.next=3,mg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function bg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new $y({next:function(n){t.enqueueAndForget((function(){return jm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Uu(Bu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Vm(n,a,{includeMetadataChanges:!0,Ku:!0});return Om(e,o)},i.next=3,mg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kg(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var wg=new Map;function xg(e,t,n){if(!n)throw new Uu(Bu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Sg(e,t,n,r){if(!0===t&&!0===r)throw new Uu(Bu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Eg(e){if(!cs.isDocumentKey(e))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ig(e){if(cs.isDocumentKey(e))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _g(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Fu()}function Cg(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uu(Bu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_g(e);throw new Uu(Bu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Tg(e,t){if(t<=0)throw new Uu(Bu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Ng=function(){function e(t){var n,r;if(h(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Uu(Bu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uu(Bu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Sg("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kg(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Uu(Bu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Uu(Bu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Uu(Bu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return m(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),Ag=function(){function e(t,n,r,i){h(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ng({}),this._settingsFrozen=!1}return m(e,[{key:"app",get:function(){if(!this._app)throw new Uu(Bu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Uu(Bu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ng(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ku;switch(e.type){case"firstParty":return new Yu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Uu(Bu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wg.get(e);t&&(ju("ComponentProvider","Removing Datastore"),wg.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Dg(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Cg(e,Ag))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&Mu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=Au.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new Uu(Bu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Au(c)}e._authCredentials=new Qu(new Gu(u,s))}}var Og=function(){function e(t,n,r){h(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return m(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new jg(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Pg=function(){function e(t,n,r){h(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return m(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),jg=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this,e,r,Vl(i)))._path=i,a.type="collection",a}return m(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Og(this.firestore,null,new cs(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Pg);function Rg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tt(e),xg("collection","path",t),e instanceof Ag){var a=os.fromString.apply(os,[t].concat(r));return Ig(a),new jg(e,null,a)}if(!(e instanceof Og||e instanceof jg))throw new Uu(Bu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(os.fromString.apply(os,[t].concat(r)));return Ig(o),new jg(e.firestore,null,o)}function Mg(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Tt(e),1===arguments.length&&(t=Zu.A()),xg("doc","path",t),e instanceof Ag){var a=os.fromString.apply(os,[t].concat(r));return Eg(a),new Og(e,null,new cs(a))}if(!(e instanceof Og||e instanceof jg))throw new Uu(Bu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(os.fromString.apply(os,[t].concat(r)));return Eg(o),new Og(e.firestore,e instanceof jg?e.converter:null,new cs(o))}function Lg(e,t){return e=Tt(e),t=Tt(t),(e instanceof Og||e instanceof jg)&&(t instanceof Og||t instanceof jg)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fg(e,t){return e=Tt(e),t=Tt(t),e instanceof Pg&&t instanceof Pg&&e.firestore===t.firestore&&Wl(e._query,t._query)&&e.converter===t.converter}var Vg=function(){function e(){var t=this;h(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Dp(this,"async_queue_retry"),this.Xc=function(){var e=Np();e&&ju("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=Np();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return m(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=Np();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new qu;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=nt(et().mark((function e(){var t=this;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ts(e.t0)){e.next=12;break}throw e.t0;case 12:ju("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ru("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=Im.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&Fu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=nt(et().mark((function e(){var t;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=I(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=I(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function zg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=I(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var Bg=function(){function e(){h(this,e),this._progressObserver={},this._taskCompletionResolver=new qu,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return m(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Ug=function(e){g(n,e);var t=x(n);function n(e,r,i,a){var o;return h(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Vg,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return m(n,[{key:"_terminate",value:function(){return this._firestoreClient||Gg(this),this._firestoreClient.terminate()}}]),n}(Ag);function qg(e){return e._firestoreClient||Gg(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Gg(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new Pc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new tg(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function Kg(e,t,n){var r=new qu;return e.asyncQueue.enqueue(nt(et().mark((function i(){var a;return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ng(e,n);case 3:return i.next=5,ig(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),og(a=i.t0)){i.next=13;break}throw a;case 13:Mu("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Qg(e){return function(e){return e.asyncQueue.enqueue(nt(et().mark((function t(){var n,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fg(e);case 2:return n=t.sent,t.next=5,dg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=zu(e);return t.vu.delete(0),Fp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(qg(e=Cg(e,Ug)))}function Hg(e){return function(e){return e.asyncQueue.enqueue(nt(et().mark((function t(){var n,r;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fg(e);case 2:return n=t.sent,t.next=5,dg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=zu(t)).vu.add(0),e.next=4,zp(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(qg(e=Cg(e,Ug)))}function Wg(e,t){var n=qg(e=Cg(e,Ug)),r=new Bg;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Jy(e,t)}(function(e,t){if(e instanceof Uint8Array)return Xy(e,t);if(e instanceof ArrayBuffer)return Xy(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?ih().encode(e):e),t)}(n,Ap(t));e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ky,t.next=3,vg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Yg(e,t){return function(e,t){return e.asyncQueue.enqueue(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=zu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,hg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(qg(e=Cg(e,Ug)),t).then((function(t){return t?new Pg(e,null,t.query):null}))}function Xg(e){if(e._initialized||e._terminated)throw new Uu(Bu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $g=function(){function e(t){h(this,e),this._byteString=t}return m(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Ic.fromBase64String(t))}catch(t){throw new Uu(Bu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Ic.fromUint8Array(t))}}]),e}(),Jg=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ss(n)}return m(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Zg=m((function e(t){h(this,e),this._methodName=t})),eb=function(){function e(t,n){if(h(this,e),!isFinite(t)||t<-90||t>90)throw new Uu(Bu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Uu(Bu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return m(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return es(this._lat,e._lat)||es(this._long,e._long)}}]),e}(),tb=/^__.*__$/,nb=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Uf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bf(e,this.data,t,this.fieldTransforms)}}]),e}(),rb=function(){function e(t,n,r){h(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return m(e,[{key:"toMutation",value:function(e,t){return new Uf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function ib(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fu()}}var ab=function(){function e(t,n,r,i,a,o){h(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return m(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return Ib(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ib(this.ca)&&tb.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),ob=function(){function e(t,n,r){h(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ap(t)}return m(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ab({ca:e,methodName:t,ga:n,path:ss.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function ub(e){var t=e._freezeSettings(),n=Ap(e._databaseId);return new ob(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sb(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);wb("Data must be an object, but it was:",o,r);var u,s,c=bb(r,o);if(a.merge)u=new Sc(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=I(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=xb(t,l.value,n);if(!o.contains(d))throw new Uu(Bu.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));_b(f,d)||f.push(d)}}catch(v){h.e(v)}finally{h.f()}u=new Sc(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new nb(new nl(c),u,s)}var cb=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Zg);function lb(e,t,n){return new ab({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var fb=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"_toFieldTransform",value:function(e){return new Df(e.path,new Sf)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Zg),hb=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=lb(this,e,!0),n=this.pa.map((function(e){return gb(e,t)})),r=new Ef(n);return new Df(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Zg),db=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).pa=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=lb(this,e,!0),n=this.pa.map((function(e){return gb(e,t)})),r=new _f(n);return new Df(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Zg),vb=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e)).Ia=r,i}return m(n,[{key:"_toFieldTransform",value:function(e){var t=new Tf(e.serializer,gf(e.serializer,this.Ia));return new Df(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Zg);function pb(e,t,n,r){var i=e.ya(1,t,n);wb("Data must be an object, but it was:",i,r);var a=[],o=nl.empty();pc(r,(function(e,r){var u=Eb(t,e,n);r=Tt(r);var s=i.da(u);if(r instanceof cb)a.push(u);else{var c=gb(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Sc(a);return new rb(o,u,i.fieldTransforms)}function mb(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[xb(t,r,n)],s=[i];if(a.length%2!=0)throw new Uu(Bu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(xb(t,a[c])),s.push(a[c+1]);for(var l=[],f=nl.empty(),h=u.length-1;h>=0;--h)if(!_b(l,u[h])){var d=u[h],v=s[h];v=Tt(v);var p=o.da(d);if(v instanceof cb)l.push(d);else{var m=gb(v,p);null!=m&&(l.push(d),f.set(d,m))}}var y=new Sc(l);return new rb(f,y,o.fieldTransforms)}function yb(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return gb(n,e.ya(r?4:3,t))}function gb(e,t){if(kb(e=Tt(e)))return wb("Unsupported field value:",t,e),bb(e,t);if(e instanceof Zg)return function(e,t){if(!ib(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=I(e);try{for(a.s();!(n=a.n()).done;){var o=gb(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Tt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gf(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=rs.fromDate(e);return{timestampValue:Eh(t.serializer,n)}}if(e instanceof rs){var r=new rs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Eh(t.serializer,r)}}if(e instanceof eb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $g)return{bytesValue:Ih(t.serializer,e._byteString)};if(e instanceof Og){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Th(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(_g(e)))}(e,t)}function bb(e,t){var n={};return mc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pc(e,(function(e,r){var i=gb(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof rs||e instanceof eb||e instanceof $g||e instanceof Og||e instanceof Zg)}function wb(e,t,n){if(!kb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_g(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function xb(e,t,n){if((t=Tt(t))instanceof Jg)return t._internalPath;if("string"==typeof t)return Eb(e,t);throw Ib("Field path arguments must be of type string or ",e,!1,void 0,n)}var Sb=new RegExp("[~\\*/\\[\\]]");function Eb(e,t,n){if(t.search(Sb)>=0)throw Ib("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(Jg,f(t.split(".")))._internalPath}catch(r){throw Ib("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ib(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Uu(Bu.INVALID_ARGUMENT,u+e+s)}function _b(e,t){return e.some((function(e){return e.isEqual(t)}))}var Cb=function(){function e(t,n,r,i,a){h(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return m(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Og(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Nb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Tb=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){return ar(b(n.prototype),"data",this).call(this)}}]),n}(Cb);function Nb(e,t){return"string"==typeof t?Eb(e,t):t instanceof Jg?t._internalPath:t._delegate._internalPath}function Ab(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Uu(Bu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Db=m((function e(){h(this,e)})),Ob=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n)}(Db);function Pb(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Db&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof Rb})).length,n=e.filter((function(e){return e instanceof jb})).length;if(t>1||t>0&&n>0)throw new Uu(Bu.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=I(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var jb=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return m(n,[{key:"_apply",value:function(e){var t=this._parse(e);return Hb(e._query,t),new Pg(e.firestore,e.converter,Ql(e._query,t))}},{key:"_parse",value:function(e){var t=ub(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Qb(o,a);var s,c=[],l=I(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Kb(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=Kb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Qb(o,a),u=yb(n,"where",o,"in"===a||"not-in"===a);return fl.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ob);var Rb=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return m(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:hl.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=I(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;Hb(r,a),r=Ql(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Pg(e.firestore,e.converter,Ql(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Db);var Mb=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return m(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new sl(t,n);return function(e,t){if(null===Bl(e)){var n=Ul(e);null!==n&&Wb(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Pg(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ll(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ob);var Lb=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return m(n,[{key:"_apply",value:function(e){return new Pg(e.firestore,e.converter,Hl(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ob);var Fb=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=Gb(e,this.type,this._docOrFields,this._inclusive);return new Pg(e.firestore,e.converter,function(e,t){return new Ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ob);function Vb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fb._create("startAt",t,!0)}function zb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fb._create("startAfter",t,!1)}var Bb=function(e){g(n,e);var t=x(n);function n(e,r,i){var a;return h(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return m(n,[{key:"_apply",value:function(e){var t=Gb(e,this.type,this._docOrFields,this._inclusive);return new Pg(e.firestore,e.converter,function(e,t){return new Ll(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ob);function Ub(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bb._create("endBefore",t,!1)}function qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Bb._create("endAt",t,!0)}function Gb(e,t,n,r){if(n[0]=Tt(n[0]),n[0]instanceof Cb)return function(e,t,n,r,i){if(!r)throw new Uu(Bu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=I(Gl(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Gc(t,r.key));else{var c=r.data.field(s.field);if(Ac(c))throw new Uu(Bu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new al(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ub(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Uu(Bu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!ql(e)&&-1!==c.indexOf("/"))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(os.fromString(c));if(!cs.isDocumentKey(l))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new cs(l);u.push(Gc(t,f))}else{var h=yb(n,r,c);u.push(h)}}return new al(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Kb(e,t,n){if("string"==typeof(n=Tt(n))){if(""===n)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ql(t)&&-1!==n.indexOf("/"))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(os.fromString(n));if(!cs.isDocumentKey(r))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Gc(e,new cs(r))}if(n instanceof Og)return Gc(e,n._key);throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(_g(n),"."))}function Qb(e,t){if(!Array.isArray(e)||0===e.length)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Hb(e,t){if(t.isInequality()){var n=Ul(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=Bl(e);null!==i&&Wb(e,r,i)}var a=function(e,t){var n,r=I(e);try{for(r.s();!(n=r.n()).done;){var i,a=I(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new Uu(Bu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Uu(Bu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function Wb(e,t,n){if(!n.isEqual(t))throw new Uu(Bu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Yb=function(){function e(){h(this,e)}return m(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Lc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Fu()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return pc(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new eb(Tc(e.latitude),Tc(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Dc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Oc(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Cc(e);return new rs(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=os.fromString(e);Vu(Jh(n));var r=new jc(n.get(1),n.get(3)),i=new cs(n.popFirst(5));return r.isEqual(t)||Ru("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Xb(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var $b=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new $g(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Og(this.firestore,null,t)}}]),n}(Yb);var Jb=function(){function e(t,n){h(this,e),this.hasPendingWrites=t,this.fromCache=n}return m(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Zb=function(e){g(n,e);var t=x(n);function n(e,r,i,a,o,u){var s;return h(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return m(n,[{key:"exists",value:function(){return ar(b(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ek(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Nb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Cb),ek=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ar(b(n.prototype),"data",this).call(this,e)}}]),n}(Zb),tk=function(){function e(t,n,r,i){h(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jb(i.hasPendingWrites,i.fromCache),this.query=r}return m(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ek(n._firestore,n._userDataWriter,r.key,r,new Jb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Uu(Bu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ek(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ek(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Jb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:nk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function nk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fu()}}function rk(e,t){return e instanceof Zb&&t instanceof Zb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tk&&t instanceof tk&&e._firestore===t._firestore&&Fg(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var ik=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new $g(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Og(this.firestore,null,t)}}]),n}(Yb);function ak(e){e=Cg(e,Og);var t=Cg(e.firestore,Ug),n=qg(t),r=new ik(t);return function(e,t){var n=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=nt(et().mark((function e(t,n,r){var i,a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=zu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Uu(Bu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=_m(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Zb(t,r,e._key,n,new Jb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function ok(e){e=Cg(e,Pg);var t=Cg(e.firestore,Ug),n=qg(t),r=new ik(t);return function(e,t){var n=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=nt(et().mark((function e(t,n,r){var i,a,o,u,s;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,np(t,n,!0);case 3:i=e.sent,a=new Qm(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=_m(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,hg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new tk(t,r,e,n)}))}function uk(e,t,n){e=Cg(e,Og);var r=Cg(e.firestore,Ug),i=Xb(e.converter,t,n);return fk(r,[sb(ub(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Pf.none())])}function sk(e,t,n){e=Cg(e,Og);for(var r=Cg(e.firestore,Ug),i=ub(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return fk(r,[("string"==typeof(t=Tt(t))||t instanceof Jg?mb(i,"updateDoc",e._key,t,n,o):pb(i,"updateDoc",e._key,t)).toMutation(e._key,Pf.exists(!0))])}function ck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Tt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||zg(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(zg(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Og)l=Cg(e.firestore,Ug),f=Vl(e._key.path),c={next:function(t){n[s]&&n[s](hk(l,e,t))},error:n[s+1],complete:n[s+2]};else{var v=Cg(e,Pg);l=Cg(v.firestore,Ug),f=v._query;var p=new ik(l);c={next:function(e){n[s]&&n[s](new tk(l,p,v,e))},error:n[s+1],complete:n[s+2]},Ab(e._query)}return function(e,t,n,r){var i=new $y(r),a=new Vm(t,i,n);return e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Om,t.next=3,mg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jm,t.next=3,mg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qg(l),f,h,c)}function lk(e,t){return function(e,t){var n=new $y(t);return e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zu(e).ku.add(t),t.next()},t.next=3,mg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){zu(e).ku.delete(t)},t.next=3,mg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qg(e=Cg(e,Ug)),zg(t)?t:{next:t})}function fk(e,t){return function(e,t){var n=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function r(){return et().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ny,r.next=3,vg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qg(e),t)}function hk(e,t,n){var r=n.docs.get(t._key),i=new ik(e);return new Zb(e,i,t._key,r,new Jb(n.hasPendingWrites,n.fromCache),t.converter)}var dk={maxAttempts:5},vk=function(){function e(t,n){h(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ub(t)}return m(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=pk(e,this._firestore),i=Xb(r.converter,t,n),a=sb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Pf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=pk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Tt(t))||t instanceof Jg?mb(this._dataReader,"WriteBatch.update",i._key,t,n,o):pb(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Pf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=pk(e,this._firestore);return this._mutations=this._mutations.concat(new Wf(t._key,Pf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Uu(Bu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function pk(e,t){if((e=Tt(e)).firestore!==t)throw new Uu(Bu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var mk=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r))._firestore=e,i}return m(n,[{key:"get",value:function(e){var t=this,r=pk(e,this._firestore),i=new ik(this._firestore);return ar(b(n.prototype),"get",this).call(this,e).then((function(e){return new Zb(t._firestore,i,r._key,e._document,new Jb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){h(this,e),this._firestore=t,this._transaction=n,this._dataReader=ub(t)}return m(e,[{key:"get",value:function(e){var t=this,n=pk(e,this._firestore),r=new $b(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Fu();var i=e[0];if(i.isFoundDocument())return new Cb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Cb(t._firestore,r,n._key,null,n.converter);throw Fu()}))}},{key:"set",value:function(e,t,n){var r=pk(e,this._firestore),i=Xb(r.converter,t,n),a=sb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=pk(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Tt(t))||t instanceof Jg?mb(this._dataReader,"Transaction.update",i._key,t,n,o):pb(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=pk(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new hb("arrayUnion",t)}function gk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new db("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Du=e}(_n),bn(new Nt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Ug(new Hu(e.getProvider("auth-internal")),new $u(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uu(Bu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),On(Nu,"3.12.2",e),On(Nu,"3.12.2","esm2017")}();function bk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function kk(){if("undefined"===typeof Uint8Array)throw new Uu("unimplemented","Uint8Arrays are not available in this environment.")}function wk(){if("undefined"==typeof atob)throw new Uu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xk=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"toBase64",value:function(){return wk(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return kk(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wk(),new e($g.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return kk(),new e($g.fromUint8Array(t))}}]),e}();function Sk(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=I(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var Ek=function(){function e(){h(this,e)}return m(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Xg(e=Cg(e,Ug));var n=qg(e);if(n._uninitializedComponentsProvider)throw new Uu(Bu.FAILED_PRECONDITION,"SDK cache is already specified.");Mu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new Yy;return Kg(n,i,new Hy(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Xg(e=Cg(e,Ug));var t=qg(e);if(t._uninitializedComponentsProvider)throw new Uu(Bu.FAILED_PRECONDITION,"SDK cache is already specified.");Mu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new Yy;return Kg(t,r,new Wy(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Uu(Bu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new qu;return e._queue.enqueueAndForgetEvenWhileRestricted(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Is.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Is.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Bv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Ik=function(){function e(t,n,r){var i=this;h(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof jc||(this._appCompat=t)}return m(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Mu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Dg(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Qg(this._delegate)}},{key:"disableNetwork",value:function(){return Hg(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Sg("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function n(){return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=dy,n.next=3,vg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(qg(Cg(this._delegate,Ug)))}},{key:"onSnapshotsInSync",value:function(e){return lk(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Uu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Vk(this,Rg(this._delegate,e))}catch(t){throw Dk(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ak(this,Mg(this._delegate,e))}catch(t){throw Dk(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Mk(this,function(e,t){if(e=Cg(e,Ag),xg("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uu(Bu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new Pg(e,null,function(e){return new Ll(os.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Dk(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=Cg(e,Ug);var r=Object.assign(Object.assign({},dk),n);return function(e){if(e.maxAttempts<1)throw new Uu(Bu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new qu;return e.asyncQueue.enqueueAndForget(nt(et().mark((function i(){var a;return et().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,pg(e);case 2:a=i.sent,new eg(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(qg(e),(function(n){return t(new mk(e,n))}),r)}(this._delegate,(function(n){return e(new Ck(t,n))}))}},{key:"batch",value:function(){var e=this;return qg(this._delegate),new Tk(new vk(this._delegate,(function(t){return fk(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Wg(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Yg(this._delegate,e).then((function(e){return e?new Mk(t,e):null}))}}]),e}(),_k=function(e){g(n,e);var t=x(n);function n(e){var r;return h(this,n),(r=t.call(this)).firestore=e,r}return m(n,[{key:"convertBytes",value:function(e){return new xk(new $g(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ak.forKey(t,this.firestore,null)}}]),n}(Yb);var Ck=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _k(t)}return m(e,[{key:"get",value:function(e){var t=this,n=zk(e);return this._delegate.get(n).then((function(e){return new jk(t._firestore,new Zb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=zk(e);return n?(bk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zk(e);return this._delegate.delete(t),this}}]),e}(),Tk=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"set",value:function(e,t,n){var r=zk(e);return n?(bk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=zk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=zk(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Nk=function(){function e(t,n,r){h(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return m(e,[{key:"fromFirestore",value:function(e,t){var n=new ek(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rk(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _k(t),n),i.set(n,a)),a}}]),e}();Nk.INSTANCES=new WeakMap;var Ak=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _k(t)}return m(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Vk(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Vk(this.firestore,Rg(this._delegate,e))}catch(t){throw Dk(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Tt(e))instanceof Og&&Lg(this._delegate,e)}},{key:"set",value:function(e,t){t=bk("DocumentReference.set",t);try{return t?uk(this._delegate,e,t):uk(this._delegate,e)}catch(n){throw Dk(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?sk(this._delegate,e):sk.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Dk(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return fk(Cg((e=this._delegate).firestore,Ug),[new Wf(e._key,Pf.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ok(n),a=Pk(n,(function(t){return new jk(e.firestore,new Zb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return ck(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ak(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Cg(e,Og);var t=Cg(e.firestore,Ug);return gg(qg(t),e._key,{source:"server"}).then((function(n){return hk(t,e,n)}))}(this._delegate):function(e){e=Cg(e,Og);var t=Cg(e.firestore,Ug);return gg(qg(t),e._key).then((function(n){return hk(t,e,n)}))}(this._delegate)).then((function(e){return new jk(t.firestore,new Zb(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Nk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Uu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Og(n._delegate,r,new cs(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Og(n._delegate,r,t))}}]),e}();function Dk(e,t,n){return e.message=e.message.replace(t,n),e}function Ok(e){var t,n=I(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Sk(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Pk(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Sk(e[0])?e[0]:Sk(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jk=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"ref",get:function(){return new Ak(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return rk(this._delegate,e._delegate)}}]),e}(),Rk=function(e){g(n,e);var t=x(n);function n(){return h(this,n),t.apply(this,arguments)}return m(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||Fu(),t}}]),n}(jk),Mk=function(){function e(t,n){h(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _k(t)}return m(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Pb(this._delegate,function(e,t,n){var r=t,i=Nb("where",e);return jb._create(i,r,n)}(t,n,r)))}catch(i){throw Dk(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Pb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Nb("orderBy",e);return Mb._create(n,t)}(t,n)))}catch(r){throw Dk(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Pb(this._delegate,(Tg("limit",n=t),Lb._create("limit",n,"F"))))}catch(r){throw Dk(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Pb(this._delegate,(Tg("limitToLast",n=t),Lb._create("limitToLast",n,"L"))))}catch(r){throw Dk(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,Pb(this._delegate,Vb.apply(void 0,arguments)))}catch(t){throw Dk(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Pb(this._delegate,zb.apply(void 0,arguments)))}catch(t){throw Dk(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Pb(this._delegate,Ub.apply(void 0,arguments)))}catch(t){throw Dk(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Pb(this._delegate,qb.apply(void 0,arguments)))}catch(t){throw Dk(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Fg(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?ok(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Cg(e,Pg);var t=Cg(e.firestore,Ug),n=qg(t),r=new ik(t);return bg(n,e._query,{source:"server"}).then((function(n){return new tk(t,r,e,n)}))}(this._delegate):function(e){e=Cg(e,Pg);var t=Cg(e.firestore,Ug),n=qg(t),r=new ik(t);return Ab(e._query),bg(n,e._query).then((function(n){return new tk(t,r,e,n)}))}(this._delegate)).then((function(e){return new Fk(t.firestore,new tk(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ok(n),a=Pk(n,(function(t){return new Fk(e.firestore,new tk(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return ck(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Nk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Lk=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Rk(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Fk=function(){function e(t,n){h(this,e),this._firestore=t,this._delegate=n}return m(e,[{key:"query",get:function(){return new Mk(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Rk(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Lk(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Rk(n._firestore,r))}))}},{key:"isEqual",value:function(e){return rk(this._delegate,e._delegate)}}]),e}(),Vk=function(e){g(n,e);var t=x(n);function n(e,r){var i;return h(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return m(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Ak(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Ak(this.firestore,void 0===e?Mg(this._delegate):Mg(this._delegate,e))}catch(t){throw Dk(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Cg(e.firestore,Ug),r=Mg(e),i=Xb(e.converter,t);return fk(n,[sb(ub(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Pf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ak(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Lg(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Nk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Mk);function zk(e){return Cg(e,Og)}var Bk,Uk=function(){function e(){h(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(Jg,n)}return m(e,[{key:"isEqual",value:function(e){return(e=Tt(e))instanceof Jg&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(ss.keyField().canonicalString())}}]),e}(),qk=function(){function e(t){h(this,e),this._delegate=t}return m(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new fb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new cb("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new vb("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Gk={Firestore:Ik,GeoPoint:eb,Timestamp:rs,Blob:xk,Transaction:Ck,WriteBatch:Tk,DocumentReference:Ak,DocumentSnapshot:jk,Query:Mk,QueryDocumentSnapshot:Rk,QuerySnapshot:Fk,CollectionReference:Vk,FieldPath:Uk,FieldValue:qk,setLogLevel:function(e){var t;t=e,Ou.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Nt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Gk)))})(Bk=ir,(function(e,t){return new Ik(e,t,new Ek)})),Bk.registerVersion("@firebase/firestore-compat","0.3.11");var Kk=ir.initializeApp({apiKey:"AIzaSyCxRB7CmxoHg0VDc0OGAwGxPTAEghqtyr4",authDomain:"db-reservation-system.firebaseapp.com",projectId:"db-reservation-system",storageBucket:"db-reservation-system.appspot.com",messagingSenderId:"512836247348",appId:"1:512836247348:web:5eed85e826e4bdbf158f61"}).firestore(),Qk=function(e){var t=e.to,n=e.buttonName;return(0,Ye.jsx)("div",{children:(0,Ye.jsx)(Ke,{to:t,children:(0,Ye.jsx)("button",{className:"button",children:n})})})},Hk=n.p+"static/media/logo-restaurant.9c0fe5af34587861d850.png",Wk=function(){var e=(0,r.useContext)(Je).user;return(0,Ye.jsxs)("div",{className:"header-container",children:[(0,Ye.jsx)("img",{src:Hk,alt:""}),(0,Ye.jsx)("h1",{children:"Pizzeria Paradiso"}),(0,Ye.jsx)("div",{className:"userButton-container",children:null==e?(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(Qk,{to:"/login",buttonName:"Iniciar sesion"}),(0,Ye.jsx)(Qk,{to:"/register",buttonName:"Registrarme"})]}):(0,Ye.jsx)("div",{className:"hello-container",children:(0,Ye.jsxs)(Ke,{to:"/main",children:[(0,Ye.jsx)("p",{children:"Menu:"}),(0,Ye.jsx)("h3",{children:e.name})]})})})]})},Yk=function(){var e=(0,r.useContext)(rt).theme;return(0,Ye.jsx)("div",{className:"navBar-container",children:(0,Ye.jsxs)("ul",{className:"navBar-list",children:[(0,Ye.jsx)(Ke,{to:"/",className:"link",children:(0,Ye.jsx)("li",{className:e,children:"Inicio"})}),(0,Ye.jsx)(Ke,{to:"/about-us",className:"link",children:(0,Ye.jsx)("li",{className:e,children:"Sobre nosotros"})}),(0,Ye.jsx)(Ke,{to:"/comments",className:"link",children:(0,Ye.jsx)("li",{className:e,children:"Nuestros clientes"})})]})})},Xk=function(){var e=(0,r.useContext)(Je),t=e.user,n=e.logout;return(0,Ye.jsx)("div",{className:"clientMenu-container",children:null==t?null:(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsxs)("div",{className:"img-user-container",children:[(0,Ye.jsx)("img",{className:"user-icon",src:t.icon,alt:""}),(0,Ye.jsx)("p",{children:t.name})]}),"client"===t.role&&(0,Ye.jsx)(Ke,{to:"/main/reservations",children:"Reservas"}),"admin"===t.role&&(0,Ye.jsx)(Ke,{to:"/main/admin/reservations",children:"Reservas"}),(0,Ye.jsx)(Ke,{to:"/main/edit-profile",children:"Editar perfil"}),("admin"===t.role||"superAdmin"===t.role)&&(0,Ye.jsx)(Ke,{to:"/main/list-users",children:"admin"===t.role?"Consultar Clientes":"Administrar Usuarios"}),"client"===t.role&&(0,Ye.jsx)(Ke,{to:"/main/comment",children:"Deja tu comentario"}),(0,Ye.jsx)(Ke,{to:"/",onClick:n,children:"Cerrar sesion"})]})})},$k=function(){return(0,Ye.jsx)("div",{className:"client-container",children:(0,Ye.jsx)(Xk,{})})},Jk=function(){var e=(0,r.useContext)(Je).user;return(0,Ye.jsxs)("div",{className:"description-container",children:[(0,Ye.jsx)("h2",{children:"Somos autenticos en sabor"}),(0,Ye.jsx)("p",{children:"Deliciosas pizzas hechas a mano con ingredientes frescos y recetas caseras. Reserva tu mesa de forma r\xe1pida y f\xe1cil en nuestra p\xe1gina web."}),(0,Ye.jsx)("div",{className:"button-menu",children:(0,Ye.jsx)("button",{className:"button",children:(0,Ye.jsx)(Ke,{to:e?"/main":"/login",children:"\xa1Hace tu reserva!"})})})]})},Zk=function(){return(0,Ye.jsx)("div",{children:(0,Ye.jsx)("div",{className:"fixed-main",children:(0,Ye.jsx)(Jk,{})})})},ew=function(e){var t=e.inputName,n=e.placeholder,r=e.type,i=e.name,a=e.event,o=e.value,u=e.onBlur,s=e.validInput,c=e.errorMessage;return(0,Ye.jsxs)("div",{className:"input-base-container",children:[(0,Ye.jsx)("label",{children:t}),(0,Ye.jsx)("input",{type:r,name:i,placeholder:n,value:o,onChange:a,onBlur:u,className:"inputComponent"}),!1===s[i]?(0,Ye.jsx)("div",{className:"container-span",children:(0,Ye.jsx)("span",{className:"span-input",children:c})}):null]})},tw=function(e){var t=e.title,n=e.message,i=e.onClose,a=(0,r.useContext)(rt).theme;return(0,r.useEffect)((function(){var e=setTimeout((function(){i()}),2e3);return function(){return clearTimeout(e)}}),[i]),(0,Ye.jsx)("div",{className:"modal-overlay",children:(0,Ye.jsxs)("div",{className:"modal-container ".concat(a),children:[(0,Ye.jsxs)("div",{className:"header-modal",children:[(0,Ye.jsx)("button",{className:"modal-close",onClick:i,children:"X"}),(0,Ye.jsx)("h3",{className:"modal-title",children:t})]}),(0,Ye.jsx)("div",{className:"content-modal",children:(0,Ye.jsx)("p",{className:"modal-message",children:n})})]})})},nw=function(){var e=ke(),t=(0,r.useContext)(rt).theme,n=(0,r.useContext)(Je).login,i=c((0,r.useState)({email:"",password:""}),2),a=i[0],o=i[1],u=c((0,r.useState)({email:null,password:null}),2),s=u[0],l=u[1],f=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),h=f[0],d=f[1],v=function(){var t=nt(et().mark((function t(){var r,i;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kk.collection("users").where("email","==",a.email).get();case 3:(r=t.sent).empty?d({modalOpen:!0,modalTitle:"Error",modalMessage:"Email o contrase\xf1a incorrectos"}):(i=r.docs[0].data()).password===a.password?(n(i.email,i.role,i.name,i.lastName),e("/main")):d({modalOpen:!0,modalTitle:"Error",modalMessage:"Email o contrase\xf1a incorrectos"}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),d({modalOpen:!0,modalTitle:"Error",modalMessage:"Error durante el inicio de sesion:".concat(t.t0)});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),p=function(e){"email"===e.target.name?o(Ut(Ut({},a),{},at({},e.target.name,e.target.value.toLowerCase()))):o(Ut(Ut({},a),{},at({},e.target.name,e.target.value)))},m=function(e){var t=e.target.name;l(Ut(Ut({},s),{},at({},t,!!a[t])))};return(0,Ye.jsxs)("div",{className:t,children:[(0,Ye.jsx)("div",{className:"LogIn",children:(0,Ye.jsxs)("div",{className:"form-logIn",children:[(0,Ye.jsx)("h3",{className:"form-tittle form-all",children:"Iniciar Sesi\xf3n"}),(0,Ye.jsx)(ew,{inputName:"Email",placeholder:"example@gmail.com",type:"email",name:"email",value:a.email,event:p,onBlur:m,validInput:s,errorMessage:"Este campo es requerido"}),(0,Ye.jsx)(ew,{inputName:"Contrase\xf1a",placeholder:"*********",type:"password",name:"password",event:p,onBlur:m,validInput:s,errorMessage:"Este campo es requerido"}),(0,Ye.jsx)("div",{className:"form-button",children:(0,Ye.jsx)("button",{className:"button",onClick:function(e){e.preventDefault(),Object.values(s).some((function(e){return!e}))?d({modalOpen:!0,modalTitle:"Aviso",modalMessage:"Por Favor complete todos los campos correctamente"}):v()},children:"Iniciar sesi\xf3n"})}),(0,Ye.jsxs)("p",{children:["\xbfNo tienes cuenta?"," ",(0,Ye.jsx)(Ke,{to:"/register",className:"button-register",children:"Registrarse"})]})]})}),h.modalOpen&&(0,Ye.jsx)(tw,{title:h.modalTitle,message:h.modalMessage,onClose:function(){return d({modalOpen:!1})}})]})};function rw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var iw=["confirmPassword"],aw=["confirmPassword"],ow=function(e){var t=e.title,n=e.buttonTitle,i=e.data,a=e.register,o=ke(),u=(0,r.useContext)(Je),s=u.user,l=u.login,f={name:/^[a-zA-Z]{3,}$/,lastName:/^[a-zA-Z]{3,}$/,phone:/^\d{10}$/,email:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/},h=c((0,r.useState)({name:a?"":i.name,lastName:a?"":i.lastName,phone:a?"":i.phone,email:a?"":i.email,password:a?"":i.password,confirmPassword:a?"":i.password}),2),d=h[0],v=h[1],p=c((0,r.useState)({name:a?null:f.name.test(i.name),lastName:a?null:f.lastName.test(i.lastName),phone:a?null:f.phone.test(i.phone),email:a?null:f.email.test(i.email),password:a?null:f.password.test(i.password),confirmPassword:a?null:f.password.test(i.password)}),2),m=p[0],y=p[1],g=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),b=g[0],k=g[1],w=function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.confirmPassword,t=rw(d,iw),n=Ut(Ut({},t),{},{role:"client"}),e.next=4,Kk.collection("users").where("email","==",n.email).get();case 4:if(e.sent.empty){e.next=9;break}k({modalOpen:!0,modalTitle:"Aviso",modalMessage:"Ya existe un usuario con este email"}),e.next=11;break;case 9:return e.next=11,Kk.collection("users").doc().set(n).then((function(){k({modalOpen:!0,modalTitle:"Registrado",modalMessage:"Se ha registrado exitosamente!"}),setTimeout((function(){o("/login")}),2e3)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=nt(et().mark((function e(){var t,n,r,i;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.confirmPassword,t=rw(d,aw),n=Ut(Ut({},t),{},{role:s.role}),e.prev=2,e.next=5,Kk.collection("users").where("email","==",t.email).get();case 5:return r=e.sent,i=r.docs[0].ref,e.next=9,i.update(n);case 9:l(n.email,n.role,n.name,n.lastName),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),k({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al actualizar el usuario: ".concat(e.t0)});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),S=function(e){"password"===e.target.name||"confirmPassword"===e.target.name?v(Ut(Ut({},d),{},at({},e.target.name,e.target.value))):v(Ut(Ut({},d),{},at({},e.target.name,e.target.value.toLowerCase())))},E=function(e){var t=e.target.name;y(Ut(Ut({},m),{},at({},t,"confirmPassword"!==t?f[t].test(d[t]):d.confirmPassword===d.password)))};return(0,Ye.jsxs)("div",{className:"full-form-container",children:[(0,Ye.jsxs)("div",{className:"form-background",children:[(0,Ye.jsx)("h3",{className:"form-title",children:t}),(0,Ye.jsxs)("form",{className:"form",children:[(0,Ye.jsxs)("div",{className:"form-input",children:[(0,Ye.jsx)(ew,{inputName:"Nombre",name:"name",placeholder:a?"Juan":i.name,type:"text",value:d.name,event:S,onBlur:E,validInput:m,errorMessage:"El nombre debe contener solo letras y un minimo de 3 caracteres"}),(0,Ye.jsx)(ew,{inputName:"Apellido",name:"lastName",placeholder:a?"Perez":i.lastName,type:"text",value:d.lastName,event:S,onBlur:E,validInput:m,errorMessage:"El apellido debe contener solo letras y un minimo de 3 caracteres"}),(0,Ye.jsx)(ew,{inputName:"Numero de telefono",name:"phone",placeholder:a?"3413755012":i.phone,type:"number",value:d.phone,event:S,onBlur:E,validInput:m,errorMessage:"El numero de telefono debe estar compuesto por 10 numeros"})]}),(0,Ye.jsxs)("div",{className:a?"form-input":"form-input-hidden",children:[(0,Ye.jsx)(ew,{inputName:"Email",name:"email",placeholder:a?"example@gmail.com":i.email,type:"email",value:d.email,event:S,onBlur:E,validInput:m,errorMessage:"Email invalido: respete el formato(example@gmail.com)"}),(0,Ye.jsx)(ew,{inputName:"Contrase\xf1a",name:"password",placeholder:"*************",type:"password",input:d.password,event:S,onBlur:E,validInput:m,errorMessage:"La contrase\xf1a debe contener al menos una minuscula,una mayuscula, un digito y una lonigtud minima de 8 caracteres"}),(0,Ye.jsx)(ew,{inputName:"Repetir contrase\xf1a",name:"confirmPassword",placeholder:"*************",type:"password",input:d.confirmPassword,event:S,onBlur:E,validInput:m,errorMessage:"Las contrase\xf1as no coinciden"})]})]}),(0,Ye.jsxs)("div",{className:"form-button",children:[(0,Ye.jsx)("button",{className:"button",onClick:function(e){e.preventDefault(),Object.values(m).some((function(e){return!e}))?k({modalOpen:!0,modalTitle:"Aviso",modalMessage:"Por favor, complete correctamente todos los campos"}):a?(w(),v({name:"",lastName:"",phone:"",email:"",password:"",confirmPassword:""})):x().then((function(){k({modalOpen:!0,modalTitle:"Actualizado",modalMessage:"Se ha actualizado exitosamente el usuario!"}),setTimeout((function(){o("/main")}),2e3)}))},children:n}),(0,Ye.jsx)("p",{children:"Registrarse"===t?(0,Ye.jsxs)(Ye.Fragment,{children:["\xbfPose\xe9s una cuenta?"," ",(0,Ye.jsx)(Ke,{to:"/login",className:"button-login",children:"Inicia sesi\xf3n"})]}):null})]})]}),b.modalOpen&&(0,Ye.jsx)(tw,{title:b.modalTitle,message:b.modalMessage,onClose:function(){return k({modalOpen:!1})}})]})},uw=function(){var e=(0,r.useContext)(rt).theme;return(0,Ye.jsx)("div",{className:e,children:(0,Ye.jsx)("div",{className:"register",children:(0,Ye.jsx)(ow,{title:"Registrarse",buttonTitle:"Registrarse",link:"/",data:null,register:!0})})})},sw=n.p+"static/media/about-us.cdfcd65f06f81f05edf3.webp",cw=function(){return(0,Ye.jsxs)("div",{className:"about-us",children:[(0,Ye.jsxs)("div",{className:"about-us-description",children:[(0,Ye.jsx)("h3",{children:"\xbfQui\xe9nes somos?"}),(0,Ye.jsxs)("p",{children:['"En ',(0,Ye.jsx)("b",{children:"Pizzeria Paradiso"}),', nos enorgullece de ofrecer pizzas caseras deliciosas con ingredientes frescos y de alta calidad. Nos esforzamos por crear sabores aut\xe9nticos, ademas de brindar una experiencia gastron\xf3mica acogedora y \xfanica."']}),(0,Ye.jsx)("h3",{children:"Misi\xf3n:"}),(0,Ye.jsx)("p",{children:'"Ser reconocidos como el mejor lugar para disfrutar de una aut\xe9ntica pizza en nuestra comunidad, ofreciendo un servicio excepcional y una variedad de opciones de pizzas creativas y deliciosas."'}),(0,Ye.jsx)("h3",{children:"Visi\xf3n:"}),(0,Ye.jsx)("p",{children:'"Convertirnos en un referente local en el mundo de la pizza, conocidos por nuestra calidad, creatividad y pasi\xf3n por la excelencia culinaria."'})]}),(0,Ye.jsx)("img",{src:sw,alt:"",className:"about-us-img"})]})},lw=function(){var e=(0,r.useContext)(rt).theme;return(0,Ye.jsx)("div",{className:e,children:(0,Ye.jsx)(cw,{})})},fw=function(e){var t=e.rate,n=e.mode,r=e.setRating,i=function(e){var t=e.target.value;r(t)};return(0,Ye.jsx)("div",{className:"starRating-container",children:n?(0,Ye.jsx)("p",{children:function(){for(var e=[],n=1;n<=5;n++)n<=t?e.push((0,Ye.jsx)("span",{className:"colored-stars",children:"\u2605"},n)):e.push((0,Ye.jsx)("span",{className:"stars",children:"\u2605"},n));return e}()}):(0,Ye.jsx)("div",{className:"stars-container",children:(0,Ye.jsxs)("form",{action:"",children:[(0,Ye.jsx)("input",{type:"radio",name:"stars",id:"radio1",value:"5",onChange:i}),(0,Ye.jsx)("label",{for:"radio1",children:"\u2605"}),(0,Ye.jsx)("input",{type:"radio",name:"stars",id:"radio2",value:"4",onChange:i}),(0,Ye.jsx)("label",{for:"radio2",children:"\u2605"}),(0,Ye.jsx)("input",{type:"radio",name:"stars",id:"radio3",value:"3",onChange:i}),(0,Ye.jsx)("label",{for:"radio3",children:"\u2605"}),(0,Ye.jsx)("input",{type:"radio",name:"stars",id:"radio4",value:"2",onChange:i}),(0,Ye.jsx)("label",{for:"radio4",children:"\u2605"}),(0,Ye.jsx)("input",{type:"radio",name:"stars",id:"radio5",value:"1",onChange:i}),(0,Ye.jsx)("label",{for:"radio5",children:"\u2605"})]})})})},hw=function(e){var t=e.name,n=e.comment,r=e.rate,i=e.date;return(0,Ye.jsxs)("div",{className:"comentCard-container",children:[(0,Ye.jsxs)("div",{className:"title-user-container",children:[(0,Ye.jsxs)("div",{className:"icon-user-container",children:[(0,Ye.jsx)("img",{src:We,alt:""}),(0,Ye.jsx)("p",{children:t})]}),(0,Ye.jsx)("div",{className:"coment-rating-container",children:(0,Ye.jsx)("div",{children:(0,Ye.jsx)(fw,{rate:r,mode:!0})})})]}),(0,Ye.jsxs)("p",{className:"coment",children:['"',n,'"']}),(0,Ye.jsx)("p",{className:"date",children:function(){var e=new Date(1e3*i.seconds+i.nanoseconds/1e6),t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(r)}()})]})},dw=function(){var e=(0,r.useContext)(rt).theme,t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=c((0,r.useState)(0),2),o=a[0],u=a[1],s=c((0,r.useState)([]),2),l=s[0],h=s[1],d=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),v=d[0],p=d[1],m=function(){var e=nt(et().mark((function e(){var t,n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kk.collection("comments").orderBy("date","desc").get();case 3:t=e.sent,n=t.docs.map((function(e){return e.data()})),i(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p({modalOpen:!0,modalTitle:"Error",modalMessage:"Ocurri\xf3 un error al obtener los comentarios"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){m()}),[]),(0,r.useEffect)((function(){var e=o,t=o+2,r=n.slice(e,t+1);r.length<=2||h(r)}),[n,o]),(0,Ye.jsxs)("div",{className:e,children:[(0,Ye.jsxs)("div",{className:"comments",children:[(0,Ye.jsx)("h1",{children:"Nuestros clientes"}),(0,Ye.jsxs)("div",{className:"select-comments",children:[(0,Ye.jsx)("label",{htmlFor:"orderBy",children:"Ordenar por:"}),(0,Ye.jsxs)("select",{name:"orderBy",id:"orderBy",className:"button",onChange:function(e){var t=e.target.value,r=f(n);"worse"===t?r.sort((function(e,t){return e.rate-t.rate})):"better"===t&&r.sort((function(e,t){return t.rate-e.rate})),i(r),u(0)},children:[(0,Ye.jsx)("option",{value:"",children:"-- Selecionar --"}),(0,Ye.jsx)("option",{value:"better",children:"Mejor calificacion"}),(0,Ye.jsx)("option",{value:"worse",children:"Peor calificacion"})]})]}),(0,Ye.jsxs)("div",{className:"comment-box",children:[0===o?null:(0,Ye.jsx)("button",{className:"circle-button",onClick:function(){n.length<3||0===o||u((function(e){return e-1}))},children:"<"}),(0,Ye.jsx)("div",{className:"comment-card-box",children:l.map((function(e,t){return(0,Ye.jsx)(hw,{name:e.name,comment:e.comment,rate:e.rate,date:e.date},t)}))}),o+2===n.length-1?null:(0,Ye.jsx)("button",{className:"circle-button",onClick:function(){n.length<3||o===n.length-1||u((function(e){return e+1}))},children:">"})]})]}),v.modalOpen&&(0,Ye.jsx)(tw,{title:v.modalTitle,message:v.modalMessage,onClose:function(){return p({modalOpen:!1})}})]})};function vw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(n),!0).forEach((function(t){gw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mw(e){return mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(e)}function yw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||ww(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kw(e){return function(e){if(Array.isArray(e))return xw(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ww(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ww(e,t){if(e){if("string"===typeof e)return xw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xw(e,t):void 0}}function xw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sw=function(){},Ew={},Iw={},_w=null,Cw={mark:Sw,measure:Sw};try{"undefined"!==typeof window&&(Ew=window),"undefined"!==typeof document&&(Iw=document),"undefined"!==typeof MutationObserver&&(_w=MutationObserver),"undefined"!==typeof performance&&(Cw=performance)}catch(vI){}var Tw,Nw,Aw,Dw,Ow,Pw=(Ew.navigator||{}).userAgent,jw=void 0===Pw?"":Pw,Rw=Ew,Mw=Iw,Lw=_w,Fw=Cw,Vw=(Rw.document,!!Mw.documentElement&&!!Mw.head&&"function"===typeof Mw.addEventListener&&"function"===typeof Mw.createElement),zw=~jw.indexOf("MSIE")||~jw.indexOf("Trident/"),Bw="___FONT_AWESOME___",Uw=16,qw="fa",Gw="svg-inline--fa",Kw="data-fa-i2svg",Qw="data-fa-pseudo-element",Hw="data-fa-pseudo-element-pending",Ww="data-prefix",Yw="data-icon",Xw="fontawesome-i2svg",$w="async",Jw=["HTML","HEAD","STYLE","SCRIPT"],Zw=function(){try{return!0}catch(vI){return!1}}(),ex="classic",tx="sharp",nx=[ex,tx];function rx(e){return new Proxy(e,{get:function(e,t){return t in e?e[t]:e[ex]}})}var ix=rx((gw(Tw={},ex,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),gw(Tw,tx,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Tw)),ax=rx((gw(Nw={},ex,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),gw(Nw,tx,{solid:"fass",regular:"fasr",light:"fasl"}),Nw)),ox=rx((gw(Aw={},ex,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),gw(Aw,tx,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Aw)),ux=rx((gw(Dw={},ex,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),gw(Dw,tx,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Dw)),sx=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,cx="fa-layers-text",lx=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,fx=rx((gw(Ow={},ex,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),gw(Ow,tx,{900:"fass",400:"fasr",300:"fasl"}),Ow)),hx=[1,2,3,4,5,6,7,8,9,10],dx=hx.concat([11,12,13,14,15,16,17,18,19,20]),vx=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],px={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},mx=new Set;Object.keys(ax[ex]).map(mx.add.bind(mx)),Object.keys(ax[tx]).map(mx.add.bind(mx));var yx=[].concat(nx,kw(mx),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",px.GROUP,px.SWAP_OPACITY,px.PRIMARY,px.SECONDARY]).concat(hx.map((function(e){return"".concat(e,"x")}))).concat(dx.map((function(e){return"w-".concat(e)}))),gx=Rw.FontAwesomeConfig||{};if(Mw&&"function"===typeof Mw.querySelector){[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=bw(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=Mw.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(gx[r]=i)}))}var bx={styleDefault:"solid",familyDefault:"classic",cssPrefix:qw,replacementClass:Gw,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};gx.familyPrefix&&(gx.cssPrefix=gx.familyPrefix);var kx=pw(pw({},bx),gx);kx.autoReplaceSvg||(kx.observeMutations=!1);var wx={};Object.keys(bx).forEach((function(e){Object.defineProperty(wx,e,{enumerable:!0,set:function(t){kx[e]=t,xx.forEach((function(e){return e(wx)}))},get:function(){return kx[e]}})})),Object.defineProperty(wx,"familyPrefix",{enumerable:!0,set:function(e){kx.cssPrefix=e,xx.forEach((function(e){return e(wx)}))},get:function(){return kx.cssPrefix}}),Rw.FontAwesomeConfig=wx;var xx=[];var Sx=Uw,Ex={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};var Ix="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _x(){for(var e=12,t="";e-- >0;)t+=Ix[62*Math.random()|0];return t}function Cx(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Tx(e){return e.classList?Cx(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Nx(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ax(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Dx(e){return e.size!==Ex.size||e.x!==Ex.x||e.y!==Ex.y||e.rotate!==Ex.rotate||e.flipX||e.flipY}var Ox=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0s);\n          animation-delay: var(--fa-animation-delay, 0s);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    -webkit-transition-delay: 0s;\n            transition-delay: 0s;\n    -webkit-transition-duration: 0s;\n            transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function Px(){var e=qw,t=Gw,n=wx.cssPrefix,r=wx.replacementClass,i=Ox;if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var jx=!1;function Rx(){wx.autoAddCss&&!jx&&(!function(e){if(e&&Vw){var t=Mw.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Mw.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}Mw.head.insertBefore(t,r)}}(Px()),jx=!0)}var Mx={mixout:function(){return{dom:{css:Px,insertCss:Rx}}},hooks:function(){return{beforeDOMElementCreation:function(){Rx()},beforeI2svg:function(){Rx()}}}},Lx=Rw||{};Lx[Bw]||(Lx[Bw]={}),Lx[Bw].styles||(Lx[Bw].styles={}),Lx[Bw].hooks||(Lx[Bw].hooks={}),Lx[Bw].shims||(Lx[Bw].shims=[]);var Fx=Lx[Bw],Vx=[],zx=!1;function Bx(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?Nx(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Nx(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Bx).join(""),"</").concat(t,">")}function Ux(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}Vw&&((zx=(Mw.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mw.readyState))||Mw.addEventListener("DOMContentLoaded",(function e(){Mw.removeEventListener("DOMContentLoaded",e),zx=1,Vx.map((function(e){return e()}))})));var qx=function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o};function Gx(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function Kx(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Qx(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipHooks,r=void 0!==n&&n,i=Kx(t);"function"!==typeof Fx.hooks.addPack||r?Fx.styles[e]=pw(pw({},Fx.styles[e]||{}),i):Fx.hooks.addPack(e,Kx(t)),"fas"===e&&Qx("fa",t)}var Hx,Wx,Yx,Xx=Fx.styles,$x=Fx.shims,Jx=(gw(Hx={},ex,Object.values(ox[ex])),gw(Hx,tx,Object.values(ox[tx])),Hx),Zx=null,eS={},tS={},nS={},rS={},iS={},aS=(gw(Wx={},ex,Object.keys(ix[ex])),gw(Wx,tx,Object.keys(ix[tx])),Wx);function oS(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~yx.indexOf(n))?null:a}var uS=function(){var e=function(e){return qx(Xx,(function(t,n,r){return t[r]=qx(n,e,{}),t}),{})};eS=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),tS=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),iS=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Xx||wx.autoFetchSvg,n=qx($x,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});nS=n.names,rS=n.unicodes,Zx=dS(wx.styleDefault,{family:wx.familyDefault})};function sS(e,t){return(eS[e]||{})[t]}function cS(e,t){return(iS[e]||{})[t]}function lS(e){return nS[e]||{prefix:null,iconName:null}}function fS(){return Zx}!function(e){xx.push(e)}((function(e){Zx=dS(e.styleDefault,{family:wx.familyDefault})})),uS();var hS=function(){return{prefix:null,iconName:null,rest:[]}};function dS(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).family,n=void 0===t?ex:t,r=ix[n][e],i=ax[n][e]||ax[n][r],a=e in Fx.styles?e:null;return i||a||null}var vS=(gw(Yx={},ex,Object.keys(ox[ex])),gw(Yx,tx,Object.keys(ox[tx])),Yx);function pS(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).skipLookups,r=void 0!==n&&n,i=(gw(t={},ex,"".concat(wx.cssPrefix,"-").concat(ex)),gw(t,tx,"".concat(wx.cssPrefix,"-").concat(tx)),t),a=null,o=ex;(e.includes(i[ex])||e.some((function(e){return vS[ex].includes(e)})))&&(o=ex),(e.includes(i[tx])||e.some((function(e){return vS[tx].includes(e)})))&&(o=tx);var u=e.reduce((function(e,t){var n=oS(wx.cssPrefix,t);if(Xx[t]?(t=Jx[o].includes(t)?ux[o][t]:t,a=t,e.prefix=t):aS[o].indexOf(t)>-1?(a=t,e.prefix=dS(t,{family:o})):n?e.iconName=n:t!==wx.replacementClass&&t!==i[ex]&&t!==i[tx]&&e.rest.push(t),!r&&e.prefix&&e.iconName){var u="fa"===a?lS(e.iconName):{},s=cS(e.prefix,e.iconName);u.prefix&&(a=null),e.iconName=u.iconName||s||e.iconName,e.prefix=u.prefix||e.prefix,"far"!==e.prefix||Xx.far||!Xx.fas||wx.autoFetchSvg||(e.prefix="fas")}return e}),hS());return(e.includes("fa-brands")||e.includes("fab"))&&(u.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(u.prefix="fad"),u.prefix||o!==tx||!Xx.fass&&!wx.autoFetchSvg||(u.prefix="fass",u.iconName=cS(u.prefix,u.iconName)||u.iconName),"fa"!==u.prefix&&"fa"!==a||(u.prefix=fS()||"fas"),u}var mS=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=pw(pw({},e.definitions[t]||{}),i[t]),Qx(t,i[t]);var n=ox[ex][t];n&&Qx(n,i[t]),uS()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,u=o[2];e[i]||(e[i]={}),u.length>0&&u.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&yw(t.prototype,n),r&&yw(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yS=[],gS={},bS={},kS=Object.keys(bS);function wS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(gS[e]||[]).forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function xS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(gS[e]||[]).forEach((function(e){e.apply(null,n)}))}function SS(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return bS[e]?bS[e].apply(null,t):void 0}function ES(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||fS();if(t)return t=cS(n,t)||t,Ux(IS.definitions,n,t)||Ux(Fx.styles,n,t)}var IS=new mS,_S={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Vw?(xS("beforeI2svg",e),SS("pseudoElements2svg",e),SS("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===wx.autoReplaceSvg&&(wx.autoReplaceSvg=!0),wx.observeMutations=!0,function(e){Vw&&(zx?setTimeout(e,0):Vx.push(e))}((function(){NS({autoReplaceSvgRoot:t}),xS("watch",e)}))}},CS={icon:function(e){if(null===e)return null;if("object"===mw(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:cS(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=dS(e[0]);return{prefix:n,iconName:cS(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(wx.cssPrefix,"-"))>-1||e.match(sx))){var r=pS(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||fS(),iconName:cS(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=fS();return{prefix:i,iconName:cS(i,e)||e}}}},TS={noAuto:function(){wx.autoReplaceSvg=!1,wx.observeMutations=!1,xS("noAuto")},config:wx,dom:_S,parse:CS,library:IS,findIconDefinition:ES,toHtml:Bx},NS=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).autoReplaceSvgRoot,t=void 0===e?Mw:e;(Object.keys(Fx.styles).length>0||wx.autoFetchSvg)&&Vw&&wx.autoReplaceSvg&&TS.dom.i2svg({node:t})};function AS(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Bx(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(Vw){var t=Mw.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function DS(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,v=r.found?r:n,p=v.width,m=v.height,y="fak"===i,g=[wx.replacementClass,a?"".concat(wx.cssPrefix,"-").concat(a):""].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:pw(pw({},f.attributes),{},{"data-prefix":i,"data-icon":a,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(m)})},k=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/m*16*.0625,"em")}:{};d&&(b.attributes[Kw]=""),s&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||_x())},children:[s]}),delete b.attributes.title);var w=pw(pw({},b),{},{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:pw(pw({},k),f.styles)}),x=r.found&&n.found?SS("generateAbstractMask",w)||{children:[],attributes:{}}:SS("generateAbstractIcon",w)||{children:[],attributes:{}},S=x.children,E=x.attributes;return w.children=S,w.attributes=E,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(wx.cssPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:pw(pw({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Dx(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=Ax(pw(pw({},a),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function OS(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,u=e.watchable,s=void 0!==u&&u,c=pw(pw(pw({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});s&&(c[Kw]="");var l=pw({},o.styles);Dx(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?Uw:n,i=e.height,a=void 0===i?Uw:i,o=e.startCentered,u=void 0!==o&&o,s="";return s+=u&&zw?"translate(".concat(t.x/Sx-r/2,"em, ").concat(t.y/Sx-a/2,"em) "):u?"translate(calc(-50% + ".concat(t.x/Sx,"em), calc(-50% + ").concat(t.y/Sx,"em)) "):"translate(".concat(t.x/Sx,"em, ").concat(t.y/Sx,"em) "),s+="scale(".concat(t.size/Sx*(t.flipX?-1:1),", ").concat(t.size/Sx*(t.flipY?-1:1),") "),s+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var f=Ax(l);f.length>0&&(c.style=f);var h=[];return h.push({tag:"span",attributes:c,children:[t]}),a&&h.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),h}var PS=Fx.styles;function jS(e){var t=e[0],n=e[1],r=bw(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(wx.cssPrefix,"-").concat(px.GROUP)},children:[{tag:"path",attributes:{class:"".concat(wx.cssPrefix,"-").concat(px.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(wx.cssPrefix,"-").concat(px.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var RS={found:!1,width:512,height:512};function MS(e,t){var n=t;return"fa"===t&&null!==wx.styleDefault&&(t=fS()),new Promise((function(r,i){SS("missingIconAbstract");if("fa"===n){var a=lS(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&PS[t]&&PS[t][e])return r(jS(PS[t][e]));!function(e,t){Zw||wx.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(pw(pw({},RS),{},{icon:wx.showMissingIcons&&e&&SS("missingIconAbstract")||{}}))}))}var LS=function(){},FS=wx.measurePerformance&&Fw&&Fw.mark&&Fw.measure?Fw:{mark:LS,measure:LS},VS='FA "6.4.0"',zS=function(e){FS.mark("".concat(VS," ").concat(e," ends")),FS.measure("".concat(VS," ").concat(e),"".concat(VS," ").concat(e," begins"),"".concat(VS," ").concat(e," ends"))},BS={begin:function(e){return FS.mark("".concat(VS," ").concat(e," begins")),function(){return zS(e)}},end:zS},US=function(){};function qS(e){return"string"===typeof(e.getAttribute?e.getAttribute(Kw):null)}function GS(e){return Mw.createElementNS("http://www.w3.org/2000/svg",e)}function KS(e){return Mw.createElement(e)}function QS(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).ceFn,n=void 0===t?"svg"===e.tag?GS:KS:t;if("string"===typeof e)return Mw.createTextNode(e);var r=n(e.tag);return Object.keys(e.attributes||[]).forEach((function(t){r.setAttribute(t,e.attributes[t])})),(e.children||[]).forEach((function(e){r.appendChild(QS(e,{ceFn:n}))})),r}var HS={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(QS(e),t)})),null===t.getAttribute(Kw)&&wx.keepOriginalSource){var n=Mw.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~Tx(t).indexOf(wx.replacementClass))return HS.replace(e);var r=new RegExp("".concat(wx.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===wx.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Bx(e)})).join("\n");t.setAttribute(Kw,""),t.innerHTML=a}};function WS(e){e()}function YS(e,t){var n="function"===typeof t?t:US;if(0===e.length)n();else{var r=WS;wx.mutateApproach===$w&&(r=Rw.requestAnimationFrame||WS),r((function(){var t=!0===wx.autoReplaceSvg?HS.replace:HS[wx.autoReplaceSvg]||HS.replace,r=BS.begin("mutate");e.map(t),r(),n()}))}}var XS=!1;function $S(){XS=!0}function JS(){XS=!1}var ZS=null;function eE(e){if(Lw&&wx.observeMutations){var t=e.treeCallback,n=void 0===t?US:t,r=e.nodeCallback,i=void 0===r?US:r,a=e.pseudoElementsCallback,o=void 0===a?US:a,u=e.observeMutationsRoot,s=void 0===u?Mw:u;ZS=new Lw((function(e){if(!XS){var t=fS();Cx(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!qS(e.addedNodes[0])&&(wx.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&wx.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&qS(e.target)&&~vx.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Ww):null,n=e.getAttribute?e.getAttribute(Yw):null;return t&&n}(e.target)){var r=pS(Tx(e.target)),a=r.prefix,u=r.iconName;e.target.setAttribute(Ww,a||t),u&&e.target.setAttribute(Yw,u)}else(s=e.target)&&s.classList&&s.classList.contains&&s.classList.contains(wx.replacementClass)&&i(e.target);var s}))}})),Vw&&ZS.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function tE(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=pS(Tx(e));return i.prefix||(i.prefix=fS()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function(e,t){return(tS[e]||{})[t]}(i.prefix,e.innerText)||sS(i.prefix,Gx(e.innerText))),!i.iconName&&wx.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=e.firstChild.data)),i}function nE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=tE(e),r=n.iconName,i=n.prefix,a=n.rest,o=function(e){var t=Cx(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return wx.autoA11y&&(n?t["aria-labelledby"]="".concat(wx.replacementClass,"-title-").concat(r||_x()):(t["aria-hidden"]="true",t.focusable="false")),t}(e),u=wS("parseNodeAttributes",{},e),s=t.styleParser?function(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}(e):[];return pw({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:Ex,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:o}},u)}var rE=Fx.styles;function iE(e){var t="nest"===wx.autoReplaceSvg?nE(e,{styleParser:!1}):nE(e);return~t.extra.classes.indexOf(cx)?SS("generateLayersText",e,t):SS("generateSvgReplacementMutation",e,t)}var aE=new Set;function oE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Vw)return Promise.resolve();var n=Mw.documentElement.classList,r=function(e){return n.add("".concat(Xw,"-").concat(e))},i=function(e){return n.remove("".concat(Xw,"-").concat(e))},a=wx.autoFetchSvg?aE:nx.map((function(e){return"fa-".concat(e)})).concat(Object.keys(rE));a.includes("fa")||a.push("fa");var o=[".".concat(cx,":not([").concat(Kw,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Kw,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var u=[];try{u=Cx(e.querySelectorAll(o))}catch(vI){}if(!(u.length>0))return Promise.resolve();r("pending"),i("complete");var s=BS.begin("onTree"),c=u.reduce((function(e,t){try{var n=iE(t);n&&e.push(n)}catch(vI){Zw||"MissingIcon"===vI.name&&console.error(vI)}return e}),[]);return new Promise((function(e,n){Promise.all(c).then((function(n){YS(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),s(),e()}))})).catch((function(e){s(),n(e)}))}))}function uE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;iE(e).then((function(e){e&&YS([e],t)}))}nx.map((function(e){aE.add("fa-".concat(e))})),Object.keys(ix[ex]).map(aE.add.bind(aE)),Object.keys(ix[tx]).map(aE.add.bind(aE)),aE=kw(aE);var sE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Ex:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,v=t.classes,p=void 0===v?[]:v,m=t.attributes,y=void 0===m?{}:m,g=t.styles,b=void 0===g?{}:g;if(e){var k=e.prefix,w=e.iconName,x=e.icon;return AS(pw({type:"icon"},e),(function(){return xS("beforeDOMElementCreation",{iconDefinition:e,params:t}),wx.autoA11y&&(f?y["aria-labelledby"]="".concat(wx.replacementClass,"-title-").concat(d||_x()):(y["aria-hidden"]="true",y.focusable="false")),DS({icons:{main:jS(x),mask:u?jS(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:k,iconName:w,transform:pw(pw({},Ex),r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:b,classes:p}})}))}},cE={mixout:function(){return{icon:(e=sE,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:ES(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:ES(i||{})),e(r,pw(pw({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=oE,e.nodeCallback=uE,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?Mw:t,r=e.callback;return oE(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,u=t.symbol,s=t.mask,c=t.maskId,l=t.extra;return new Promise((function(t,f){Promise.all([MS(n,a),s.iconName?MS(s.iconName,s.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(s){var f=bw(s,2),h=f[0],d=f[1];t([e,DS({icons:{main:h,mask:d},prefix:a,iconName:n,transform:o,symbol:u,maskId:c,title:r,titleId:i,extra:l,watchable:!0})])})).catch(f)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=Ax(e.styles);return o.length>0&&(r.style=o),Dx(a)&&(t=SS("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},lE={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return AS({type:"layer"},(function(){xS("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(wx.cssPrefix,"-layers")].concat(kw(r)).join(" ")},children:n}]}))}}}},fE={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,u=void 0===o?{}:o,s=t.styles,c=void 0===s?{}:s;return AS({type:"counter",content:e},(function(){return xS("beforeDOMElementCreation",{content:e,params:t}),function(e){var t=e.content,n=e.title,r=e.extra,i=pw(pw(pw({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Ax(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}({content:e.toString(),title:r,extra:{attributes:u,styles:c,classes:["".concat(wx.cssPrefix,"-layers-counter")].concat(kw(a))}})}))}}}},hE={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?Ex:n,i=t.title,a=void 0===i?null:i,o=t.classes,u=void 0===o?[]:o,s=t.attributes,c=void 0===s?{}:s,l=t.styles,f=void 0===l?{}:l;return AS({type:"text",content:e},(function(){return xS("beforeDOMElementCreation",{content:e,params:t}),OS({content:e,transform:pw(pw({},Ex),r),title:a,extra:{attributes:c,styles:f,classes:["".concat(wx.cssPrefix,"-layers-text")].concat(kw(u))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(zw){var u=parseInt(getComputedStyle(e).fontSize,10),s=e.getBoundingClientRect();a=s.width/u,o=s.height/u}return wx.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,OS({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},dE=new RegExp('"',"ug"),vE=[1105920,1112319];function pE(e,t){var n="".concat(Hw).concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=Cx(e.children).filter((function(e){return e.getAttribute(Qw)===t}))[0],o=Rw.getComputedStyle(e,t),u=o.getPropertyValue("font-family").match(lx),s=o.getPropertyValue("font-weight"),c=o.getPropertyValue("content");if(a&&!u)return e.removeChild(a),r();if(u&&"none"!==c&&""!==c){var l=o.getPropertyValue("content"),f=~["Sharp"].indexOf(u[2])?tx:ex,h=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(u[2])?ax[f][u[2].toLowerCase()]:fx[f][s],d=function(e){var t=e.replace(dE,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=vE[0]&&n<=vE[1],i=2===t.length&&t[0]===t[1];return{value:Gx(i?t[0]:t),isSecondary:r||i}}(l),v=d.value,p=d.isSecondary,m=u[0].startsWith("FontAwesome"),y=sS(h,v),g=y;if(m){var b=function(e){var t=rS[e],n=sS("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(v);b.iconName&&b.prefix&&(y=b.iconName,h=b.prefix)}if(!y||p||a&&a.getAttribute(Ww)===h&&a.getAttribute(Yw)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:Ex,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},w=k.extra;w.attributes[Qw]=t,MS(y,h).then((function(i){var a=DS(pw(pw({},k),{},{icons:{main:i,mask:hS()},prefix:h,iconName:g,extra:w,watchable:!0})),o=Mw.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Bx(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function mE(e){return Promise.all([pE(e,"::before"),pE(e,"::after")])}function yE(e){return e.parentNode!==document.head&&!~Jw.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Qw)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function gE(e){if(Vw)return new Promise((function(t,n){var r=Cx(e.querySelectorAll("*")).filter(yE).map(mE),i=BS.begin("searchPseudoElements");$S(),Promise.all(r).then((function(){i(),JS(),t()})).catch((function(){i(),JS(),n()}))}))}var bE=!1,kE=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},wE={mixout:function(){return{parse:{transform:function(e){return kE(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=kE(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),s="rotate(".concat(n.rotate," 0 0)"),c={outer:a,inner:{transform:"".concat(o," ").concat(u," ").concat(s)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:pw({},c.outer),children:[{tag:"g",attributes:pw({},c.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:pw(pw({},t.icon.attributes),c.path)}]}]}}}},xE={x:0,y:0,width:"100%",height:"100%"};function SE(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var EE={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?pS(n.split(" ").map((function(e){return e.trim()}))):hS();return r.prefix||(r.prefix=fS()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:pw(pw({},xE),{},{fill:"white"})},v=c.children?{children:c.children.map(SE)}:{},p={tag:"g",attributes:pw({},h.inner),children:[SE(pw({tag:c.tag,attributes:pw(pw({},c.attributes),h.path)},v))]},m={tag:"g",attributes:pw({},h.outer),children:[p]},y="mask-".concat(o||_x()),g="clip-".concat(o||_x()),b={tag:"mask",attributes:pw(pw({},xE),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},k={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},b]};return n.push(k,{tag:"rect",attributes:pw({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},xE)}),{children:n,attributes:r}}}},IE={provides:function(e){var t=!1;Rw.matchMedia&&(t=Rw.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:pw(pw({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=pw(pw({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:pw(pw({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:pw(pw({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:pw(pw({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:pw(pw({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:pw(pw({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:pw(pw({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:pw(pw({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;yS=e,gS={},Object.keys(bS).forEach((function(e){-1===kS.indexOf(e)&&delete bS[e]})),yS.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===mw(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){gS[e]||(gS[e]=[]),gS[e].push(r[e])}))}e.provides&&e.provides(bS)}))}([Mx,cE,lE,fE,hE,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=gE,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?Mw:t;wx.searchPseudoElements&&gE(n)}}},{mixout:function(){return{dom:{unwatch:function(){$S(),bE=!0}}}},hooks:function(){return{bootstrap:function(){eE(wS("mutationObserverCallbacks",{}))},noAuto:function(){ZS&&ZS.disconnect()},watch:function(e){var t=e.observeMutationsRoot;bE?JS():eE(wS("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},wE,EE,IE,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:TS});var _E=TS.parse,CE=TS.icon,TE=n(7),NE=n.n(TE);function AE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AE(Object(n),!0).forEach((function(t){PE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function OE(e){return OE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OE(e)}function PE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function RE(e){return function(e){if(Array.isArray(e))return ME(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ME(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ME(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ME(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LE(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var FE=["style"];var VE=!1;try{VE=!0}catch(vI){}function zE(e){return e&&"object"===OE(e)&&e.prefix&&e.iconName&&e.icon?e:_E.icon?_E.icon(e):null===e?null:e&&"object"===OE(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function BE(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?PE({},e,t):{}}var UE=r.forwardRef((function(e,t){var n=e.icon,r=e.mask,i=e.symbol,a=e.className,o=e.title,u=e.titleId,s=e.maskId,c=zE(n),l=BE("classes",[].concat(RE(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,v=e.border,p=e.listItem,m=e.flip,y=e.size,g=e.rotation,b=e.pull,k=(PE(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":v,"fa-li":p,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),PE(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),PE(t,"fa-pull-".concat(b),"undefined"!==typeof b&&null!==b),PE(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(k).map((function(e){return k[e]?e:null})).filter((function(e){return e}))}(e)),RE(a.split(" ")))),f=BE("transform","string"===typeof e.transform?_E.transform(e.transform):e.transform),h=BE("mask",zE(r)),d=CE(c,DE(DE(DE(DE({},l),f),h),{},{symbol:i,title:o,titleId:u,maskId:s}));if(!d)return function(){var e;!VE&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",c),null;var v=d.abstract,p={ref:t};return Object.keys(e).forEach((function(t){UE.defaultProps.hasOwnProperty(t)||(p[t]=e[t])})),qE(v[0],p)}));UE.displayName="FontAwesomeIcon",UE.propTypes={beat:NE().bool,border:NE().bool,beatFade:NE().bool,bounce:NE().bool,className:NE().string,fade:NE().bool,flash:NE().bool,mask:NE().oneOfType([NE().object,NE().array,NE().string]),maskId:NE().string,fixedWidth:NE().bool,inverse:NE().bool,flip:NE().oneOf([!0,!1,"horizontal","vertical","both"]),icon:NE().oneOfType([NE().object,NE().array,NE().string]),listItem:NE().bool,pull:NE().oneOf(["right","left"]),pulse:NE().bool,rotation:NE().oneOf([0,90,180,270]),shake:NE().bool,size:NE().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:NE().bool,spinPulse:NE().bool,spinReverse:NE().bool,symbol:NE().oneOfType([NE().bool,NE().string]),title:NE().string,titleId:NE().string,transform:NE().oneOfType([NE().string,NE().object]),swapOpacity:NE().bool},UE.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var qE=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=r.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=LE(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{});break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[LE(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=jE(r,FE);return a.attrs.style=DE(DE({},a.attrs.style),u),t.apply(void 0,[n.tag,DE(DE({},a.attrs),s)].concat(RE(i)))}.bind(null,r.createElement),GE={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]},KE={prefix:"fab",iconName:"facebook",icon:[512,512,[62e3],"f09a","M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"]},QE={prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},HE=function(){return(0,Ye.jsxs)("div",{className:"footer-container",children:[(0,Ye.jsxs)("div",{className:"info-container",children:[(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("h2",{children:"Direcci\xf3n"}),(0,Ye.jsx)("p",{children:"Av. San Martin 340"})]}),(0,Ye.jsxs)("div",{className:"social-media-container",children:[(0,Ye.jsx)("h2",{children:"Seguinos en nuestras redes:"}),(0,Ye.jsxs)("div",{className:"social-media",children:[(0,Ye.jsx)(Ke,{children:(0,Ye.jsx)(UE,{icon:GE})}),(0,Ye.jsx)(Ke,{children:(0,Ye.jsx)(UE,{icon:KE})}),(0,Ye.jsx)(Ke,{children:(0,Ye.jsx)(UE,{icon:QE})})]})]}),(0,Ye.jsxs)("div",{className:"business-hours-container",children:[(0,Ye.jsx)("h2",{children:"Horarios de atenci\xf3n:"}),(0,Ye.jsx)("p",{children:"Todos los dias:"}),(0,Ye.jsx)("p",{children:"12 a 16 hs"}),(0,Ye.jsx)("p",{children:"20 a 00 hs"})]})]}),(0,Ye.jsx)("div",{className:"copyright",children:(0,Ye.jsx)("p",{children:"Daguiga Reservation System - \xa9 2023 All rights reserved. "})})]})},WE=function(e){var t=e.title,n=e.message,i=e.onConfirm,a=e.onCancel,o=(0,r.useContext)(rt).theme;return(0,Ye.jsx)("div",{className:"custom-modal-overlay",children:(0,Ye.jsxs)("div",{className:"custom-modal ".concat(o),children:[(0,Ye.jsx)("h3",{children:t}),(0,Ye.jsx)("p",{children:n}),(0,Ye.jsxs)("div",{className:"button-modal-container",children:[(0,Ye.jsx)("button",{onClick:i,className:"button",children:"Confirmar"}),(0,Ye.jsx)("button",{onClick:a,className:"button",children:"Cancelar"})]})]})})},YE=function(e){var t=e.userData,n=e.editProfile,i=ke(),a=(0,r.useContext)(rt).theme,o=(0,r.useContext)(Je),u=o.logout,s=o.user,l=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),f=l[0],h=l[1],d=c((0,r.useState)(!1),2),v=d[0],p=d[1],m=function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kk.collection("users").where("email","==",s.email).get();case 3:e.sent.docs.forEach((function(e){e.ref.delete()})),u(),i("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),h({modalOpen:!1,modalTitle:"Error",modalMessage:"Ocurrio un error al eliminar el usuario"});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,Ye.jsxs)("div",{className:"profileDataView-container",children:[(0,Ye.jsx)("h2",{children:"Mi perfil:"}),(0,Ye.jsxs)("div",{className:"data-container-background ".concat(a),children:[(0,Ye.jsxs)("div",{className:"data-container",children:[(0,Ye.jsx)("h3",{children:"Nombre:"}),(0,Ye.jsx)("p",{children:t.name})]}),(0,Ye.jsxs)("div",{className:"data-container",children:[(0,Ye.jsx)("h3",{children:"Apellido:"}),(0,Ye.jsx)("p",{children:t.lastName})]}),(0,Ye.jsxs)("div",{className:"data-container",children:[(0,Ye.jsx)("h3",{children:"Numero de telefono:"}),(0,Ye.jsx)("p",{children:t.phone})]}),(0,Ye.jsxs)("div",{className:"data-container",children:[(0,Ye.jsx)("h3",{children:"Email:"}),(0,Ye.jsx)("p",{children:t.email})]}),(0,Ye.jsxs)("div",{className:"button-data-container",children:[(0,Ye.jsx)("button",{onClick:function(){n()},className:"button",children:"Editar"}),(0,Ye.jsx)("button",{className:"button",onClick:function(){return p(!0)},children:"Eliminar usuario"}),v&&(0,Ye.jsx)(WE,{title:"Eliminar usuario",message:"\xbfEst\xe1s seguro de que deseas eliminar tu cuenta?",onConfirm:m,onCancel:function(){return p(!1)}})]})]}),f.modalOpen&&(0,Ye.jsx)(tw,{title:f.modalTitle,message:f.modalMessage,onClose:function(){return h({modalOpen:!1})}})]})},XE=function(e){var t=e.edit,n=(0,r.useContext)(Je).user,i=c((0,r.useState)(t),2),a=i[0],o=i[1],u=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),s=u[0],l=u[1],f=c((0,r.useState)([]),2),h=f[0],d=f[1];(0,r.useEffect)((function(){v(n.email)}),[n.email]);var v=function(){var e=nt(et().mark((function e(t){var n;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kk.collection("users").where("email","==",t).get();case 3:n=e.sent,d(n.docs[0].data()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),l({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al obtener los datos del usuario: ".concat(e.t0)});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return(0,Ye.jsxs)("div",{className:"client-container",children:[(0,Ye.jsx)(Xk,{}),(0,Ye.jsx)("div",{className:"editProfile-container",children:a?(0,Ye.jsx)(ow,{title:"Editar perfil",buttonTitle:"Guardar",link:"/edit-profile",data:h,register:!1}):(0,Ye.jsx)(YE,{userData:h,editProfile:function(){o(!0)}})}),s.modalOpen&&(0,Ye.jsx)(tw,{title:s.modalTitle,message:s.modalMessage,onClose:function(){return l({modalOpen:!1})}})]})},$E={prefix:"fas",iconName:"sun",icon:[512,512,[9728],"f185","M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"]},JE={prefix:"fas",iconName:"moon",icon:[384,512,[127769,9214],"f186","M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"]},ZE=function(){var e=(0,r.useContext)(rt),t=e.theme,n=e.toggleTheme;return(0,Ye.jsx)("div",{className:"themeButton-container",children:(0,Ye.jsx)("button",{onClick:n,className:"light"===t?"dark":"light",children:"light"===t?(0,Ye.jsx)(UE,{icon:JE}):(0,Ye.jsx)(UE,{icon:$E})})})},eI=function(){var e=ke(),t=(0,r.useContext)(Je).user,n=(0,r.useContext)(rt).theme,i=c((0,r.useState)(""),2),a=i[0],o=i[1],u=c((0,r.useState)(""),2),s=u[0],l=u[1],f=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),h=f[0],d=f[1],v=function(){var n=nt(et().mark((function n(){var r,i;return et().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==a.length){n.next=2;break}return n.abrupt("return",d({modalOpen:!0,modalTitle:"Aviso",modalMessage:"El comentario no puede estar vacio"}));case 2:if(0!==s.length){n.next=4;break}return n.abrupt("return",d({modalOpen:!0,modalTitle:"Aviso",modalMessage:"Recuerde marcar su calificaci\xf3n"}));case 4:return r=new Date,i={icon:t.icon,name:t.name,rate:s,comment:a,date:r},n.prev=6,n.next=9,Kk.collection("comments").add(i).then((function(){d({modalOpen:!0,modalTitle:"Enviado",modalMessage:"Comentario enviado exitosamente!"}),setTimeout((function(){e("/main")}),2e3)}));case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(6),d({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al enviar el comentario:".concat(n.t0)});case 14:case"end":return n.stop()}}),n,null,[[6,11]])})));return function(){return n.apply(this,arguments)}}();return(0,Ye.jsxs)("div",{className:"client-container",children:[(0,Ye.jsx)(Xk,{}),(0,Ye.jsxs)("div",{className:"comment-container",children:[(0,Ye.jsx)("h2",{children:"Deja tu comentario:"}),(0,Ye.jsxs)("div",{className:"comment-background ".concat(n),children:[(0,Ye.jsxs)("div",{className:"rating-container",children:[(0,Ye.jsx)("p",{children:"Califica tu experiencia"}),(0,Ye.jsx)(fw,{setRating:l})]}),(0,Ye.jsx)("textarea",{cols:"30",rows:"10",onChange:function(e){o(e.target.value)},placeholder:"Comparte detalles sobre tu estadia en Pizzeria Paradiso :)"}),(0,Ye.jsx)("div",{className:"button-comment-container",children:(0,Ye.jsx)("button",{className:"button",onClick:v,children:"Enviar"})})]})]}),h.modalOpen&&(0,Ye.jsx)(tw,{title:h.modalTitle,message:h.modalMessage,onClose:function(){return d({modalOpen:!1})}})]})},tI=function(e){var t=e.title,n=e.titleModalButton,i=e.finalMessage,a=e.user,o=e.modifyRole,u=(0,r.useContext)(rt).theme,s=c((0,r.useState)(!1),2),l=s[0],f=s[1],h=c((0,r.useState)(!1),2),d=h[0],v=h[1],p=c((0,r.useState)(""),2),m=p[0],y=p[1];return(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("button",{onClick:function(){f(!0)},className:"button",children:t}),l&&(0,Ye.jsx)("div",{className:"custom-modal-overlay",children:(0,Ye.jsxs)("div",{className:"custom-modal ".concat(u),children:[(0,Ye.jsx)("h3",{children:t}),(0,Ye.jsxs)("select",{name:"",id:"",onChange:function(e){y(e.target.value)},children:[(0,Ye.jsx)("option",{value:"",children:"Seleccionar"}),(0,Ye.jsx)("option",{value:"client",children:"client"}),(0,Ye.jsx)("option",{value:"admin",children:"admin"}),(0,Ye.jsx)("option",{value:"superAdmin",children:"superAdmin"})]}),(0,Ye.jsxs)("div",{className:"button-modal-container",children:[(0,Ye.jsx)("button",{onClick:function(){f(!1)},className:"button",children:"Cancelar"}),(0,Ye.jsx)("button",{onClick:function(){o(m,a),f(!1),v(!0)},className:"button",children:n})]})]})}),d?(0,Ye.jsx)("div",{className:"custom-modal-overlay",children:(0,Ye.jsxs)("div",{className:"custom-modal ".concat(u),children:[(0,Ye.jsx)("h3",{children:i}),(0,Ye.jsx)("div",{className:"button-modal-container",children:(0,Ye.jsx)("button",{onClick:function(){v(!1)},className:"button",children:"Cerrar"})})]})}):null]})},nI=function(e){var t=c((0,r.useState)([]),2),n=t[0],i=t[1],a=c((0,r.useState)(!0),2),o=a[0],u=a[1],s=c((0,r.useState)(""),2),l=s[0],f=s[1];return(0,r.useEffect)((function(){var t=function(){var t=nt(et().mark((function t(){return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Kk.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Ut(Ut({},e.data()),{},{id:e.id}))})),i(t)}));case 3:u(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),f(t.t0),u(!1);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),{data:n,loading:o,error:l}},rI=function(){var e=(0,r.useContext)(rt).theme,t=(0,r.useContext)(Je).user,n=nI("users"),i=n.data,a=n.loading,o=n.error,u=c((0,r.useState)([]),2),s=u[0],l=u[1],f=c((0,r.useState)(""),2),h=f[0],d=f[1],v=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),p=v[0],m=v[1],y=c((0,r.useState)(null),2),g=y[0],b=y[1],k=c((0,r.useState)(!1),2),w=k[0],x=k[1];(0,r.useEffect)((function(){!function(){if(!a){var e=i.filter((function(e){return"client"===e.role}));l(e)}}()}),[a,i]),(0,r.useEffect)((function(){o&&m({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al obtener los usuarios"})}),[o]);var S=function(){var e=nt(et().mark((function e(t,n){var r;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Kk.collection("users").where("email","==",n.email),e.next=4,r.get();case 4:e.sent.docs.forEach((function(e){e.ref.update({role:t})})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),m({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al actualizar el rol del usuario : ".concat(e.t0)});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=nt(et().mark((function e(t){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Kk.collection("users").doc(t).delete();case 3:m({modalOpen:!0,modalTitle:"Aviso",modalMessage:"Usuario eliminado con \xe9xito"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al eliminar el usuario: ".concat(e.t0)});case 9:x(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=h.toLowerCase().trim(),n=[];return n="superAdmin"===t.role?i.filter((function(t){return t.name.toLowerCase().includes(e)||t.lastName.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)})):s.filter((function(t){return t.name.toLowerCase().includes(e)||t.lastName.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)})),n}();return(0,Ye.jsxs)("div",{className:"list-container",children:[(0,Ye.jsx)("h2",{children:"admin"===t.role?"Clientes:":"Usuarios:"}),(0,Ye.jsxs)("div",{className:"listUser-container ".concat(e),children:[(0,Ye.jsxs)("div",{className:"search-container",children:[(0,Ye.jsx)("h2",{children:"Buscar:"}),(0,Ye.jsx)("input",{type:"text",value:h,onChange:function(e){var t=e.target.value;d(t)}})]}),(0,Ye.jsx)("div",{className:"listUser-table-container",children:a?(0,Ye.jsx)("p",{children:"Cargando..."}):0===s.length||0===i.length?(0,Ye.jsx)("p",{children:"No hay usuarios registrados"}):(0,Ye.jsxs)("table",{className:"listUser-table",children:[(0,Ye.jsx)("thead",{children:(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("th",{children:"Nombre y apellido:"}),(0,Ye.jsx)("th",{children:"Email:"}),(0,Ye.jsx)("th",{children:"admin"===t.role?"Tel\xe9fono:":"Rol:"}),"superAdmin"===t.role&&(0,Ye.jsx)("th",{})]})}),(0,Ye.jsx)("tbody",{className:"listUser-scrollbar",children:""!==h&&0===I.length?(0,Ye.jsx)("tr",{children:(0,Ye.jsx)("td",{colSpan:3,children:"No hay coincidencias"})}):I.map((function(e){return(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("td",{children:"".concat(e.name," ").concat(e.lastName)}),(0,Ye.jsx)("td",{children:e.email}),(0,Ye.jsx)("td",{children:"admin"===t.role?e.phone:e.role}),"admin"===t.role?null:(0,Ye.jsx)("td",{children:(0,Ye.jsxs)("div",{className:"reservation-buttons",children:[(0,Ye.jsx)(tI,{title:"Modificar rol",titleModalButton:"Guardar",finalMessage:"Rol modificado con \xe9xito",user:e,modifyRole:S}),(0,Ye.jsxs)("div",{children:[(0,Ye.jsx)("button",{className:"button",onClick:function(){b(e.id),x(!0)},children:"Eliminar usuario"}),w&&(0,Ye.jsx)(WE,{title:"Eliminar usuario",message:"\xbfEst\xe1s seguro de que deseas eliminar tu cuenta?",onConfirm:function(){return E(g)},onCancel:function(){return x(!1)}})]})]})})]},e.id)}))})]})})]}),p.modalOpen&&(0,Ye.jsx)(tw,{title:p.modalTitle,message:p.modalMessage,onClose:function(){return m({modalOpen:!1})}})]})},iI=function(){var e=(0,r.useContext)(Je).user;return(0,Ye.jsxs)("div",{className:"client-container",children:[(0,Ye.jsx)(Xk,{}),(0,Ye.jsx)("div",{className:"list-user-container",children:"admin"===e.role?(0,Ye.jsx)(rI,{typeUser:"clients"}):(0,Ye.jsx)(rI,{typeUser:"users"})})]})},aI=function(e){var t=e.listTurns,n=(0,r.useContext)(rt).theme,i=(0,r.useContext)(Je).user,a=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),o=a[0],u=a[1],s=(0,r.useMemo)((function(){var e=t,n=["12-14","14-16","20-22","22-24"],r=(new Date).toISOString().split("T")[0],i=(new Date).getHours(),a=(e=e.filter((function(e){var t=new Date(e.date).toISOString().split("T")[0],n=parseInt(e.hour.split("-")[0]);return t===r&&n>i||t>r}))).sort((function(e,t){var r=new Date(e.date),i=new Date(t.date);if(r<i)return-1;if(r>i)return 1;var a=e.hour,o=t.hour;return n.indexOf(a)-n.indexOf(o)}));return a}),[t]),l=function(){var e=nt(et().mark((function e(t,n,r){var a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.includes(i.email)){e.next=3;break}return u({modalOpen:!0,modalTitle:"Aviso",modalMessage:"Ya tienes una reserva para este turno."}),e.abrupt("return");case 3:return a=[].concat(f(r),[i.email]),e.next=6,Kk.collection("turns").doc(t).update({clients:a,capacity:n-1}).then((function(){u({modalOpen:!0,modalTitle:"Reserva exitosa",modalMessage:"Reserva realizada con \xe9xito"})})).catch((function(e){u({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al hacer la reserva: ".concat(e)})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=nt(et().mark((function e(t,n,r){var a;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.filter((function(e){return e!==i.email})),e.next=3,Kk.collection("turns").doc(t).update({clients:a,capacity:n+1}).then((function(){u({modalOpen:!0,modalTitle:"Cancelaci\xf3n exitosa",modalMessage:"Reserva cancelada con \xe9xito"})})).catch((function(e){u({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al cancelar la reserva: ".concat(e)})}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,Ye.jsxs)("div",{className:"table-turns-containeer",children:[(0,Ye.jsx)("h2",{children:"Reservas: "}),(0,Ye.jsx)("div",{className:"table-container",children:(0,Ye.jsx)("div",{className:"background-turns-container ".concat(n),children:(0,Ye.jsx)("div",{className:"client-turns-container",children:s.length?(0,Ye.jsx)("table",{className:"turns-table",children:(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)("thead",{children:(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("th",{children:"Fecha"}),(0,Ye.jsx)("th",{children:"D\xeda"}),(0,Ye.jsx)("th",{children:"Horario"}),(0,Ye.jsx)("th",{children:"Cantidad disponible"}),(0,Ye.jsx)("th",{children:"Disponibilidad"}),(0,Ye.jsx)("th",{})]})}),(0,Ye.jsx)("tbody",{children:s.map((function(e){return(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("td",{children:e.date}),(0,Ye.jsx)("td",{children:e.day}),(0,Ye.jsx)("td",{children:e.hour}),(0,Ye.jsx)("td",{children:e.capacity}),(0,Ye.jsx)("td",{children:e.available?"Turno disponible":"Turno no disponible"}),(0,Ye.jsx)("td",{children:e.clients.includes(i.email)?(0,Ye.jsx)("button",{className:"button",onClick:function(){return h(e.id,e.capacity,e.clients)},children:"Cancelar reserva"}):(0,Ye.jsx)("button",{className:"button",disabled:!e.available||0===e.capacity,onClick:function(){return l(e.id,e.capacity,e.clients)},children:e.clients.includes(i.email)?"Reservado":"Reservar"})})]},e.id)}))})]})}):(0,Ye.jsx)("p",{children:"Cargando..."})})})}),o.modalOpen&&(0,Ye.jsx)(tw,{title:o.modalTitle,message:o.modalMessage,onClose:function(){return u({modalOpen:!1})}})]})},oI=function(){var e=nI("turns"),t=e.data,n=e.loading,i=e.error,a=c((0,r.useState)(!1),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){i&&u(!0)}),[i]),(0,Ye.jsxs)("div",{className:"client-container",children:[(0,Ye.jsx)(Xk,{}),n?(0,Ye.jsx)("p",{children:"Cargando..."}):(0,Ye.jsx)(aI,{listTurns:t}),o&&(0,Ye.jsx)(tw,{title:"Error",message:"Error al obtener los turnos ".concat(i),onClose:function(){return u(!1)}})]})},uI=n.p+"static/media/confirm.c0134643077b88a7b9cd.png",sI=n.p+"static/media/cancel.804dbf0b50b0c3a72ac6.png",cI=function(e){var t=e.listTurns,n=(0,r.useContext)(rt).theme,i=c((0,r.useState)([]),2),a=i[0],o=i[1],u=c((0,r.useState)(!1),2),s=u[0],l=u[1],f=c((0,r.useState)(!1),2),h=f[0],d=f[1],v=c((0,r.useState)(0),2),p=v[0],m=v[1],y=c((0,r.useState)({modalOpen:!1,modalTitle:"",modalMessage:""}),2),g=y[0],b=y[1],k=c((0,r.useState)(!1),2),w=k[0],x=k[1],S=c((0,r.useState)(null),2),E=S[0],I=S[1],_=(0,r.useMemo)((function(){var e=["12-14","14-16","20-22","22-24"],n=t;if(!s){var r=(new Date).toISOString().split("T")[0],i=(new Date).getHours();n=n.filter((function(e){var t=new Date(e.date).toISOString().split("T")[0],n=parseInt(e.hour.split("-")[0]);return t===r&&n>i||t>r}))}var a=n.sort((function(t,n){var r=new Date(t.date),i=new Date(n.date);if(r<i)return-1;if(r>i)return 1;var a=t.hour,o=n.hour;return e.indexOf(a)-e.indexOf(o)}));return a}),[t,s]);(0,r.useEffect)((function(){o(_)}),[_]);var C=function(){var e=nt(et().mark((function e(){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kk.collection("turns").doc(E).update({available:!1}).then((function(){b({modalOpen:!0,modalTitle:"Turno eliminado",modalMessage:"Turno eliminado con \xe9xito."})})).catch((function(e){b({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al eliminar el turno:".concat(e," ")})}));case 2:x(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=nt(et().mark((function e(t,n){return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(p<n.length)){e.next=4;break}b({modalOpen:!0,modalTitle:"Aviso",modalMessage:"La capacidad no puede ser menor a la cantidad de clientes ya inscriptos"}),e.next=6;break;case 4:return e.next=6,Kk.collection("turns").doc(t).update({capacity:p-n.length}).then((function(){b({modalOpen:!0,modalTitle:"Turno actualizado",modalMessage:"Turno actualizado con \xe9xito."}),d(!1)})).catch((function(e){b({modalOpen:!0,modalTitle:"Error",modalMessage:"Error al actualizar el turno: ".concat(e)})}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){m(e.target.value)};return(0,Ye.jsxs)("div",{className:"table-turns-containeer",children:[(0,Ye.jsx)("h2",{children:"Reservas: "}),(0,Ye.jsxs)("div",{className:"table-container-turns ".concat(n),children:[(0,Ye.jsx)("button",{className:"button",onClick:function(){l(!s)},children:s?"Mostrar pr\xf3ximos turnos":"Mostrar todo el historial de reservas"}),(0,Ye.jsx)("div",{className:"turns-view-container",children:a.length?(0,Ye.jsx)("table",{className:"turns-table-turns",children:(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)("thead",{children:(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("th",{children:"Fecha"}),(0,Ye.jsx)("th",{children:"D\xeda"}),(0,Ye.jsx)("th",{children:"Horario"}),(0,Ye.jsx)("th",{children:"Cantidad disponible"}),(0,Ye.jsx)("th",{children:"Clientes anotados"}),(0,Ye.jsx)("th",{children:"Disponibilidad"}),(0,Ye.jsx)("th",{})]})}),(0,Ye.jsx)("tbody",{children:a.map((function(e){return(0,Ye.jsxs)("tr",{children:[(0,Ye.jsx)("td",{children:e.date}),(0,Ye.jsx)("td",{children:e.day}),(0,Ye.jsx)("td",{children:e.hour}),(0,Ye.jsx)("td",{children:h===e.id?(0,Ye.jsxs)("div",{className:"input-container-turns",children:[(0,Ye.jsx)("input",{type:"number",name:"capacity",value:p,onChange:N}),(0,Ye.jsx)("img",{src:uI,alt:"Editar",onClick:function(){return T(e.id,e.clients)}}),(0,Ye.jsx)("img",{src:sI,alt:"Cancelar",onClick:function(){return d(!1)}})]}):(0,Ye.jsxs)(Ye.Fragment,{children:[e.capacity,(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHHSURBVHgBzdQ9UsJAFAfwtwGtFQusJIo1prRCPIInEG4AnZ14AvUExNIOT4BCY2fsYSZaSQWlgwPrezBhopOP3U2Wyb8hM/vC/rLvJQw2kHKleskZNBfMOHed52lYHQPNIQjuYtM1B3CiQFoxfoiXKJA2TBAkDmSAptCMhK3hCVg5vngzrVMTNoGhJ6cTiCgxc3y75wdpnRnTqu0YfNGjk4goc+dshi17dbW/TTKgVNp0bNVqYWs0pNQynKJu+D9Qy7Y6OUiYo0r1Gjeyd4slmIw/XoJqpl/u92T8+Vgolg5xMIJOCE/m5yIRhiCMQZuu8bcWBaLgWjcAtJ4ZZYwf4kUBtIbQmhIGIbe48VXQmihor1hic2PW8iDLe0Ey5ZOzDs5IPb6S26P3QQMkInUy4hAKswr7ByYO7hMIRhgjB1EDCWHUIPKgfNSi9/VEiAVJwpjQbLI4SMxnXGSHh5HTr4uVZgSyKs8IhGL8g5gpQe5lIX8waUFwVG8Q0lS4ddUmH8SEBCHI0Om3QTEsKxCKkRXIEpMVyBIDCZImBJJg0oZQ8qAQxnhr6AzuIOXIYxhvIMQGDZFrE0JGmiAUcYxmCEUMswEI5Rd//vsyyvDPfQAAAABJRU5ErkJggg==",alt:"Editar turno",onClick:function(){return function(e){b({modalOpen:!0,modalTitle:"Aviso",modalMessage:"La capacidad se vera afectada por los clientes ya inscriptos"}),d(e)}(e.id)}})]})}),(0,Ye.jsxs)("td",{children:[" ",(0,Ye.jsxs)("select",{children:[(0,Ye.jsx)("option",{defaultValue:!0,children:"Ver clientes"}),e.clients.map((function(e){return(0,Ye.jsx)("option",{value:e,children:e},e)}))]})]}),(0,Ye.jsx)("td",{children:e.available?"Turno disponible":"Turno no disponible"}),e.available&&(0,Ye.jsx)(Ye.Fragment,{children:(0,Ye.jsx)("td",{children:(0,Ye.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAjCAYAAABsFtHvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF5SURBVHgBzZjfTcMwEId/l0SIx44Qqc+gMgCIDRiBrsAEiAnaDViBblCBhHjDiEf+yJ2A8IYg9eEUKSSp07gq5/K9NGpO+eLcnR2HsAbp4DjtitFqquEJ+Qb29w6HiOiyK44B9fpwfQAPInjCEZ37xNnRDPr7R6descWjjNnc2+MeAsLMZ1FiUxlaXECEE+/HLkFE+MywHfSi2ou8J8hTBIJgsid1q7BNyj63o+/FPB9BGhNPXh6nV8VhUvnbVjwNIQyTmdmfhbys9nWmxQ31ZYEHbzViuOV2XtYQhmLWTnloanLC711JkSNpzXmA2e7DLTdM7xBGqzvtlIemkXPxatdok1cngBDUR87SBVfvpn+U8zjWkKTRTY2CE36rIX5Dm/wLO6JyZpq1ykNTk0uv6cTd1R6s15fkLCivruVOeUiW5JJreo5cY5XcNNrhb9nNVsqTKB9DIO92Y3hhu6l2XefHgZ9t83zEoBQb7mCLNFrx5FndjJvnvgF2G3j10fkxCwAAAABJRU5ErkJggg==",alt:"Eliminar turno",onClick:function(){return function(e){x(!0),I(e)}(e.id)}})})})]},e.id)}))})]})}):(0,Ye.jsx)("div",{children:(0,Ye.jsx)("p",{children:"Cargando..."})})})]}),w&&(0,Ye.jsx)(WE,{title:"Eliminar Turno",message:"\xbfEst\xe1s seguro de que deseas eliminar el turno?",onConfirm:function(){return C()},onCancel:function(){return x(!1)}}),g.modalOpen&&(0,Ye.jsx)(tw,{title:g.modalTitle,message:g.modalMessage,onClose:function(){return b({modalOpen:!1})}})]})},lI=function(){var e=nI("turns"),t=e.data,n=e.loading,i=e.error,a=c((0,r.useState)(!1),2),o=a[0],u=a[1];return(0,r.useEffect)((function(){i&&u(!0)}),[i]),(0,Ye.jsxs)("div",{className:"client-container",children:[(0,Ye.jsx)(Xk,{}),n?(0,Ye.jsx)("p",{children:"Cargando..."}):(0,Ye.jsx)(cI,{listTurns:t}),o&&(0,Ye.jsx)(tw,{title:"Error",message:"Error al obtener los turnos ".concat(i),onClose:function(){return u(!1)}})]})},fI=n.p+"static/media/not-found.f4e54f4eddf6a09b3c4a.png",hI=function(){var e=(0,r.useContext)(rt).theme;return(0,Ye.jsxs)("div",{className:"notFound-container ".concat(e," "),children:[(0,Ye.jsx)("h2",{children:"Pagina no encontrada :("}),(0,Ye.jsx)("div",{className:"notFound-logo-container",children:(0,Ye.jsx)("img",{src:fI,alt:""})})]})};var dI=function(){var e=(0,r.useContext)(Je).user;(0,r.useEffect)((function(){t()}),[]);var t=function(){var e=nt(et().mark((function e(){var t,n,r,i,a,o,u,s,c,l;return et().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date,e.next=3,Kk.collection("turns").where("date",">=",t.toISOString().split("T")[0]).get();case 3:if(e.sent.empty){e.next=6;break}return e.abrupt("return");case 6:n=["Domingo","Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes","S\xe1bado"],r=["12-14","14-16","20-22","22-24"],i=0;case 9:if(!(i<14)){e.next=34;break}(a=new Date).setDate(a.getDate()+i),o=n[a.getDay()],u=I(r),e.prev=14,u.s();case 16:if((s=u.n()).done){e.next=23;break}return c=s.value,l={date:a.toISOString().split("T")[0],day:o,hour:c,clients:[],capacity:20,available:!0},e.next=21,Kk.collection("turns").add(l);case 21:e.next=16;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(14),u.e(e.t0);case 28:return e.prev=28,u.f(),e.finish(28);case 31:i++,e.next=9;break;case 34:case"end":return e.stop()}}),e,null,[[14,25,28,31]])})));return function(){return e.apply(this,arguments)}}();return(0,Ye.jsx)("div",{className:"App",children:(0,Ye.jsxs)(it,{children:[(0,Ye.jsx)(Wk,{}),(0,Ye.jsx)(Yk,{}),(0,Ye.jsxs)(Me,{children:[null!==e&&void 0!==e&&e.role?(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(je,{path:"/main",element:(0,Ye.jsx)($k,{})}),(0,Ye.jsx)(je,{path:"/main/edit-profile",element:(0,Ye.jsx)(XE,{edit:!1})})]}):(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(je,{path:"/login",element:(0,Ye.jsx)(nw,{})}),(0,Ye.jsx)(je,{path:"/register",element:(0,Ye.jsx)(uw,{})})]}),"client"===(null===e||void 0===e?void 0:e.role)&&(0,Ye.jsxs)(Ye.Fragment,{children:[(0,Ye.jsx)(je,{path:"/main/reservations",element:(0,Ye.jsx)(oI,{})}),(0,Ye.jsx)(je,{path:"/main/comment",element:(0,Ye.jsx)(eI,{})})]}),"admin"===(null===e||void 0===e?void 0:e.role)&&(0,Ye.jsx)(je,{path:"/main/admin/reservations",element:(0,Ye.jsx)(lI,{})}),("admin"===(null===e||void 0===e?void 0:e.role)||"superAdmin"===(null===e||void 0===e?void 0:e.role))&&(0,Ye.jsx)(je,{path:"/main/list-users",element:(0,Ye.jsx)(iI,{})}),(0,Ye.jsx)(je,{path:"/",element:(0,Ye.jsx)(Zk,{})}),(0,Ye.jsx)(je,{path:"/comments",element:(0,Ye.jsx)(dw,{})}),(0,Ye.jsx)(je,{path:"/about-us",element:(0,Ye.jsx)(lw,{})}),(0,Ye.jsx)(je,{path:"*",element:(0,Ye.jsx)(hI,{})})]}),(0,Ye.jsx)(ZE,{}),(0,Ye.jsx)(HE,{})]})})};Ze.createRoot(document.getElementById("root")).render((0,Ye.jsx)(Ue,{children:(0,Ye.jsx)($e,{children:(0,Ye.jsx)(dI,{})})}))}()}();
//# sourceMappingURL=main.28f71e7b.js.map